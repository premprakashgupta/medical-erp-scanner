(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var w0={exports:{}},rs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function hw(){if(Xg)return rs;Xg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:o,ref:i!==void 0?i:null,props:a}}return rs.Fragment=e,rs.jsx=t,rs.jsxs=t,rs}var Wg;function dw(){return Wg||(Wg=1,w0.exports=hw()),w0.exports}var Se=dw(),C0={exports:{}},ns={},S0={exports:{}},I0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function vw(){return Yg||(Yg=1,function(r){function e(Y,ie){var ve=Y.length;Y.push(ie);e:for(;0<ve;){var vt=ve-1>>>1,B=Y[vt];if(0<i(B,ie))Y[vt]=ie,Y[ve]=B,ve=vt;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ie=Y[0],ve=Y.pop();if(ve!==ie){Y[0]=ve;e:for(var vt=0,B=Y.length,ee=B>>>1;vt<ee;){var ue=2*(vt+1)-1,oe=Y[ue],_e=ue+1,Xe=Y[_e];if(0>i(oe,ve))_e<B&&0>i(Xe,oe)?(Y[vt]=Xe,Y[_e]=ve,vt=_e):(Y[vt]=oe,Y[ue]=ve,vt=ue);else if(_e<B&&0>i(Xe,ve))Y[vt]=Xe,Y[_e]=ve,vt=_e;else break e}}return ie}function i(Y,ie){var ve=Y.sortIndex-ie.sortIndex;return ve!==0?ve:Y.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();r.unstable_now=function(){return o.now()-u}}var l=[],c=[],d=1,v=null,g=3,y=!1,m=!1,A=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function b(Y){for(var ie=t(c);ie!==null;){if(ie.callback===null)n(c);else if(ie.startTime<=Y)n(c),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=t(c)}}function R(Y){if(A=!1,b(Y),!m)if(t(l)!==null)m=!0,M||(M=!0,te());else{var ie=t(c);ie!==null&&Le(R,ie.startTime-Y)}}var M=!1,L=-1,z=5,K=-1;function Z(){return E?!0:!(r.unstable_now()-K<z)}function le(){if(E=!1,M){var Y=r.unstable_now();K=Y;var ie=!0;try{e:{m=!1,A&&(A=!1,C(L),L=-1),y=!0;var ve=g;try{t:{for(b(Y),v=t(l);v!==null&&!(v.expirationTime>Y&&Z());){var vt=v.callback;if(typeof vt=="function"){v.callback=null,g=v.priorityLevel;var B=vt(v.expirationTime<=Y);if(Y=r.unstable_now(),typeof B=="function"){v.callback=B,b(Y),ie=!0;break t}v===t(l)&&n(l),b(Y)}else n(l);v=t(l)}if(v!==null)ie=!0;else{var ee=t(c);ee!==null&&Le(R,ee.startTime-Y),ie=!1}}break e}finally{v=null,g=ve,y=!1}ie=void 0}}finally{ie?te():M=!1}}}var te;if(typeof I=="function")te=function(){I(le)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ve=fe.port2;fe.port1.onmessage=le,te=function(){Ve.postMessage(null)}}else te=function(){w(le,0)};function Le(Y,ie){L=w(function(){Y(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var ve=g;g=ie;try{return Y()}finally{g=ve}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=g;g=Y;try{return ie()}finally{g=ve}},r.unstable_scheduleCallback=function(Y,ie,ve){var vt=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?vt+ve:vt):ve=vt,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ve+B,Y={id:d++,callback:ie,priorityLevel:Y,startTime:ve,expirationTime:B,sortIndex:-1},ve>vt?(Y.sortIndex=ve,e(c,Y),t(l)===null&&Y===t(c)&&(A?(C(L),L=-1):A=!0,Le(R,ve-vt))):(Y.sortIndex=B,e(l,Y),m||y||(m=!0,M||(M=!0,te()))),Y},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(Y){var ie=g;return function(){var ve=g;g=ie;try{return Y.apply(this,arguments)}finally{g=ve}}}}(I0)),I0}var jg;function pw(){return jg||(jg=1,S0.exports=vw()),S0.exports}var T0={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function gw(){if($g)return Ce;$g=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,A={};function E(B,ee,ue){this.props=B,this.context=ee,this.refs=A,this.updater=ue||y}E.prototype.isReactComponent={},E.prototype.setState=function(B,ee){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ee,"setState")},E.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=E.prototype;function C(B,ee,ue){this.props=B,this.context=ee,this.refs=A,this.updater=ue||y}var I=C.prototype=new w;I.constructor=C,m(I,E.prototype),I.isPureReactComponent=!0;var b=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function L(B,ee,ue,oe,_e,Xe){return ue=Xe.ref,{$$typeof:r,type:B,key:ee,ref:ue!==void 0?ue:null,props:Xe}}function z(B,ee){return L(B.type,ee,void 0,void 0,void 0,B.props)}function K(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function Z(B){var ee={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return ee[ue]})}var le=/\/+/g;function te(B,ee){return typeof B=="object"&&B!==null&&B.key!=null?Z(""+B.key):ee.toString(36)}function fe(){}function Ve(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(fe,fe):(B.status="pending",B.then(function(ee){B.status==="pending"&&(B.status="fulfilled",B.value=ee)},function(ee){B.status==="pending"&&(B.status="rejected",B.reason=ee)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Le(B,ee,ue,oe,_e){var Xe=typeof B;(Xe==="undefined"||Xe==="boolean")&&(B=null);var we=!1;if(B===null)we=!0;else switch(Xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(B.$$typeof){case r:case e:we=!0;break;case d:return we=B._init,Le(we(B._payload),ee,ue,oe,_e)}}if(we)return _e=_e(B),we=oe===""?"."+te(B,0):oe,b(_e)?(ue="",we!=null&&(ue=we.replace(le,"$&/")+"/"),Le(_e,ee,ue,"",function(Si){return Si})):_e!=null&&(K(_e)&&(_e=z(_e,ue+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(le,"$&/")+"/")+we)),ee.push(_e)),1;we=0;var en=oe===""?".":oe+":";if(b(B))for(var bt=0;bt<B.length;bt++)oe=B[bt],Xe=en+te(oe,bt),we+=Le(oe,ee,ue,Xe,_e);else if(bt=g(B),typeof bt=="function")for(B=bt.call(B),bt=0;!(oe=B.next()).done;)oe=oe.value,Xe=en+te(oe,bt++),we+=Le(oe,ee,ue,Xe,_e);else if(Xe==="object"){if(typeof B.then=="function")return Le(Ve(B),ee,ue,oe,_e);throw ee=String(B),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(B,ee,ue){if(B==null)return B;var oe=[],_e=0;return Le(B,oe,"","",function(Xe){return ee.call(ue,Xe,_e++)}),oe}function ie(B){if(B._status===-1){var ee=B._result;ee=ee(),ee.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=ee)}if(B._status===1)return B._result.default;throw B._result}var ve=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function vt(){}return Ce.Children={map:Y,forEach:function(B,ee,ue){Y(B,function(){ee.apply(this,arguments)},ue)},count:function(B){var ee=0;return Y(B,function(){ee++}),ee},toArray:function(B){return Y(B,function(ee){return ee})||[]},only:function(B){if(!K(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ce.Component=E,Ce.Fragment=t,Ce.Profiler=i,Ce.PureComponent=C,Ce.StrictMode=n,Ce.Suspense=l,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},Ce.cache=function(B){return function(){return B.apply(null,arguments)}},Ce.cloneElement=function(B,ee,ue){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var oe=m({},B.props),_e=B.key,Xe=void 0;if(ee!=null)for(we in ee.ref!==void 0&&(Xe=void 0),ee.key!==void 0&&(_e=""+ee.key),ee)!M.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(oe[we]=ee[we]);var we=arguments.length-2;if(we===1)oe.children=ue;else if(1<we){for(var en=Array(we),bt=0;bt<we;bt++)en[bt]=arguments[bt+2];oe.children=en}return L(B.type,_e,void 0,void 0,Xe,oe)},Ce.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},Ce.createElement=function(B,ee,ue){var oe,_e={},Xe=null;if(ee!=null)for(oe in ee.key!==void 0&&(Xe=""+ee.key),ee)M.call(ee,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=ee[oe]);var we=arguments.length-2;if(we===1)_e.children=ue;else if(1<we){for(var en=Array(we),bt=0;bt<we;bt++)en[bt]=arguments[bt+2];_e.children=en}if(B&&B.defaultProps)for(oe in we=B.defaultProps,we)_e[oe]===void 0&&(_e[oe]=we[oe]);return L(B,Xe,void 0,void 0,null,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(B){return{$$typeof:u,render:B}},Ce.isValidElement=K,Ce.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:ie}},Ce.memo=function(B,ee){return{$$typeof:c,type:B,compare:ee===void 0?null:ee}},Ce.startTransition=function(B){var ee=R.T,ue={};R.T=ue;try{var oe=B(),_e=R.S;_e!==null&&_e(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(vt,ve)}catch(Xe){ve(Xe)}finally{R.T=ee}},Ce.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ce.use=function(B){return R.H.use(B)},Ce.useActionState=function(B,ee,ue){return R.H.useActionState(B,ee,ue)},Ce.useCallback=function(B,ee){return R.H.useCallback(B,ee)},Ce.useContext=function(B){return R.H.useContext(B)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(B,ee){return R.H.useDeferredValue(B,ee)},Ce.useEffect=function(B,ee,ue){var oe=R.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(B,ee)},Ce.useId=function(){return R.H.useId()},Ce.useImperativeHandle=function(B,ee,ue){return R.H.useImperativeHandle(B,ee,ue)},Ce.useInsertionEffect=function(B,ee){return R.H.useInsertionEffect(B,ee)},Ce.useLayoutEffect=function(B,ee){return R.H.useLayoutEffect(B,ee)},Ce.useMemo=function(B,ee){return R.H.useMemo(B,ee)},Ce.useOptimistic=function(B,ee){return R.H.useOptimistic(B,ee)},Ce.useReducer=function(B,ee,ue){return R.H.useReducer(B,ee,ue)},Ce.useRef=function(B){return R.H.useRef(B)},Ce.useState=function(B){return R.H.useState(B)},Ce.useSyncExternalStore=function(B,ee,ue){return R.H.useSyncExternalStore(B,ee,ue)},Ce.useTransition=function(){return R.H.useTransition()},Ce.version="19.1.0",Ce}var Zg;function td(){return Zg||(Zg=1,T0.exports=gw()),T0.exports}var b0={exports:{}},Tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function yw(){if(Kg)return Tr;Kg=1;var r=td();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:l,containerInfo:c,implementation:d}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Tr.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(l,c,null,d)},Tr.flushSync=function(l){var c=o.T,d=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=c,n.p=d,n.d.f()}},Tr.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},Tr.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Tr.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,v=u(d,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:v,integrity:g,fetchPriority:y}):d==="script"&&n.d.X(l,{crossOrigin:v,integrity:g,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Tr.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=u(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},Tr.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,v=u(d,c.crossOrigin);n.d.L(l,d,{crossOrigin:v,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Tr.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=u(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},Tr.requestFormReset=function(l){n.d.r(l)},Tr.unstable_batchedUpdates=function(l,c){return l(c)},Tr.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},Tr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Tr.version="19.1.0",Tr}var qg;function xw(){if(qg)return b0.exports;qg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),b0.exports=yw(),b0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function _w(){if(Qg)return ns;Qg=1;var r=pw(),e=td(),t=xw();function n(s){var f="https://react.dev/errors/"+s;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var f=s,h=s;if(s.alternate)for(;f.return;)f=f.return;else{s=f;do f=s,(f.flags&4098)!==0&&(h=f.return),s=f.return;while(s)}return f.tag===3?h:null}function o(s){if(s.tag===13){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(n(188))}function l(s){var f=s.alternate;if(!f){if(f=a(s),f===null)throw Error(n(188));return f!==s?null:s}for(var h=s,p=f;;){var x=h.return;if(x===null)break;var _=x.alternate;if(_===null){if(p=x.return,p!==null){h=p;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===h)return u(x),s;if(_===p)return u(x),f;_=_.sibling}throw Error(n(188))}if(h.return!==p.return)h=x,p=_;else{for(var S=!1,T=x.child;T;){if(T===h){S=!0,h=x,p=_;break}if(T===p){S=!0,p=x,h=_;break}T=T.sibling}if(!S){for(T=_.child;T;){if(T===h){S=!0,h=_,p=x;break}if(T===p){S=!0,p=_,h=x;break}T=T.sibling}if(!S)throw Error(n(189))}}if(h.alternate!==p)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:f}function c(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s;for(s=s.child;s!==null;){if(f=c(s),f!==null)return f;s=s.sibling}return null}var d=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),I=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var fe=Symbol.for("react.client.reference");function Ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===fe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case m:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case M:return"SuspenseList";case K:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case y:return"Portal";case I:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case b:var f=s.render;return s=s.displayName,s||(s=f.displayName||f.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return f=s.displayName||null,f!==null?f:Ve(s.type)||"Memo";case z:f=s._payload,s=s._init;try{return Ve(s(f))}catch{}}return null}var Le=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},vt=[],B=-1;function ee(s){return{current:s}}function ue(s){0>B||(s.current=vt[B],vt[B]=null,B--)}function oe(s,f){B++,vt[B]=s.current,s.current=f}var _e=ee(null),Xe=ee(null),we=ee(null),en=ee(null);function bt(s,f){switch(oe(we,f),oe(Xe,s),oe(_e,null),f.nodeType){case 9:case 11:s=(s=f.documentElement)&&(s=s.namespaceURI)?xg(s):0;break;default:if(s=f.tagName,f=f.namespaceURI)f=xg(f),s=_g(f,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ue(_e),oe(_e,s)}function Si(){ue(_e),ue(Xe),ue(we)}function sc(s){s.memoizedState!==null&&oe(en,s);var f=_e.current,h=_g(f,s.type);f!==h&&(oe(Xe,s),oe(_e,h))}function Xs(s){Xe.current===s&&(ue(_e),ue(Xe)),en.current===s&&(ue(en),qu._currentValue=ve)}var fc=Object.prototype.hasOwnProperty,lc=r.unstable_scheduleCallback,cc=r.unstable_cancelCallback,Xm=r.unstable_shouldYield,Wm=r.unstable_requestPaint,Xn=r.unstable_now,Ym=r.unstable_getCurrentPriorityLevel,Qd=r.unstable_ImmediatePriority,Jd=r.unstable_UserBlockingPriority,Ws=r.unstable_NormalPriority,jm=r.unstable_LowPriority,ev=r.unstable_IdlePriority,$m=r.log,Zm=r.unstable_setDisableYieldValue,au=null,tn=null;function Ii(s){if(typeof $m=="function"&&Zm(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(au,s)}catch{}}var rn=Math.clz32?Math.clz32:Qm,Km=Math.log,qm=Math.LN2;function Qm(s){return s>>>=0,s===0?32:31-(Km(s)/qm|0)|0}var Ys=256,js=4194304;function ca(s){var f=s&42;if(f!==0)return f;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function $s(s,f,h){var p=s.pendingLanes;if(p===0)return 0;var x=0,_=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var T=p&134217727;return T!==0?(p=T&~_,p!==0?x=ca(p):(S&=T,S!==0?x=ca(S):h||(h=T&~s,h!==0&&(x=ca(h))))):(T=p&~_,T!==0?x=ca(T):S!==0?x=ca(S):h||(h=p&~s,h!==0&&(x=ca(h)))),x===0?0:f!==0&&f!==x&&(f&_)===0&&(_=x&-x,h=f&-f,_>=h||_===32&&(h&4194048)!==0)?f:x}function ou(s,f){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&f)===0}function Jm(s,f){switch(s){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tv(){var s=Ys;return Ys<<=1,(Ys&4194048)===0&&(Ys=256),s}function rv(){var s=js;return js<<=1,(js&62914560)===0&&(js=4194304),s}function hc(s){for(var f=[],h=0;31>h;h++)f.push(s);return f}function uu(s,f){s.pendingLanes|=f,f!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function eA(s,f,h,p,x,_){var S=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var T=s.entanglements,N=s.expirationTimes,U=s.hiddenUpdates;for(h=S&~h;0<h;){var q=31-rn(h),J=1<<q;T[q]=0,N[q]=-1;var G=U[q];if(G!==null)for(U[q]=null,q=0;q<G.length;q++){var X=G[q];X!==null&&(X.lane&=-536870913)}h&=~J}p!==0&&nv(s,p,0),_!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=_&~(S&~f))}function nv(s,f,h){s.pendingLanes|=f,s.suspendedLanes&=~f;var p=31-rn(f);s.entangledLanes|=f,s.entanglements[p]=s.entanglements[p]|1073741824|h&4194090}function iv(s,f){var h=s.entangledLanes|=f;for(s=s.entanglements;h;){var p=31-rn(h),x=1<<p;x&f|s[p]&f&&(s[p]|=f),h&=~x}}function dc(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vc(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function av(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:kg(s.type))}function tA(s,f){var h=ie.p;try{return ie.p=s,f()}finally{ie.p=h}}var Ti=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Ti,Vr="__reactProps$"+Ti,$a="__reactContainer$"+Ti,pc="__reactEvents$"+Ti,rA="__reactListeners$"+Ti,nA="__reactHandles$"+Ti,ov="__reactResources$"+Ti,su="__reactMarker$"+Ti;function gc(s){delete s[Sr],delete s[Vr],delete s[pc],delete s[rA],delete s[nA]}function Za(s){var f=s[Sr];if(f)return f;for(var h=s.parentNode;h;){if(f=h[$a]||h[Sr]){if(h=f.alternate,f.child!==null||h!==null&&h.child!==null)for(s=wg(s);s!==null;){if(h=s[Sr])return h;s=wg(s)}return f}s=h,h=s.parentNode}return null}function Ka(s){if(s=s[Sr]||s[$a]){var f=s.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return s}return null}function fu(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s.stateNode;throw Error(n(33))}function qa(s){var f=s[ov];return f||(f=s[ov]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function er(s){s[su]=!0}var uv=new Set,sv={};function ha(s,f){Qa(s,f),Qa(s+"Capture",f)}function Qa(s,f){for(sv[s]=f,s=0;s<f.length;s++)uv.add(f[s])}var iA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fv={},lv={};function aA(s){return fc.call(lv,s)?!0:fc.call(fv,s)?!1:iA.test(s)?lv[s]=!0:(fv[s]=!0,!1)}function Zs(s,f,h){if(aA(f))if(h===null)s.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(f);return;case"boolean":var p=f.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(f);return}}s.setAttribute(f,""+h)}}function Ks(s,f,h){if(h===null)s.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttribute(f,""+h)}}function ri(s,f,h,p){if(p===null)s.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(f,h,""+p)}}var yc,cv;function Ja(s){if(yc===void 0)try{throw Error()}catch(h){var f=h.stack.trim().match(/\n( *(at )?)/);yc=f&&f[1]||"",cv=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yc+s+cv}var xc=!1;function _c(s,f){if(!s||xc)return"";xc=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(f){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(X){var G=X}Reflect.construct(s,[],J)}else{try{J.call()}catch(X){G=X}s.call(J.prototype)}}else{try{throw Error()}catch(X){G=X}(J=s())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),S=_[0],T=_[1];if(S&&T){var N=S.split(`
`),U=T.split(`
`);for(x=p=0;p<N.length&&!N[p].includes("DetermineComponentFrameRoot");)p++;for(;x<U.length&&!U[x].includes("DetermineComponentFrameRoot");)x++;if(p===N.length||x===U.length)for(p=N.length-1,x=U.length-1;1<=p&&0<=x&&N[p]!==U[x];)x--;for(;1<=p&&0<=x;p--,x--)if(N[p]!==U[x]){if(p!==1||x!==1)do if(p--,x--,0>x||N[p]!==U[x]){var q=`
`+N[p].replace(" at new "," at ");return s.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",s.displayName)),q}while(1<=p&&0<=x);break}}}finally{xc=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ja(h):""}function oA(s){switch(s.tag){case 26:case 27:case 5:return Ja(s.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return _c(s.type,!1);case 11:return _c(s.type.render,!1);case 1:return _c(s.type,!0);case 31:return Ja("Activity");default:return""}}function hv(s){try{var f="";do f+=oA(s),s=s.return;while(s);return f}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function dv(s){var f=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function uA(s){var f=dv(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,f),p=""+s[f];if(!s.hasOwnProperty(f)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,_=h.set;return Object.defineProperty(s,f,{configurable:!0,get:function(){return x.call(this)},set:function(S){p=""+S,_.call(this,S)}}),Object.defineProperty(s,f,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){s._valueTracker=null,delete s[f]}}}}function qs(s){s._valueTracker||(s._valueTracker=uA(s))}function vv(s){if(!s)return!1;var f=s._valueTracker;if(!f)return!0;var h=f.getValue(),p="";return s&&(p=dv(s)?s.checked?"true":"false":s.value),s=p,s!==h?(f.setValue(s),!0):!1}function Qs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var sA=/[\n"\\]/g;function hn(s){return s.replace(sA,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function mc(s,f,h,p,x,_,S,T){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),f!=null?S==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+cn(f)):s.value!==""+cn(f)&&(s.value=""+cn(f)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),f!=null?Ac(s,S,cn(f)):h!=null?Ac(s,S,cn(h)):p!=null&&s.removeAttribute("value"),x==null&&_!=null&&(s.defaultChecked=!!_),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+cn(T):s.removeAttribute("name")}function pv(s,f,h,p,x,_,S,T){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),f!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||f!=null))return;h=h!=null?""+cn(h):"",f=f!=null?""+cn(f):h,T||f===s.value||(s.value=f),s.defaultValue=f}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=T?s.checked:!!p,s.defaultChecked=!!p,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function Ac(s,f,h){f==="number"&&Qs(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function eo(s,f,h,p){if(s=s.options,f){f={};for(var x=0;x<h.length;x++)f["$"+h[x]]=!0;for(h=0;h<s.length;h++)x=f.hasOwnProperty("$"+s[h].value),s[h].selected!==x&&(s[h].selected=x),x&&p&&(s[h].defaultSelected=!0)}else{for(h=""+cn(h),f=null,x=0;x<s.length;x++){if(s[x].value===h){s[x].selected=!0,p&&(s[x].defaultSelected=!0);return}f!==null||s[x].disabled||(f=s[x])}f!==null&&(f.selected=!0)}}function gv(s,f,h){if(f!=null&&(f=""+cn(f),f!==s.value&&(s.value=f),h==null)){s.defaultValue!==f&&(s.defaultValue=f);return}s.defaultValue=h!=null?""+cn(h):""}function yv(s,f,h,p){if(f==null){if(p!=null){if(h!=null)throw Error(n(92));if(Le(p)){if(1<p.length)throw Error(n(93));p=p[0]}h=p}h==null&&(h=""),f=h}h=cn(f),s.defaultValue=h,p=s.textContent,p===h&&p!==""&&p!==null&&(s.value=p)}function to(s,f){if(f){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=f;return}}s.textContent=f}var fA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xv(s,f,h){var p=f.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="":p?s.setProperty(f,h):typeof h!="number"||h===0||fA.has(f)?f==="float"?s.cssFloat=h:s[f]=(""+h).trim():s[f]=h+"px"}function _v(s,f,h){if(f!=null&&typeof f!="object")throw Error(n(62));if(s=s.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||f!=null&&f.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var x in f)p=f[x],f.hasOwnProperty(x)&&h[x]!==p&&xv(s,x,p)}else for(var _ in f)f.hasOwnProperty(_)&&xv(s,_,f[_])}function Ec(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(s){return cA.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var wc=null;function Cc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ro=null,no=null;function mv(s){var f=Ka(s);if(f&&(s=f.stateNode)){var h=s[Vr]||null;e:switch(s=f.stateNode,f.type){case"input":if(mc(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),f=h.name,h.type==="radio"&&f!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+hn(""+f)+'"][type="radio"]'),f=0;f<h.length;f++){var p=h[f];if(p!==s&&p.form===s.form){var x=p[Vr]||null;if(!x)throw Error(n(90));mc(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(f=0;f<h.length;f++)p=h[f],p.form===s.form&&vv(p)}break e;case"textarea":gv(s,h.value,h.defaultValue);break e;case"select":f=h.value,f!=null&&eo(s,!!h.multiple,f,!1)}}}var Sc=!1;function Av(s,f,h){if(Sc)return s(f,h);Sc=!0;try{var p=s(f);return p}finally{if(Sc=!1,(ro!==null||no!==null)&&(Uf(),ro&&(f=ro,s=no,no=ro=null,mv(f),s)))for(f=0;f<s.length;f++)mv(s[f])}}function lu(s,f){var h=s.stateNode;if(h===null)return null;var p=h[Vr]||null;if(p===null)return null;h=p[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,f,typeof h));return h}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ic=!1;if(ni)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{Ic=!1}var bi=null,Tc=null,ef=null;function Ev(){if(ef)return ef;var s,f=Tc,h=f.length,p,x="value"in bi?bi.value:bi.textContent,_=x.length;for(s=0;s<h&&f[s]===x[s];s++);var S=h-s;for(p=1;p<=S&&f[h-p]===x[_-p];p++);return ef=x.slice(s,1<p?1-p:void 0)}function tf(s){var f=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&f===13&&(s=13)):s=f,s===10&&(s=13),32<=s||s===13?s:0}function rf(){return!0}function wv(){return!1}function Gr(s){function f(h,p,x,_,S){this._reactName=h,this._targetInst=x,this.type=p,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(h=s[T],this[T]=h?h(_):_[T]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?rf:wv,this.isPropagationStopped=wv,this}return d(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),f}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nf=Gr(da),hu=d({},da,{view:0,detail:0}),hA=Gr(hu),bc,Oc,du,af=d({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==du&&(du&&s.type==="mousemove"?(bc=s.screenX-du.screenX,Oc=s.screenY-du.screenY):Oc=bc=0,du=s),bc)},movementY:function(s){return"movementY"in s?s.movementY:Oc}}),Cv=Gr(af),dA=d({},af,{dataTransfer:0}),vA=Gr(dA),pA=d({},hu,{relatedTarget:0}),Dc=Gr(pA),gA=d({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),yA=Gr(gA),xA=d({},da,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_A=Gr(xA),mA=d({},da,{data:0}),Sv=Gr(mA),AA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CA(s){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(s):(s=wA[s])?!!f[s]:!1}function Rc(){return CA}var SA=d({},hu,{key:function(s){if(s.key){var f=AA[s.key]||s.key;if(f!=="Unidentified")return f}return s.type==="keypress"?(s=tf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?EA[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(s){return s.type==="keypress"?tf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?tf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),IA=Gr(SA),TA=d({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=Gr(TA),bA=d({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),OA=Gr(bA),DA=d({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),RA=Gr(DA),NA=d({},af,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),MA=Gr(NA),BA=d({},da,{newState:0,oldState:0}),PA=Gr(BA),LA=[9,13,27,32],Nc=ni&&"CompositionEvent"in window,vu=null;ni&&"documentMode"in document&&(vu=document.documentMode);var FA=ni&&"TextEvent"in window&&!vu,Tv=ni&&(!Nc||vu&&8<vu&&11>=vu),bv=" ",Ov=!1;function Dv(s,f){switch(s){case"keyup":return LA.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var io=!1;function kA(s,f){switch(s){case"compositionend":return Rv(f);case"keypress":return f.which!==32?null:(Ov=!0,bv);case"textInput":return s=f.data,s===bv&&Ov?null:s;default:return null}}function UA(s,f){if(io)return s==="compositionend"||!Nc&&Dv(s,f)?(s=Ev(),ef=Tc=bi=null,io=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Tv&&f.locale!=="ko"?null:f.data;default:return null}}var HA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nv(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f==="input"?!!HA[s.type]:f==="textarea"}function Mv(s,f,h,p){ro?no?no.push(p):no=[p]:ro=p,f=Wf(f,"onChange"),0<f.length&&(h=new nf("onChange","change",null,h,p),s.push({event:h,listeners:f}))}var pu=null,gu=null;function VA(s){dg(s,0)}function of(s){var f=fu(s);if(vv(f))return s}function Bv(s,f){if(s==="change")return f}var Pv=!1;if(ni){var Mc;if(ni){var Bc="oninput"in document;if(!Bc){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),Bc=typeof Lv.oninput=="function"}Mc=Bc}else Mc=!1;Pv=Mc&&(!document.documentMode||9<document.documentMode)}function Fv(){pu&&(pu.detachEvent("onpropertychange",kv),gu=pu=null)}function kv(s){if(s.propertyName==="value"&&of(gu)){var f=[];Mv(f,gu,s,Cc(s)),Av(VA,f)}}function GA(s,f,h){s==="focusin"?(Fv(),pu=f,gu=h,pu.attachEvent("onpropertychange",kv)):s==="focusout"&&Fv()}function zA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return of(gu)}function XA(s,f){if(s==="click")return of(f)}function WA(s,f){if(s==="input"||s==="change")return of(f)}function YA(s,f){return s===f&&(s!==0||1/s===1/f)||s!==s&&f!==f}var nn=typeof Object.is=="function"?Object.is:YA;function yu(s,f){if(nn(s,f))return!0;if(typeof s!="object"||s===null||typeof f!="object"||f===null)return!1;var h=Object.keys(s),p=Object.keys(f);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var x=h[p];if(!fc.call(f,x)||!nn(s[x],f[x]))return!1}return!0}function Uv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hv(s,f){var h=Uv(s);s=0;for(var p;h;){if(h.nodeType===3){if(p=s+h.textContent.length,s<=f&&p>=f)return{node:h,offset:f-s};s=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Uv(h)}}function Vv(s,f){return s&&f?s===f?!0:s&&s.nodeType===3?!1:f&&f.nodeType===3?Vv(s,f.parentNode):"contains"in s?s.contains(f):s.compareDocumentPosition?!!(s.compareDocumentPosition(f)&16):!1:!1}function Gv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var f=Qs(s.document);f instanceof s.HTMLIFrameElement;){try{var h=typeof f.contentWindow.location.href=="string"}catch{h=!1}if(h)s=f.contentWindow;else break;f=Qs(s.document)}return f}function Pc(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f&&(f==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||f==="textarea"||s.contentEditable==="true")}var jA=ni&&"documentMode"in document&&11>=document.documentMode,ao=null,Lc=null,xu=null,Fc=!1;function zv(s,f,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Fc||ao==null||ao!==Qs(p)||(p=ao,"selectionStart"in p&&Pc(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),xu&&yu(xu,p)||(xu=p,p=Wf(Lc,"onSelect"),0<p.length&&(f=new nf("onSelect","select",null,f,h),s.push({event:f,listeners:p}),f.target=ao)))}function va(s,f){var h={};return h[s.toLowerCase()]=f.toLowerCase(),h["Webkit"+s]="webkit"+f,h["Moz"+s]="moz"+f,h}var oo={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},kc={},Xv={};ni&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function pa(s){if(kc[s])return kc[s];if(!oo[s])return s;var f=oo[s],h;for(h in f)if(f.hasOwnProperty(h)&&h in Xv)return kc[s]=f[h];return s}var Wv=pa("animationend"),Yv=pa("animationiteration"),jv=pa("animationstart"),$A=pa("transitionrun"),ZA=pa("transitionstart"),KA=pa("transitioncancel"),$v=pa("transitionend"),Zv=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function bn(s,f){Zv.set(s,f),ha(f,[s])}var Kv=new WeakMap;function dn(s,f){if(typeof s=="object"&&s!==null){var h=Kv.get(s);return h!==void 0?h:(f={value:s,source:f,stack:hv(f)},Kv.set(s,f),f)}return{value:s,source:f,stack:hv(f)}}var vn=[],uo=0,Hc=0;function uf(){for(var s=uo,f=Hc=uo=0;f<s;){var h=vn[f];vn[f++]=null;var p=vn[f];vn[f++]=null;var x=vn[f];vn[f++]=null;var _=vn[f];if(vn[f++]=null,p!==null&&x!==null){var S=p.pending;S===null?x.next=x:(x.next=S.next,S.next=x),p.pending=x}_!==0&&qv(h,x,_)}}function sf(s,f,h,p){vn[uo++]=s,vn[uo++]=f,vn[uo++]=h,vn[uo++]=p,Hc|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Vc(s,f,h,p){return sf(s,f,h,p),ff(s)}function so(s,f){return sf(s,null,null,f),ff(s)}function qv(s,f,h){s.lanes|=h;var p=s.alternate;p!==null&&(p.lanes|=h);for(var x=!1,_=s.return;_!==null;)_.childLanes|=h,p=_.alternate,p!==null&&(p.childLanes|=h),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(x=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,x&&f!==null&&(x=31-rn(h),s=_.hiddenUpdates,p=s[x],p===null?s[x]=[f]:p.push(f),f.lane=h|536870912),_):null}function ff(s){if(50<zu)throw zu=0,j1=null,Error(n(185));for(var f=s.return;f!==null;)s=f,f=s.return;return s.tag===3?s.stateNode:null}var fo={};function qA(s,f,h,p){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(s,f,h,p){return new qA(s,f,h,p)}function Gc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ii(s,f){var h=s.alternate;return h===null?(h=an(s.tag,f,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=f,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,f=s.dependencies,h.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Qv(s,f){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=f,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,f=h.dependencies,s.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),s}function lf(s,f,h,p,x,_){var S=0;if(p=s,typeof s=="function")Gc(s)&&(S=1);else if(typeof s=="string")S=JE(s,h,_e.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case K:return s=an(31,h,f,x),s.elementType=K,s.lanes=_,s;case m:return ga(h.children,x,_,f);case A:S=8,x|=24;break;case E:return s=an(12,h,f,x|2),s.elementType=E,s.lanes=_,s;case R:return s=an(13,h,f,x),s.elementType=R,s.lanes=_,s;case M:return s=an(19,h,f,x),s.elementType=M,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case w:case I:S=10;break e;case C:S=9;break e;case b:S=11;break e;case L:S=14;break e;case z:S=16,p=null;break e}S=29,h=Error(n(130,s===null?"null":typeof s,"")),p=null}return f=an(S,h,f,x),f.elementType=s,f.type=p,f.lanes=_,f}function ga(s,f,h,p){return s=an(7,s,p,f),s.lanes=h,s}function zc(s,f,h){return s=an(6,s,null,f),s.lanes=h,s}function Xc(s,f,h){return f=an(4,s.children!==null?s.children:[],s.key,f),f.lanes=h,f.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},f}var lo=[],co=0,cf=null,hf=0,pn=[],gn=0,ya=null,ai=1,oi="";function xa(s,f){lo[co++]=hf,lo[co++]=cf,cf=s,hf=f}function Jv(s,f,h){pn[gn++]=ai,pn[gn++]=oi,pn[gn++]=ya,ya=s;var p=ai;s=oi;var x=32-rn(p)-1;p&=~(1<<x),h+=1;var _=32-rn(f)+x;if(30<_){var S=x-x%5;_=(p&(1<<S)-1).toString(32),p>>=S,x-=S,ai=1<<32-rn(f)+x|h<<x|p,oi=_+s}else ai=1<<_|h<<x|p,oi=s}function Wc(s){s.return!==null&&(xa(s,1),Jv(s,1,0))}function Yc(s){for(;s===cf;)cf=lo[--co],lo[co]=null,hf=lo[--co],lo[co]=null;for(;s===ya;)ya=pn[--gn],pn[gn]=null,oi=pn[--gn],pn[gn]=null,ai=pn[--gn],pn[gn]=null}var Br=null,Mt=null,$e=!1,_a=null,Wn=!1,jc=Error(n(519));function ma(s){var f=Error(n(418,""));throw Au(dn(f,s)),jc}function e2(s){var f=s.stateNode,h=s.type,p=s.memoizedProps;switch(f[Sr]=s,f[Vr]=p,h){case"dialog":Me("cancel",f),Me("close",f);break;case"iframe":case"object":case"embed":Me("load",f);break;case"video":case"audio":for(h=0;h<Wu.length;h++)Me(Wu[h],f);break;case"source":Me("error",f);break;case"img":case"image":case"link":Me("error",f),Me("load",f);break;case"details":Me("toggle",f);break;case"input":Me("invalid",f),pv(f,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),qs(f);break;case"select":Me("invalid",f);break;case"textarea":Me("invalid",f),yv(f,p.value,p.defaultValue,p.children),qs(f)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||f.textContent===""+h||p.suppressHydrationWarning===!0||yg(f.textContent,h)?(p.popover!=null&&(Me("beforetoggle",f),Me("toggle",f)),p.onScroll!=null&&Me("scroll",f),p.onScrollEnd!=null&&Me("scrollend",f),p.onClick!=null&&(f.onclick=Yf),f=!0):f=!1,f||ma(s)}function t2(s){for(Br=s.return;Br;)switch(Br.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Br=Br.return}}function _u(s){if(s!==Br)return!1;if(!$e)return t2(s),$e=!0,!1;var f=s.tag,h;if((h=f!==3&&f!==27)&&((h=f===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||f0(s.type,s.memoizedProps)),h=!h),h&&Mt&&ma(s),t2(s),f===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,f=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(f===0){Mt=Dn(s.nextSibling);break e}f--}else h!=="$"&&h!=="$!"&&h!=="$?"||f++;s=s.nextSibling}Mt=null}}else f===27?(f=Mt,Xi(s.type)?(s=d0,d0=null,Mt=s):Mt=f):Mt=Br?Dn(s.stateNode.nextSibling):null;return!0}function mu(){Mt=Br=null,$e=!1}function r2(){var s=_a;return s!==null&&(Wr===null?Wr=s:Wr.push.apply(Wr,s),_a=null),s}function Au(s){_a===null?_a=[s]:_a.push(s)}var $c=ee(null),Aa=null,ui=null;function Oi(s,f,h){oe($c,f._currentValue),f._currentValue=h}function si(s){s._currentValue=$c.current,ue($c)}function Zc(s,f,h){for(;s!==null;){var p=s.alternate;if((s.childLanes&f)!==f?(s.childLanes|=f,p!==null&&(p.childLanes|=f)):p!==null&&(p.childLanes&f)!==f&&(p.childLanes|=f),s===h)break;s=s.return}}function Kc(s,f,h,p){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var _=x.dependencies;if(_!==null){var S=x.child;_=_.firstContext;e:for(;_!==null;){var T=_;_=x;for(var N=0;N<f.length;N++)if(T.context===f[N]){_.lanes|=h,T=_.alternate,T!==null&&(T.lanes|=h),Zc(_.return,h,s),p||(S=null);break e}_=T.next}}else if(x.tag===18){if(S=x.return,S===null)throw Error(n(341));S.lanes|=h,_=S.alternate,_!==null&&(_.lanes|=h),Zc(S,h,s),S=null}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===s){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}}function Eu(s,f,h,p){s=null;for(var x=f,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var S=x.alternate;if(S===null)throw Error(n(387));if(S=S.memoizedProps,S!==null){var T=x.type;nn(x.pendingProps.value,S.value)||(s!==null?s.push(T):s=[T])}}else if(x===en.current){if(S=x.alternate,S===null)throw Error(n(387));S.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(qu):s=[qu])}x=x.return}s!==null&&Kc(f,s,h,p),f.flags|=262144}function df(s){for(s=s.firstContext;s!==null;){if(!nn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ea(s){Aa=s,ui=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ir(s){return n2(Aa,s)}function vf(s,f){return Aa===null&&Ea(s),n2(s,f)}function n2(s,f){var h=f._currentValue;if(f={context:f,memoizedValue:h,next:null},ui===null){if(s===null)throw Error(n(308));ui=f,s.dependencies={lanes:0,firstContext:f},s.flags|=524288}else ui=ui.next=f;return h}var QA=typeof AbortController<"u"?AbortController:function(){var s=[],f=this.signal={aborted:!1,addEventListener:function(h,p){s.push(p)}};this.abort=function(){f.aborted=!0,s.forEach(function(h){return h()})}},JA=r.unstable_scheduleCallback,eE=r.unstable_NormalPriority,Ut={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new QA,data:new Map,refCount:0}}function wu(s){s.refCount--,s.refCount===0&&JA(eE,function(){s.controller.abort()})}var Cu=null,Qc=0,ho=0,vo=null;function tE(s,f){if(Cu===null){var h=Cu=[];Qc=0,ho=e0(),vo={status:"pending",value:void 0,then:function(p){h.push(p)}}}return Qc++,f.then(i2,i2),f}function i2(){if(--Qc===0&&Cu!==null){vo!==null&&(vo.status="fulfilled");var s=Cu;Cu=null,ho=0,vo=null;for(var f=0;f<s.length;f++)(0,s[f])()}}function rE(s,f){var h=[],p={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return s.then(function(){p.status="fulfilled",p.value=f;for(var x=0;x<h.length;x++)(0,h[x])(f)},function(x){for(p.status="rejected",p.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),p}var a2=Y.S;Y.S=function(s,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&tE(s,f),a2!==null&&a2(s,f)};var wa=ee(null);function Jc(){var s=wa.current;return s!==null?s:gt.pooledCache}function pf(s,f){f===null?oe(wa,wa.current):oe(wa,f.pool)}function o2(){var s=Jc();return s===null?null:{parent:Ut._currentValue,pool:s}}var Su=Error(n(460)),u2=Error(n(474)),gf=Error(n(542)),e1={then:function(){}};function s2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function yf(){}function f2(s,f,h){switch(h=s[h],h===void 0?s.push(f):h!==f&&(f.then(yf,yf),f=h),f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,c2(s),s;default:if(typeof f.status=="string")f.then(yf,yf);else{if(s=gt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=f,s.status="pending",s.then(function(p){if(f.status==="pending"){var x=f;x.status="fulfilled",x.value=p}},function(p){if(f.status==="pending"){var x=f;x.status="rejected",x.reason=p}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,c2(s),s}throw Iu=f,Su}}var Iu=null;function l2(){if(Iu===null)throw Error(n(459));var s=Iu;return Iu=null,s}function c2(s){if(s===Su||s===gf)throw Error(n(483))}var Di=!1;function t1(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function r1(s,f){s=s.updateQueue,f.updateQueue===s&&(f.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ri(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ni(s,f,h){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(rt&2)!==0){var x=p.pending;return x===null?f.next=f:(f.next=x.next,x.next=f),p.pending=f,f=ff(s),qv(s,null,h),f}return sf(s,p,f,h),ff(s)}function Tu(s,f,h){if(f=f.updateQueue,f!==null&&(f=f.shared,(h&4194048)!==0)){var p=f.lanes;p&=s.pendingLanes,h|=p,f.lanes=h,iv(s,h)}}function n1(s,f){var h=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var x=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var S={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?x=_=S:_=_.next=S,h=h.next}while(h!==null);_===null?x=_=f:_=_.next=f}else x=_=f;h={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=f:s.next=f,h.lastBaseUpdate=f}var i1=!1;function bu(){if(i1){var s=vo;if(s!==null)throw s}}function Ou(s,f,h,p){i1=!1;var x=s.updateQueue;Di=!1;var _=x.firstBaseUpdate,S=x.lastBaseUpdate,T=x.shared.pending;if(T!==null){x.shared.pending=null;var N=T,U=N.next;N.next=null,S===null?_=U:S.next=U,S=N;var q=s.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==S&&(T===null?q.firstBaseUpdate=U:T.next=U,q.lastBaseUpdate=N))}if(_!==null){var J=x.baseState;S=0,q=U=N=null,T=_;do{var G=T.lane&-536870913,X=G!==T.lane;if(X?(Fe&G)===G:(p&G)===G){G!==0&&G===ho&&(i1=!0),q!==null&&(q=q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=s,me=T;G=f;var lt=h;switch(me.tag){case 1:if(Ee=me.payload,typeof Ee=="function"){J=Ee.call(lt,J,G);break e}J=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=me.payload,G=typeof Ee=="function"?Ee.call(lt,J,G):Ee,G==null)break e;J=d({},J,G);break e;case 2:Di=!0}}G=T.callback,G!==null&&(s.flags|=64,X&&(s.flags|=8192),X=x.callbacks,X===null?x.callbacks=[G]:X.push(G))}else X={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(U=q=X,N=J):q=q.next=X,S|=G;if(T=T.next,T===null){if(T=x.shared.pending,T===null)break;X=T,T=X.next,X.next=null,x.lastBaseUpdate=X,x.shared.pending=null}}while(!0);q===null&&(N=J),x.baseState=N,x.firstBaseUpdate=U,x.lastBaseUpdate=q,_===null&&(x.shared.lanes=0),Hi|=S,s.lanes=S,s.memoizedState=J}}function h2(s,f){if(typeof s!="function")throw Error(n(191,s));s.call(f)}function d2(s,f){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)h2(h[s],f)}var po=ee(null),xf=ee(0);function v2(s,f){s=pi,oe(xf,s),oe(po,f),pi=s|f.baseLanes}function a1(){oe(xf,pi),oe(po,po.current)}function o1(){pi=xf.current,ue(po),ue(xf)}var Mi=0,Ie=null,st=null,Ft=null,_f=!1,go=!1,Ca=!1,mf=0,Du=0,yo=null,nE=0;function Pt(){throw Error(n(321))}function u1(s,f){if(f===null)return!1;for(var h=0;h<f.length&&h<s.length;h++)if(!nn(s[h],f[h]))return!1;return!0}function s1(s,f,h,p,x,_){return Mi=_,Ie=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Y.H=s===null||s.memoizedState===null?q2:Q2,Ca=!1,_=h(p,x),Ca=!1,go&&(_=g2(f,h,p,x)),p2(s),_}function p2(s){Y.H=If;var f=st!==null&&st.next!==null;if(Mi=0,Ft=st=Ie=null,_f=!1,Du=0,yo=null,f)throw Error(n(300));s===null||tr||(s=s.dependencies,s!==null&&df(s)&&(tr=!0))}function g2(s,f,h,p){Ie=s;var x=0;do{if(go&&(yo=null),Du=0,go=!1,25<=x)throw Error(n(301));if(x+=1,Ft=st=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=lE,_=f(h,p)}while(go);return _}function iE(){var s=Y.H,f=s.useState()[0];return f=typeof f.then=="function"?Ru(f):f,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(Ie.flags|=1024),f}function f1(){var s=mf!==0;return mf=0,s}function l1(s,f,h){f.updateQueue=s.updateQueue,f.flags&=-2053,s.lanes&=~h}function c1(s){if(_f){for(s=s.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}_f=!1}Mi=0,Ft=st=Ie=null,go=!1,Du=mf=0,yo=null}function zr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Ie.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function kt(){if(st===null){var s=Ie.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var f=Ft===null?Ie.memoizedState:Ft.next;if(f!==null)Ft=f,st=s;else{if(s===null)throw Ie.alternate===null?Error(n(467)):Error(n(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ft===null?Ie.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function h1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ru(s){var f=Du;return Du+=1,yo===null&&(yo=[]),s=f2(yo,s,f),f=Ie,(Ft===null?f.memoizedState:Ft.next)===null&&(f=f.alternate,Y.H=f===null||f.memoizedState===null?q2:Q2),s}function Af(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ru(s);if(s.$$typeof===I)return Ir(s)}throw Error(n(438,String(s)))}function d1(s){var f=null,h=Ie.updateQueue;if(h!==null&&(f=h.memoCache),f==null){var p=Ie.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(f={data:p.data.map(function(x){return x.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),h===null&&(h=h1(),Ie.updateQueue=h),h.memoCache=f,h=f.data[f.index],h===void 0)for(h=f.data[f.index]=Array(s),p=0;p<s;p++)h[p]=Z;return f.index++,h}function fi(s,f){return typeof f=="function"?f(s):f}function Ef(s){var f=kt();return v1(f,st,s)}function v1(s,f,h){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=h;var x=s.baseQueue,_=p.pending;if(_!==null){if(x!==null){var S=x.next;x.next=_.next,_.next=S}f.baseQueue=x=_,p.pending=null}if(_=s.baseState,x===null)s.memoizedState=_;else{f=x.next;var T=S=null,N=null,U=f,q=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Fe&J)===J:(Mi&J)===J){var G=U.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===ho&&(q=!0);else if((Mi&G)===G){U=U.next,G===ho&&(q=!0);continue}else J={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(T=N=J,S=_):N=N.next=J,Ie.lanes|=G,Hi|=G;J=U.action,Ca&&h(_,J),_=U.hasEagerState?U.eagerState:h(_,J)}else G={lane:J,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(T=N=G,S=_):N=N.next=G,Ie.lanes|=J,Hi|=J;U=U.next}while(U!==null&&U!==f);if(N===null?S=_:N.next=T,!nn(_,s.memoizedState)&&(tr=!0,q&&(h=vo,h!==null)))throw h;s.memoizedState=_,s.baseState=S,s.baseQueue=N,p.lastRenderedState=_}return x===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function p1(s){var f=kt(),h=f.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var p=h.dispatch,x=h.pending,_=f.memoizedState;if(x!==null){h.pending=null;var S=x=x.next;do _=s(_,S.action),S=S.next;while(S!==x);nn(_,f.memoizedState)||(tr=!0),f.memoizedState=_,f.baseQueue===null&&(f.baseState=_),h.lastRenderedState=_}return[_,p]}function y2(s,f,h){var p=Ie,x=kt(),_=$e;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=f();var S=!nn((st||x).memoizedState,h);S&&(x.memoizedState=h,tr=!0),x=x.queue;var T=m2.bind(null,p,x,s);if(Nu(2048,8,T,[s]),x.getSnapshot!==f||S||Ft!==null&&Ft.memoizedState.tag&1){if(p.flags|=2048,xo(9,wf(),_2.bind(null,p,x,h,f),null),gt===null)throw Error(n(349));_||(Mi&124)!==0||x2(p,f,h)}return h}function x2(s,f,h){s.flags|=16384,s={getSnapshot:f,value:h},f=Ie.updateQueue,f===null?(f=h1(),Ie.updateQueue=f,f.stores=[s]):(h=f.stores,h===null?f.stores=[s]:h.push(s))}function _2(s,f,h,p){f.value=h,f.getSnapshot=p,A2(f)&&E2(s)}function m2(s,f,h){return h(function(){A2(f)&&E2(s)})}function A2(s){var f=s.getSnapshot;s=s.value;try{var h=f();return!nn(s,h)}catch{return!0}}function E2(s){var f=so(s,2);f!==null&&ln(f,s,2)}function g1(s){var f=zr();if(typeof s=="function"){var h=s;if(s=h(),Ca){Ii(!0);try{h()}finally{Ii(!1)}}}return f.memoizedState=f.baseState=s,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:s},f}function w2(s,f,h,p){return s.baseState=h,v1(s,st,typeof p=="function"?p:fi)}function aE(s,f,h,p,x){if(Sf(s))throw Error(n(485));if(s=f.action,s!==null){var _={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};Y.T!==null?h(!0):_.isTransition=!1,p(_),h=f.pending,h===null?(_.next=f.pending=_,C2(f,_)):(_.next=h.next,f.pending=h.next=_)}}function C2(s,f){var h=f.action,p=f.payload,x=s.state;if(f.isTransition){var _=Y.T,S={};Y.T=S;try{var T=h(x,p),N=Y.S;N!==null&&N(S,T),S2(s,f,T)}catch(U){y1(s,f,U)}finally{Y.T=_}}else try{_=h(x,p),S2(s,f,_)}catch(U){y1(s,f,U)}}function S2(s,f,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){I2(s,f,p)},function(p){return y1(s,f,p)}):I2(s,f,h)}function I2(s,f,h){f.status="fulfilled",f.value=h,T2(f),s.state=h,f=s.pending,f!==null&&(h=f.next,h===f?s.pending=null:(h=h.next,f.next=h,C2(s,h)))}function y1(s,f,h){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do f.status="rejected",f.reason=h,T2(f),f=f.next;while(f!==p)}s.action=null}function T2(s){s=s.listeners;for(var f=0;f<s.length;f++)(0,s[f])()}function b2(s,f){return f}function O2(s,f){if($e){var h=gt.formState;if(h!==null){e:{var p=Ie;if($e){if(Mt){t:{for(var x=Mt,_=Wn;x.nodeType!==8;){if(!_){x=null;break t}if(x=Dn(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){Mt=Dn(x.nextSibling),p=x.data==="F!";break e}}ma(p)}p=!1}p&&(f=h[0])}}return h=zr(),h.memoizedState=h.baseState=f,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b2,lastRenderedState:f},h.queue=p,h=$2.bind(null,Ie,p),p.dispatch=h,p=g1(!1),_=E1.bind(null,Ie,!1,p.queue),p=zr(),x={state:f,dispatch:null,action:s,pending:null},p.queue=x,h=aE.bind(null,Ie,x,_,h),x.dispatch=h,p.memoizedState=s,[f,h,!1]}function D2(s){var f=kt();return R2(f,st,s)}function R2(s,f,h){if(f=v1(s,f,b2)[0],s=Ef(fi)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var p=Ru(f)}catch(S){throw S===Su?gf:S}else p=f;f=kt();var x=f.queue,_=x.dispatch;return h!==f.memoizedState&&(Ie.flags|=2048,xo(9,wf(),oE.bind(null,x,h),null)),[p,_,s]}function oE(s,f){s.action=f}function N2(s){var f=kt(),h=st;if(h!==null)return R2(f,h,s);kt(),f=f.memoizedState,h=kt();var p=h.queue.dispatch;return h.memoizedState=s,[f,p,!1]}function xo(s,f,h,p){return s={tag:s,create:h,deps:p,inst:f,next:null},f=Ie.updateQueue,f===null&&(f=h1(),Ie.updateQueue=f),h=f.lastEffect,h===null?f.lastEffect=s.next=s:(p=h.next,h.next=s,s.next=p,f.lastEffect=s),s}function wf(){return{destroy:void 0,resource:void 0}}function M2(){return kt().memoizedState}function Cf(s,f,h,p){var x=zr();p=p===void 0?null:p,Ie.flags|=s,x.memoizedState=xo(1|f,wf(),h,p)}function Nu(s,f,h,p){var x=kt();p=p===void 0?null:p;var _=x.memoizedState.inst;st!==null&&p!==null&&u1(p,st.memoizedState.deps)?x.memoizedState=xo(f,_,h,p):(Ie.flags|=s,x.memoizedState=xo(1|f,_,h,p))}function B2(s,f){Cf(8390656,8,s,f)}function P2(s,f){Nu(2048,8,s,f)}function L2(s,f){return Nu(4,2,s,f)}function F2(s,f){return Nu(4,4,s,f)}function k2(s,f){if(typeof f=="function"){s=s();var h=f(s);return function(){typeof h=="function"?h():f(null)}}if(f!=null)return s=s(),f.current=s,function(){f.current=null}}function U2(s,f,h){h=h!=null?h.concat([s]):null,Nu(4,4,k2.bind(null,f,s),h)}function x1(){}function H2(s,f){var h=kt();f=f===void 0?null:f;var p=h.memoizedState;return f!==null&&u1(f,p[1])?p[0]:(h.memoizedState=[s,f],s)}function V2(s,f){var h=kt();f=f===void 0?null:f;var p=h.memoizedState;if(f!==null&&u1(f,p[1]))return p[0];if(p=s(),Ca){Ii(!0);try{s()}finally{Ii(!1)}}return h.memoizedState=[p,f],p}function _1(s,f,h){return h===void 0||(Mi&1073741824)!==0?s.memoizedState=f:(s.memoizedState=h,s=Xp(),Ie.lanes|=s,Hi|=s,h)}function G2(s,f,h,p){return nn(h,f)?h:po.current!==null?(s=_1(s,h,p),nn(s,f)||(tr=!0),s):(Mi&42)===0?(tr=!0,s.memoizedState=h):(s=Xp(),Ie.lanes|=s,Hi|=s,f)}function z2(s,f,h,p,x){var _=ie.p;ie.p=_!==0&&8>_?_:8;var S=Y.T,T={};Y.T=T,E1(s,!1,f,h);try{var N=x(),U=Y.S;if(U!==null&&U(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=rE(N,p);Mu(s,f,q,fn(s))}else Mu(s,f,p,fn(s))}catch(J){Mu(s,f,{then:function(){},status:"rejected",reason:J},fn())}finally{ie.p=_,Y.T=S}}function uE(){}function m1(s,f,h,p){if(s.tag!==5)throw Error(n(476));var x=X2(s).queue;z2(s,x,f,ve,h===null?uE:function(){return W2(s),h(p)})}function X2(s){var f=s.memoizedState;if(f!==null)return f;f={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ve},next:null};var h={};return f.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:h},next:null},s.memoizedState=f,s=s.alternate,s!==null&&(s.memoizedState=f),f}function W2(s){var f=X2(s).next.queue;Mu(s,f,{},fn())}function A1(){return Ir(qu)}function Y2(){return kt().memoizedState}function j2(){return kt().memoizedState}function sE(s){for(var f=s.return;f!==null;){switch(f.tag){case 24:case 3:var h=fn();s=Ri(h);var p=Ni(f,s,h);p!==null&&(ln(p,f,h),Tu(p,f,h)),f={cache:qc()},s.payload=f;return}f=f.return}}function fE(s,f,h){var p=fn();h={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Sf(s)?Z2(f,h):(h=Vc(s,f,h,p),h!==null&&(ln(h,s,p),K2(h,f,p)))}function $2(s,f,h){var p=fn();Mu(s,f,h,p)}function Mu(s,f,h,p){var x={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Sf(s))Z2(f,x);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=f.lastRenderedReducer,_!==null))try{var S=f.lastRenderedState,T=_(S,h);if(x.hasEagerState=!0,x.eagerState=T,nn(T,S))return sf(s,f,x,0),gt===null&&uf(),!1}catch{}finally{}if(h=Vc(s,f,x,p),h!==null)return ln(h,s,p),K2(h,f,p),!0}return!1}function E1(s,f,h,p){if(p={lane:2,revertLane:e0(),action:p,hasEagerState:!1,eagerState:null,next:null},Sf(s)){if(f)throw Error(n(479))}else f=Vc(s,h,p,2),f!==null&&ln(f,s,2)}function Sf(s){var f=s.alternate;return s===Ie||f!==null&&f===Ie}function Z2(s,f){go=_f=!0;var h=s.pending;h===null?f.next=f:(f.next=h.next,h.next=f),s.pending=f}function K2(s,f,h){if((h&4194048)!==0){var p=f.lanes;p&=s.pendingLanes,h|=p,f.lanes=h,iv(s,h)}}var If={readContext:Ir,use:Af,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},q2={readContext:Ir,use:Af,useCallback:function(s,f){return zr().memoizedState=[s,f===void 0?null:f],s},useContext:Ir,useEffect:B2,useImperativeHandle:function(s,f,h){h=h!=null?h.concat([s]):null,Cf(4194308,4,k2.bind(null,f,s),h)},useLayoutEffect:function(s,f){return Cf(4194308,4,s,f)},useInsertionEffect:function(s,f){Cf(4,2,s,f)},useMemo:function(s,f){var h=zr();f=f===void 0?null:f;var p=s();if(Ca){Ii(!0);try{s()}finally{Ii(!1)}}return h.memoizedState=[p,f],p},useReducer:function(s,f,h){var p=zr();if(h!==void 0){var x=h(f);if(Ca){Ii(!0);try{h(f)}finally{Ii(!1)}}}else x=f;return p.memoizedState=p.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},p.queue=s,s=s.dispatch=fE.bind(null,Ie,s),[p.memoizedState,s]},useRef:function(s){var f=zr();return s={current:s},f.memoizedState=s},useState:function(s){s=g1(s);var f=s.queue,h=$2.bind(null,Ie,f);return f.dispatch=h,[s.memoizedState,h]},useDebugValue:x1,useDeferredValue:function(s,f){var h=zr();return _1(h,s,f)},useTransition:function(){var s=g1(!1);return s=z2.bind(null,Ie,s.queue,!0,!1),zr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,f,h){var p=Ie,x=zr();if($e){if(h===void 0)throw Error(n(407));h=h()}else{if(h=f(),gt===null)throw Error(n(349));(Fe&124)!==0||x2(p,f,h)}x.memoizedState=h;var _={value:h,getSnapshot:f};return x.queue=_,B2(m2.bind(null,p,_,s),[s]),p.flags|=2048,xo(9,wf(),_2.bind(null,p,_,h,f),null),h},useId:function(){var s=zr(),f=gt.identifierPrefix;if($e){var h=oi,p=ai;h=(p&~(1<<32-rn(p)-1)).toString(32)+h,f="«"+f+"R"+h,h=mf++,0<h&&(f+="H"+h.toString(32)),f+="»"}else h=nE++,f="«"+f+"r"+h.toString(32)+"»";return s.memoizedState=f},useHostTransitionStatus:A1,useFormState:O2,useActionState:O2,useOptimistic:function(s){var f=zr();f.memoizedState=f.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=h,f=E1.bind(null,Ie,!0,h),h.dispatch=f,[s,f]},useMemoCache:d1,useCacheRefresh:function(){return zr().memoizedState=sE.bind(null,Ie)}},Q2={readContext:Ir,use:Af,useCallback:H2,useContext:Ir,useEffect:P2,useImperativeHandle:U2,useInsertionEffect:L2,useLayoutEffect:F2,useMemo:V2,useReducer:Ef,useRef:M2,useState:function(){return Ef(fi)},useDebugValue:x1,useDeferredValue:function(s,f){var h=kt();return G2(h,st.memoizedState,s,f)},useTransition:function(){var s=Ef(fi)[0],f=kt().memoizedState;return[typeof s=="boolean"?s:Ru(s),f]},useSyncExternalStore:y2,useId:Y2,useHostTransitionStatus:A1,useFormState:D2,useActionState:D2,useOptimistic:function(s,f){var h=kt();return w2(h,st,s,f)},useMemoCache:d1,useCacheRefresh:j2},lE={readContext:Ir,use:Af,useCallback:H2,useContext:Ir,useEffect:P2,useImperativeHandle:U2,useInsertionEffect:L2,useLayoutEffect:F2,useMemo:V2,useReducer:p1,useRef:M2,useState:function(){return p1(fi)},useDebugValue:x1,useDeferredValue:function(s,f){var h=kt();return st===null?_1(h,s,f):G2(h,st.memoizedState,s,f)},useTransition:function(){var s=p1(fi)[0],f=kt().memoizedState;return[typeof s=="boolean"?s:Ru(s),f]},useSyncExternalStore:y2,useId:Y2,useHostTransitionStatus:A1,useFormState:N2,useActionState:N2,useOptimistic:function(s,f){var h=kt();return st!==null?w2(h,st,s,f):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:d1,useCacheRefresh:j2},_o=null,Bu=0;function Tf(s){var f=Bu;return Bu+=1,_o===null&&(_o=[]),f2(_o,s,f)}function Pu(s,f){f=f.props.ref,s.ref=f!==void 0?f:null}function bf(s,f){throw f.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(f),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":s)))}function J2(s){var f=s._init;return f(s._payload)}function ep(s){function f(F,P){if(s){var k=F.deletions;k===null?(F.deletions=[P],F.flags|=16):k.push(P)}}function h(F,P){if(!s)return null;for(;P!==null;)f(F,P),P=P.sibling;return null}function p(F){for(var P=new Map;F!==null;)F.key!==null?P.set(F.key,F):P.set(F.index,F),F=F.sibling;return P}function x(F,P){return F=ii(F,P),F.index=0,F.sibling=null,F}function _(F,P,k){return F.index=k,s?(k=F.alternate,k!==null?(k=k.index,k<P?(F.flags|=67108866,P):k):(F.flags|=67108866,P)):(F.flags|=1048576,P)}function S(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function T(F,P,k,Q){return P===null||P.tag!==6?(P=zc(k,F.mode,Q),P.return=F,P):(P=x(P,k),P.return=F,P)}function N(F,P,k,Q){var se=k.type;return se===m?q(F,P,k.props.children,Q,k.key):P!==null&&(P.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===z&&J2(se)===P.type)?(P=x(P,k.props),Pu(P,k),P.return=F,P):(P=lf(k.type,k.key,k.props,null,F.mode,Q),Pu(P,k),P.return=F,P)}function U(F,P,k,Q){return P===null||P.tag!==4||P.stateNode.containerInfo!==k.containerInfo||P.stateNode.implementation!==k.implementation?(P=Xc(k,F.mode,Q),P.return=F,P):(P=x(P,k.children||[]),P.return=F,P)}function q(F,P,k,Q,se){return P===null||P.tag!==7?(P=ga(k,F.mode,Q,se),P.return=F,P):(P=x(P,k),P.return=F,P)}function J(F,P,k){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=zc(""+P,F.mode,k),P.return=F,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case g:return k=lf(P.type,P.key,P.props,null,F.mode,k),Pu(k,P),k.return=F,k;case y:return P=Xc(P,F.mode,k),P.return=F,P;case z:var Q=P._init;return P=Q(P._payload),J(F,P,k)}if(Le(P)||te(P))return P=ga(P,F.mode,k,null),P.return=F,P;if(typeof P.then=="function")return J(F,Tf(P),k);if(P.$$typeof===I)return J(F,vf(F,P),k);bf(F,P)}return null}function G(F,P,k,Q){var se=P!==null?P.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return se!==null?null:T(F,P,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case g:return k.key===se?N(F,P,k,Q):null;case y:return k.key===se?U(F,P,k,Q):null;case z:return se=k._init,k=se(k._payload),G(F,P,k,Q)}if(Le(k)||te(k))return se!==null?null:q(F,P,k,Q,null);if(typeof k.then=="function")return G(F,P,Tf(k),Q);if(k.$$typeof===I)return G(F,P,vf(F,k),Q);bf(F,k)}return null}function X(F,P,k,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return F=F.get(k)||null,T(P,F,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case g:return F=F.get(Q.key===null?k:Q.key)||null,N(P,F,Q,se);case y:return F=F.get(Q.key===null?k:Q.key)||null,U(P,F,Q,se);case z:var Oe=Q._init;return Q=Oe(Q._payload),X(F,P,k,Q,se)}if(Le(Q)||te(Q))return F=F.get(k)||null,q(P,F,Q,se,null);if(typeof Q.then=="function")return X(F,P,k,Tf(Q),se);if(Q.$$typeof===I)return X(F,P,k,vf(P,Q),se);bf(P,Q)}return null}function Ee(F,P,k,Q){for(var se=null,Oe=null,pe=P,Ae=P=0,nr=null;pe!==null&&Ae<k.length;Ae++){pe.index>Ae?(nr=pe,pe=null):nr=pe.sibling;var We=G(F,pe,k[Ae],Q);if(We===null){pe===null&&(pe=nr);break}s&&pe&&We.alternate===null&&f(F,pe),P=_(We,P,Ae),Oe===null?se=We:Oe.sibling=We,Oe=We,pe=nr}if(Ae===k.length)return h(F,pe),$e&&xa(F,Ae),se;if(pe===null){for(;Ae<k.length;Ae++)pe=J(F,k[Ae],Q),pe!==null&&(P=_(pe,P,Ae),Oe===null?se=pe:Oe.sibling=pe,Oe=pe);return $e&&xa(F,Ae),se}for(pe=p(pe);Ae<k.length;Ae++)nr=X(pe,F,Ae,k[Ae],Q),nr!==null&&(s&&nr.alternate!==null&&pe.delete(nr.key===null?Ae:nr.key),P=_(nr,P,Ae),Oe===null?se=nr:Oe.sibling=nr,Oe=nr);return s&&pe.forEach(function(Zi){return f(F,Zi)}),$e&&xa(F,Ae),se}function me(F,P,k,Q){if(k==null)throw Error(n(151));for(var se=null,Oe=null,pe=P,Ae=P=0,nr=null,We=k.next();pe!==null&&!We.done;Ae++,We=k.next()){pe.index>Ae?(nr=pe,pe=null):nr=pe.sibling;var Zi=G(F,pe,We.value,Q);if(Zi===null){pe===null&&(pe=nr);break}s&&pe&&Zi.alternate===null&&f(F,pe),P=_(Zi,P,Ae),Oe===null?se=Zi:Oe.sibling=Zi,Oe=Zi,pe=nr}if(We.done)return h(F,pe),$e&&xa(F,Ae),se;if(pe===null){for(;!We.done;Ae++,We=k.next())We=J(F,We.value,Q),We!==null&&(P=_(We,P,Ae),Oe===null?se=We:Oe.sibling=We,Oe=We);return $e&&xa(F,Ae),se}for(pe=p(pe);!We.done;Ae++,We=k.next())We=X(pe,F,Ae,We.value,Q),We!==null&&(s&&We.alternate!==null&&pe.delete(We.key===null?Ae:We.key),P=_(We,P,Ae),Oe===null?se=We:Oe.sibling=We,Oe=We);return s&&pe.forEach(function(cw){return f(F,cw)}),$e&&xa(F,Ae),se}function lt(F,P,k,Q){if(typeof k=="object"&&k!==null&&k.type===m&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case g:e:{for(var se=k.key;P!==null;){if(P.key===se){if(se=k.type,se===m){if(P.tag===7){h(F,P.sibling),Q=x(P,k.props.children),Q.return=F,F=Q;break e}}else if(P.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===z&&J2(se)===P.type){h(F,P.sibling),Q=x(P,k.props),Pu(Q,k),Q.return=F,F=Q;break e}h(F,P);break}else f(F,P);P=P.sibling}k.type===m?(Q=ga(k.props.children,F.mode,Q,k.key),Q.return=F,F=Q):(Q=lf(k.type,k.key,k.props,null,F.mode,Q),Pu(Q,k),Q.return=F,F=Q)}return S(F);case y:e:{for(se=k.key;P!==null;){if(P.key===se)if(P.tag===4&&P.stateNode.containerInfo===k.containerInfo&&P.stateNode.implementation===k.implementation){h(F,P.sibling),Q=x(P,k.children||[]),Q.return=F,F=Q;break e}else{h(F,P);break}else f(F,P);P=P.sibling}Q=Xc(k,F.mode,Q),Q.return=F,F=Q}return S(F);case z:return se=k._init,k=se(k._payload),lt(F,P,k,Q)}if(Le(k))return Ee(F,P,k,Q);if(te(k)){if(se=te(k),typeof se!="function")throw Error(n(150));return k=se.call(k),me(F,P,k,Q)}if(typeof k.then=="function")return lt(F,P,Tf(k),Q);if(k.$$typeof===I)return lt(F,P,vf(F,k),Q);bf(F,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,P!==null&&P.tag===6?(h(F,P.sibling),Q=x(P,k),Q.return=F,F=Q):(h(F,P),Q=zc(k,F.mode,Q),Q.return=F,F=Q),S(F)):h(F,P)}return function(F,P,k,Q){try{Bu=0;var se=lt(F,P,k,Q);return _o=null,se}catch(pe){if(pe===Su||pe===gf)throw pe;var Oe=an(29,pe,null,F.mode);return Oe.lanes=Q,Oe.return=F,Oe}finally{}}}var mo=ep(!0),tp=ep(!1),yn=ee(null),Yn=null;function Bi(s){var f=s.alternate;oe(Ht,Ht.current&1),oe(yn,s),Yn===null&&(f===null||po.current!==null||f.memoizedState!==null)&&(Yn=s)}function rp(s){if(s.tag===22){if(oe(Ht,Ht.current),oe(yn,s),Yn===null){var f=s.alternate;f!==null&&f.memoizedState!==null&&(Yn=s)}}else Pi()}function Pi(){oe(Ht,Ht.current),oe(yn,yn.current)}function li(s){ue(yn),Yn===s&&(Yn=null),ue(Ht)}var Ht=ee(0);function Of(s){for(var f=s;f!==null;){if(f.tag===13){var h=f.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h0(h)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function w1(s,f,h,p){f=s.memoizedState,h=h(p,f),h=h==null?f:d({},f,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var C1={enqueueSetState:function(s,f,h){s=s._reactInternals;var p=fn(),x=Ri(p);x.payload=f,h!=null&&(x.callback=h),f=Ni(s,x,p),f!==null&&(ln(f,s,p),Tu(f,s,p))},enqueueReplaceState:function(s,f,h){s=s._reactInternals;var p=fn(),x=Ri(p);x.tag=1,x.payload=f,h!=null&&(x.callback=h),f=Ni(s,x,p),f!==null&&(ln(f,s,p),Tu(f,s,p))},enqueueForceUpdate:function(s,f){s=s._reactInternals;var h=fn(),p=Ri(h);p.tag=2,f!=null&&(p.callback=f),f=Ni(s,p,h),f!==null&&(ln(f,s,h),Tu(f,s,h))}};function np(s,f,h,p,x,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,S):f.prototype&&f.prototype.isPureReactComponent?!yu(h,p)||!yu(x,_):!0}function ip(s,f,h,p){s=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(h,p),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(h,p),f.state!==s&&C1.enqueueReplaceState(f,f.state,null)}function Sa(s,f){var h=f;if("ref"in f){h={};for(var p in f)p!=="ref"&&(h[p]=f[p])}if(s=s.defaultProps){h===f&&(h=d({},h));for(var x in s)h[x]===void 0&&(h[x]=s[x])}return h}var Df=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ap(s){Df(s)}function op(s){console.error(s)}function up(s){Df(s)}function Rf(s,f){try{var h=s.onUncaughtError;h(f.value,{componentStack:f.stack})}catch(p){setTimeout(function(){throw p})}}function sp(s,f,h){try{var p=s.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function S1(s,f,h){return h=Ri(h),h.tag=3,h.payload={element:null},h.callback=function(){Rf(s,f)},h}function fp(s){return s=Ri(s),s.tag=3,s}function lp(s,f,h,p){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var _=p.value;s.payload=function(){return x(_)},s.callback=function(){sp(f,h,p)}}var S=h.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){sp(f,h,p),typeof x!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var T=p.stack;this.componentDidCatch(p.value,{componentStack:T!==null?T:""})})}function cE(s,f,h,p,x){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(f=h.alternate,f!==null&&Eu(f,h,x,!0),h=yn.current,h!==null){switch(h.tag){case 13:return Yn===null?Z1():h.alternate===null&&Bt===0&&(Bt=3),h.flags&=-257,h.flags|=65536,h.lanes=x,p===e1?h.flags|=16384:(f=h.updateQueue,f===null?h.updateQueue=new Set([p]):f.add(p),q1(s,p,x)),!1;case 22:return h.flags|=65536,p===e1?h.flags|=16384:(f=h.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=f):(h=f.retryQueue,h===null?f.retryQueue=new Set([p]):h.add(p)),q1(s,p,x)),!1}throw Error(n(435,h.tag))}return q1(s,p,x),Z1(),!1}if($e)return f=yn.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=x,p!==jc&&(s=Error(n(422),{cause:p}),Au(dn(s,h)))):(p!==jc&&(f=Error(n(423),{cause:p}),Au(dn(f,h))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,p=dn(p,h),x=S1(s.stateNode,p,x),n1(s,x),Bt!==4&&(Bt=2)),!1;var _=Error(n(520),{cause:p});if(_=dn(_,h),Gu===null?Gu=[_]:Gu.push(_),Bt!==4&&(Bt=2),f===null)return!0;p=dn(p,h),h=f;do{switch(h.tag){case 3:return h.flags|=65536,s=x&-x,h.lanes|=s,s=S1(h.stateNode,p,s),n1(h,s),!1;case 1:if(f=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Vi===null||!Vi.has(_))))return h.flags|=65536,x&=-x,h.lanes|=x,x=fp(x),lp(x,s,h,p),n1(h,x),!1}h=h.return}while(h!==null);return!1}var cp=Error(n(461)),tr=!1;function vr(s,f,h,p){f.child=s===null?tp(f,null,h,p):mo(f,s.child,h,p)}function hp(s,f,h,p,x){h=h.render;var _=f.ref;if("ref"in p){var S={};for(var T in p)T!=="ref"&&(S[T]=p[T])}else S=p;return Ea(f),p=s1(s,f,h,S,_,x),T=f1(),s!==null&&!tr?(l1(s,f,x),ci(s,f,x)):($e&&T&&Wc(f),f.flags|=1,vr(s,f,p,x),f.child)}function dp(s,f,h,p,x){if(s===null){var _=h.type;return typeof _=="function"&&!Gc(_)&&_.defaultProps===void 0&&h.compare===null?(f.tag=15,f.type=_,vp(s,f,_,p,x)):(s=lf(h.type,null,p,f,f.mode,x),s.ref=f.ref,s.return=f,f.child=s)}if(_=s.child,!M1(s,x)){var S=_.memoizedProps;if(h=h.compare,h=h!==null?h:yu,h(S,p)&&s.ref===f.ref)return ci(s,f,x)}return f.flags|=1,s=ii(_,p),s.ref=f.ref,s.return=f,f.child=s}function vp(s,f,h,p,x){if(s!==null){var _=s.memoizedProps;if(yu(_,p)&&s.ref===f.ref)if(tr=!1,f.pendingProps=p=_,M1(s,x))(s.flags&131072)!==0&&(tr=!0);else return f.lanes=s.lanes,ci(s,f,x)}return I1(s,f,h,p,x)}function pp(s,f,h){var p=f.pendingProps,x=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden"){if((f.flags&128)!==0){if(p=_!==null?_.baseLanes|h:h,s!==null){for(x=f.child=s.child,_=0;x!==null;)_=_|x.lanes|x.childLanes,x=x.sibling;f.childLanes=_&~p}else f.childLanes=0,f.child=null;return gp(s,f,p,h)}if((h&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},s!==null&&pf(f,_!==null?_.cachePool:null),_!==null?v2(f,_):a1(),rp(f);else return f.lanes=f.childLanes=536870912,gp(s,f,_!==null?_.baseLanes|h:h,h)}else _!==null?(pf(f,_.cachePool),v2(f,_),Pi(),f.memoizedState=null):(s!==null&&pf(f,null),a1(),Pi());return vr(s,f,x,h),f.child}function gp(s,f,h,p){var x=Jc();return x=x===null?null:{parent:Ut._currentValue,pool:x},f.memoizedState={baseLanes:h,cachePool:x},s!==null&&pf(f,null),a1(),rp(f),s!==null&&Eu(s,f,p,!0),null}function Nf(s,f){var h=f.ref;if(h===null)s!==null&&s.ref!==null&&(f.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(s===null||s.ref!==h)&&(f.flags|=4194816)}}function I1(s,f,h,p,x){return Ea(f),h=s1(s,f,h,p,void 0,x),p=f1(),s!==null&&!tr?(l1(s,f,x),ci(s,f,x)):($e&&p&&Wc(f),f.flags|=1,vr(s,f,h,x),f.child)}function yp(s,f,h,p,x,_){return Ea(f),f.updateQueue=null,h=g2(f,p,h,x),p2(s),p=f1(),s!==null&&!tr?(l1(s,f,_),ci(s,f,_)):($e&&p&&Wc(f),f.flags|=1,vr(s,f,h,_),f.child)}function xp(s,f,h,p,x){if(Ea(f),f.stateNode===null){var _=fo,S=h.contextType;typeof S=="object"&&S!==null&&(_=Ir(S)),_=new h(p,_),f.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=C1,f.stateNode=_,_._reactInternals=f,_=f.stateNode,_.props=p,_.state=f.memoizedState,_.refs={},t1(f),S=h.contextType,_.context=typeof S=="object"&&S!==null?Ir(S):fo,_.state=f.memoizedState,S=h.getDerivedStateFromProps,typeof S=="function"&&(w1(f,h,S,p),_.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&C1.enqueueReplaceState(_,_.state,null),Ou(f,p,_,x),bu(),_.state=f.memoizedState),typeof _.componentDidMount=="function"&&(f.flags|=4194308),p=!0}else if(s===null){_=f.stateNode;var T=f.memoizedProps,N=Sa(h,T);_.props=N;var U=_.context,q=h.contextType;S=fo,typeof q=="object"&&q!==null&&(S=Ir(q));var J=h.getDerivedStateFromProps;q=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function",T=f.pendingProps!==T,q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T||U!==S)&&ip(f,_,p,S),Di=!1;var G=f.memoizedState;_.state=G,Ou(f,p,_,x),bu(),U=f.memoizedState,T||G!==U||Di?(typeof J=="function"&&(w1(f,h,J,p),U=f.memoizedState),(N=Di||np(f,h,N,p,G,U,S))?(q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(f.flags|=4194308)):(typeof _.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=p,f.memoizedState=U),_.props=p,_.state=U,_.context=S,p=N):(typeof _.componentDidMount=="function"&&(f.flags|=4194308),p=!1)}else{_=f.stateNode,r1(s,f),S=f.memoizedProps,q=Sa(h,S),_.props=q,J=f.pendingProps,G=_.context,U=h.contextType,N=fo,typeof U=="object"&&U!==null&&(N=Ir(U)),T=h.getDerivedStateFromProps,(U=typeof T=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==J||G!==N)&&ip(f,_,p,N),Di=!1,G=f.memoizedState,_.state=G,Ou(f,p,_,x),bu();var X=f.memoizedState;S!==J||G!==X||Di||s!==null&&s.dependencies!==null&&df(s.dependencies)?(typeof T=="function"&&(w1(f,h,T,p),X=f.memoizedState),(q=Di||np(f,h,q,p,G,X,N)||s!==null&&s.dependencies!==null&&df(s.dependencies))?(U||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,X,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,X,N)),typeof _.componentDidUpdate=="function"&&(f.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&G===s.memoizedState||(f.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&G===s.memoizedState||(f.flags|=1024),f.memoizedProps=p,f.memoizedState=X),_.props=p,_.state=X,_.context=N,p=q):(typeof _.componentDidUpdate!="function"||S===s.memoizedProps&&G===s.memoizedState||(f.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&G===s.memoizedState||(f.flags|=1024),p=!1)}return _=p,Nf(s,f),p=(f.flags&128)!==0,_||p?(_=f.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:_.render(),f.flags|=1,s!==null&&p?(f.child=mo(f,s.child,null,x),f.child=mo(f,null,h,x)):vr(s,f,h,x),f.memoizedState=_.state,s=f.child):s=ci(s,f,x),s}function _p(s,f,h,p){return mu(),f.flags|=256,vr(s,f,h,p),f.child}var T1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function b1(s){return{baseLanes:s,cachePool:o2()}}function O1(s,f,h){return s=s!==null?s.childLanes&~h:0,f&&(s|=xn),s}function mp(s,f,h){var p=f.pendingProps,x=!1,_=(f.flags&128)!==0,S;if((S=_)||(S=s!==null&&s.memoizedState===null?!1:(Ht.current&2)!==0),S&&(x=!0,f.flags&=-129),S=(f.flags&32)!==0,f.flags&=-33,s===null){if($e){if(x?Bi(f):Pi(),$e){var T=Mt,N;if(N=T){e:{for(N=T,T=Wn;N.nodeType!==8;){if(!T){T=null;break e}if(N=Dn(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(f.memoizedState={dehydrated:T,treeContext:ya!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},N=an(18,null,null,0),N.stateNode=T,N.return=f,f.child=N,Br=f,Mt=null,N=!0):N=!1}N||ma(f)}if(T=f.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return h0(T)?f.lanes=32:f.lanes=536870912,null;li(f)}return T=p.children,p=p.fallback,x?(Pi(),x=f.mode,T=Mf({mode:"hidden",children:T},x),p=ga(p,x,h,null),T.return=f,p.return=f,T.sibling=p,f.child=T,x=f.child,x.memoizedState=b1(h),x.childLanes=O1(s,S,h),f.memoizedState=T1,p):(Bi(f),D1(f,T))}if(N=s.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(_)f.flags&256?(Bi(f),f.flags&=-257,f=R1(s,f,h)):f.memoizedState!==null?(Pi(),f.child=s.child,f.flags|=128,f=null):(Pi(),x=p.fallback,T=f.mode,p=Mf({mode:"visible",children:p.children},T),x=ga(x,T,h,null),x.flags|=2,p.return=f,x.return=f,p.sibling=x,f.child=p,mo(f,s.child,null,h),p=f.child,p.memoizedState=b1(h),p.childLanes=O1(s,S,h),f.memoizedState=T1,f=x);else if(Bi(f),h0(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var U=S.dgst;S=U,p=Error(n(419)),p.stack="",p.digest=S,Au({value:p,source:null,stack:null}),f=R1(s,f,h)}else if(tr||Eu(s,f,h,!1),S=(h&s.childLanes)!==0,tr||S){if(S=gt,S!==null&&(p=h&-h,p=(p&42)!==0?1:dc(p),p=(p&(S.suspendedLanes|h))!==0?0:p,p!==0&&p!==N.retryLane))throw N.retryLane=p,so(s,p),ln(S,s,p),cp;T.data==="$?"||Z1(),f=R1(s,f,h)}else T.data==="$?"?(f.flags|=192,f.child=s.child,f=null):(s=N.treeContext,Mt=Dn(T.nextSibling),Br=f,$e=!0,_a=null,Wn=!1,s!==null&&(pn[gn++]=ai,pn[gn++]=oi,pn[gn++]=ya,ai=s.id,oi=s.overflow,ya=f),f=D1(f,p.children),f.flags|=4096);return f}return x?(Pi(),x=p.fallback,T=f.mode,N=s.child,U=N.sibling,p=ii(N,{mode:"hidden",children:p.children}),p.subtreeFlags=N.subtreeFlags&65011712,U!==null?x=ii(U,x):(x=ga(x,T,h,null),x.flags|=2),x.return=f,p.return=f,p.sibling=x,f.child=p,p=x,x=f.child,T=s.child.memoizedState,T===null?T=b1(h):(N=T.cachePool,N!==null?(U=Ut._currentValue,N=N.parent!==U?{parent:U,pool:U}:N):N=o2(),T={baseLanes:T.baseLanes|h,cachePool:N}),x.memoizedState=T,x.childLanes=O1(s,S,h),f.memoizedState=T1,p):(Bi(f),h=s.child,s=h.sibling,h=ii(h,{mode:"visible",children:p.children}),h.return=f,h.sibling=null,s!==null&&(S=f.deletions,S===null?(f.deletions=[s],f.flags|=16):S.push(s)),f.child=h,f.memoizedState=null,h)}function D1(s,f){return f=Mf({mode:"visible",children:f},s.mode),f.return=s,s.child=f}function Mf(s,f){return s=an(22,s,null,f),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function R1(s,f,h){return mo(f,s.child,null,h),s=D1(f,f.pendingProps.children),s.flags|=2,f.memoizedState=null,s}function Ap(s,f,h){s.lanes|=f;var p=s.alternate;p!==null&&(p.lanes|=f),Zc(s.return,f,h)}function N1(s,f,h,p,x){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:x}:(_.isBackwards=f,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=h,_.tailMode=x)}function Ep(s,f,h){var p=f.pendingProps,x=p.revealOrder,_=p.tail;if(vr(s,f,p.children,h),p=Ht.current,(p&2)!==0)p=p&1|2,f.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=f.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ap(s,h,f);else if(s.tag===19)Ap(s,h,f);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===f)break e;for(;s.sibling===null;){if(s.return===null||s.return===f)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(oe(Ht,p),x){case"forwards":for(h=f.child,x=null;h!==null;)s=h.alternate,s!==null&&Of(s)===null&&(x=h),h=h.sibling;h=x,h===null?(x=f.child,f.child=null):(x=h.sibling,h.sibling=null),N1(f,!1,x,h,_);break;case"backwards":for(h=null,x=f.child,f.child=null;x!==null;){if(s=x.alternate,s!==null&&Of(s)===null){f.child=x;break}s=x.sibling,x.sibling=h,h=x,x=s}N1(f,!0,h,null,_);break;case"together":N1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ci(s,f,h){if(s!==null&&(f.dependencies=s.dependencies),Hi|=f.lanes,(h&f.childLanes)===0)if(s!==null){if(Eu(s,f,h,!1),(h&f.childLanes)===0)return null}else return null;if(s!==null&&f.child!==s.child)throw Error(n(153));if(f.child!==null){for(s=f.child,h=ii(s,s.pendingProps),f.child=h,h.return=f;s.sibling!==null;)s=s.sibling,h=h.sibling=ii(s,s.pendingProps),h.return=f;h.sibling=null}return f.child}function M1(s,f){return(s.lanes&f)!==0?!0:(s=s.dependencies,!!(s!==null&&df(s)))}function hE(s,f,h){switch(f.tag){case 3:bt(f,f.stateNode.containerInfo),Oi(f,Ut,s.memoizedState.cache),mu();break;case 27:case 5:sc(f);break;case 4:bt(f,f.stateNode.containerInfo);break;case 10:Oi(f,f.type,f.memoizedProps.value);break;case 13:var p=f.memoizedState;if(p!==null)return p.dehydrated!==null?(Bi(f),f.flags|=128,null):(h&f.child.childLanes)!==0?mp(s,f,h):(Bi(f),s=ci(s,f,h),s!==null?s.sibling:null);Bi(f);break;case 19:var x=(s.flags&128)!==0;if(p=(h&f.childLanes)!==0,p||(Eu(s,f,h,!1),p=(h&f.childLanes)!==0),x){if(p)return Ep(s,f,h);f.flags|=128}if(x=f.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),oe(Ht,Ht.current),p)break;return null;case 22:case 23:return f.lanes=0,pp(s,f,h);case 24:Oi(f,Ut,s.memoizedState.cache)}return ci(s,f,h)}function wp(s,f,h){if(s!==null)if(s.memoizedProps!==f.pendingProps)tr=!0;else{if(!M1(s,h)&&(f.flags&128)===0)return tr=!1,hE(s,f,h);tr=(s.flags&131072)!==0}else tr=!1,$e&&(f.flags&1048576)!==0&&Jv(f,hf,f.index);switch(f.lanes=0,f.tag){case 16:e:{s=f.pendingProps;var p=f.elementType,x=p._init;if(p=x(p._payload),f.type=p,typeof p=="function")Gc(p)?(s=Sa(p,s),f.tag=1,f=xp(null,f,p,s,h)):(f.tag=0,f=I1(null,f,p,s,h));else{if(p!=null){if(x=p.$$typeof,x===b){f.tag=11,f=hp(null,f,p,s,h);break e}else if(x===L){f.tag=14,f=dp(null,f,p,s,h);break e}}throw f=Ve(p)||p,Error(n(306,f,""))}}return f;case 0:return I1(s,f,f.type,f.pendingProps,h);case 1:return p=f.type,x=Sa(p,f.pendingProps),xp(s,f,p,x,h);case 3:e:{if(bt(f,f.stateNode.containerInfo),s===null)throw Error(n(387));p=f.pendingProps;var _=f.memoizedState;x=_.element,r1(s,f),Ou(f,p,null,h);var S=f.memoizedState;if(p=S.cache,Oi(f,Ut,p),p!==_.cache&&Kc(f,[Ut],h,!0),bu(),p=S.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:S.cache},f.updateQueue.baseState=_,f.memoizedState=_,f.flags&256){f=_p(s,f,p,h);break e}else if(p!==x){x=dn(Error(n(424)),f),Au(x),f=_p(s,f,p,h);break e}else{switch(s=f.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Mt=Dn(s.firstChild),Br=f,$e=!0,_a=null,Wn=!0,h=tp(f,null,p,h),f.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(mu(),p===x){f=ci(s,f,h);break e}vr(s,f,p,h)}f=f.child}return f;case 26:return Nf(s,f),s===null?(h=Tg(f.type,null,f.pendingProps,null))?f.memoizedState=h:$e||(h=f.type,s=f.pendingProps,p=jf(we.current).createElement(h),p[Sr]=f,p[Vr]=s,gr(p,h,s),er(p),f.stateNode=p):f.memoizedState=Tg(f.type,s.memoizedProps,f.pendingProps,s.memoizedState),null;case 27:return sc(f),s===null&&$e&&(p=f.stateNode=Cg(f.type,f.pendingProps,we.current),Br=f,Wn=!0,x=Mt,Xi(f.type)?(d0=x,Mt=Dn(p.firstChild)):Mt=x),vr(s,f,f.pendingProps.children,h),Nf(s,f),s===null&&(f.flags|=4194304),f.child;case 5:return s===null&&$e&&((x=p=Mt)&&(p=HE(p,f.type,f.pendingProps,Wn),p!==null?(f.stateNode=p,Br=f,Mt=Dn(p.firstChild),Wn=!1,x=!0):x=!1),x||ma(f)),sc(f),x=f.type,_=f.pendingProps,S=s!==null?s.memoizedProps:null,p=_.children,f0(x,_)?p=null:S!==null&&f0(x,S)&&(f.flags|=32),f.memoizedState!==null&&(x=s1(s,f,iE,null,null,h),qu._currentValue=x),Nf(s,f),vr(s,f,p,h),f.child;case 6:return s===null&&$e&&((s=h=Mt)&&(h=VE(h,f.pendingProps,Wn),h!==null?(f.stateNode=h,Br=f,Mt=null,s=!0):s=!1),s||ma(f)),null;case 13:return mp(s,f,h);case 4:return bt(f,f.stateNode.containerInfo),p=f.pendingProps,s===null?f.child=mo(f,null,p,h):vr(s,f,p,h),f.child;case 11:return hp(s,f,f.type,f.pendingProps,h);case 7:return vr(s,f,f.pendingProps,h),f.child;case 8:return vr(s,f,f.pendingProps.children,h),f.child;case 12:return vr(s,f,f.pendingProps.children,h),f.child;case 10:return p=f.pendingProps,Oi(f,f.type,p.value),vr(s,f,p.children,h),f.child;case 9:return x=f.type._context,p=f.pendingProps.children,Ea(f),x=Ir(x),p=p(x),f.flags|=1,vr(s,f,p,h),f.child;case 14:return dp(s,f,f.type,f.pendingProps,h);case 15:return vp(s,f,f.type,f.pendingProps,h);case 19:return Ep(s,f,h);case 31:return p=f.pendingProps,h=f.mode,p={mode:p.mode,children:p.children},s===null?(h=Mf(p,h),h.ref=f.ref,f.child=h,h.return=f,f=h):(h=ii(s.child,p),h.ref=f.ref,f.child=h,h.return=f,f=h),f;case 22:return pp(s,f,h);case 24:return Ea(f),p=Ir(Ut),s===null?(x=Jc(),x===null&&(x=gt,_=qc(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=h),x=_),f.memoizedState={parent:p,cache:x},t1(f),Oi(f,Ut,x)):((s.lanes&h)!==0&&(r1(s,f),Ou(f,null,null,h),bu()),x=s.memoizedState,_=f.memoizedState,x.parent!==p?(x={parent:p,cache:p},f.memoizedState=x,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=x),Oi(f,Ut,p)):(p=_.cache,Oi(f,Ut,p),p!==x.cache&&Kc(f,[Ut],h,!0))),vr(s,f,f.pendingProps.children,h),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function hi(s){s.flags|=4}function Cp(s,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Ng(f)){if(f=yn.current,f!==null&&((Fe&4194048)===Fe?Yn!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||f!==Yn))throw Iu=e1,u2;s.flags|=8192}}function Bf(s,f){f!==null&&(s.flags|=4),s.flags&16384&&(f=s.tag!==22?rv():536870912,s.lanes|=f,Co|=f)}function Lu(s,f){if(!$e)switch(s.tailMode){case"hidden":f=s.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?f||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Rt(s){var f=s.alternate!==null&&s.alternate.child===s.child,h=0,p=0;if(f)for(var x=s.child;x!==null;)h|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)h|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=p,s.childLanes=h,f}function dE(s,f,h){var p=f.pendingProps;switch(Yc(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(f),null;case 1:return Rt(f),null;case 3:return h=f.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),si(Ut),Si(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(_u(f)?hi(f):s===null||s.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,r2())),Rt(f),null;case 26:return h=f.memoizedState,s===null?(hi(f),h!==null?(Rt(f),Cp(f,h)):(Rt(f),f.flags&=-16777217)):h?h!==s.memoizedState?(hi(f),Rt(f),Cp(f,h)):(Rt(f),f.flags&=-16777217):(s.memoizedProps!==p&&hi(f),Rt(f),f.flags&=-16777217),null;case 27:Xs(f),h=we.current;var x=f.type;if(s!==null&&f.stateNode!=null)s.memoizedProps!==p&&hi(f);else{if(!p){if(f.stateNode===null)throw Error(n(166));return Rt(f),null}s=_e.current,_u(f)?e2(f):(s=Cg(x,p,h),f.stateNode=s,hi(f))}return Rt(f),null;case 5:if(Xs(f),h=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==p&&hi(f);else{if(!p){if(f.stateNode===null)throw Error(n(166));return Rt(f),null}if(s=_e.current,_u(f))e2(f);else{switch(x=jf(we.current),s){case 1:s=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?x.createElement(h,{is:p.is}):x.createElement(h)}}s[Sr]=f,s[Vr]=p;e:for(x=f.child;x!==null;){if(x.tag===5||x.tag===6)s.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break e;for(;x.sibling===null;){if(x.return===null||x.return===f)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}f.stateNode=s;e:switch(gr(s,h,p),h){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hi(f)}}return Rt(f),f.flags&=-16777217,null;case 6:if(s&&f.stateNode!=null)s.memoizedProps!==p&&hi(f);else{if(typeof p!="string"&&f.stateNode===null)throw Error(n(166));if(s=we.current,_u(f)){if(s=f.stateNode,h=f.memoizedProps,p=null,x=Br,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}s[Sr]=f,s=!!(s.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||yg(s.nodeValue,h)),s||ma(f)}else s=jf(s).createTextNode(p),s[Sr]=f,f.stateNode=s}return Rt(f),null;case 13:if(p=f.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=_u(f),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=f.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Sr]=f}else mu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Rt(f),x=!1}else x=r2(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return f.flags&256?(li(f),f):(li(f),null)}if(li(f),(f.flags&128)!==0)return f.lanes=h,f;if(h=p!==null,s=s!==null&&s.memoizedState!==null,h){p=f.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool);var _=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==x&&(p.flags|=2048)}return h!==s&&h&&(f.child.flags|=8192),Bf(f,f.updateQueue),Rt(f),null;case 4:return Si(),s===null&&i0(f.stateNode.containerInfo),Rt(f),null;case 10:return si(f.type),Rt(f),null;case 19:if(ue(Ht),x=f.memoizedState,x===null)return Rt(f),null;if(p=(f.flags&128)!==0,_=x.rendering,_===null)if(p)Lu(x,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=f.child;s!==null;){if(_=Of(s),_!==null){for(f.flags|=128,Lu(x,!1),s=_.updateQueue,f.updateQueue=s,Bf(f,s),f.subtreeFlags=0,s=h,h=f.child;h!==null;)Qv(h,s),h=h.sibling;return oe(Ht,Ht.current&1|2),f.child}s=s.sibling}x.tail!==null&&Xn()>Ff&&(f.flags|=128,p=!0,Lu(x,!1),f.lanes=4194304)}else{if(!p)if(s=Of(_),s!==null){if(f.flags|=128,p=!0,s=s.updateQueue,f.updateQueue=s,Bf(f,s),Lu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!$e)return Rt(f),null}else 2*Xn()-x.renderingStartTime>Ff&&h!==536870912&&(f.flags|=128,p=!0,Lu(x,!1),f.lanes=4194304);x.isBackwards?(_.sibling=f.child,f.child=_):(s=x.last,s!==null?s.sibling=_:f.child=_,x.last=_)}return x.tail!==null?(f=x.tail,x.rendering=f,x.tail=f.sibling,x.renderingStartTime=Xn(),f.sibling=null,s=Ht.current,oe(Ht,p?s&1|2:s&1),f):(Rt(f),null);case 22:case 23:return li(f),o1(),p=f.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(f.flags|=8192):p&&(f.flags|=8192),p?(h&536870912)!==0&&(f.flags&128)===0&&(Rt(f),f.subtreeFlags&6&&(f.flags|=8192)):Rt(f),h=f.updateQueue,h!==null&&Bf(f,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),p=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(p=f.memoizedState.cachePool.pool),p!==h&&(f.flags|=2048),s!==null&&ue(wa),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),f.memoizedState.cache!==h&&(f.flags|=2048),si(Ut),Rt(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function vE(s,f){switch(Yc(f),f.tag){case 1:return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 3:return si(Ut),Si(),s=f.flags,(s&65536)!==0&&(s&128)===0?(f.flags=s&-65537|128,f):null;case 26:case 27:case 5:return Xs(f),null;case 13:if(li(f),s=f.memoizedState,s!==null&&s.dehydrated!==null){if(f.alternate===null)throw Error(n(340));mu()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 19:return ue(Ht),null;case 4:return Si(),null;case 10:return si(f.type),null;case 22:case 23:return li(f),o1(),s!==null&&ue(wa),s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 24:return si(Ut),null;case 25:return null;default:return null}}function Sp(s,f){switch(Yc(f),f.tag){case 3:si(Ut),Si();break;case 26:case 27:case 5:Xs(f);break;case 4:Si();break;case 13:li(f);break;case 19:ue(Ht);break;case 10:si(f.type);break;case 22:case 23:li(f),o1(),s!==null&&ue(wa);break;case 24:si(Ut)}}function Fu(s,f){try{var h=f.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var x=p.next;h=x;do{if((h.tag&s)===s){p=void 0;var _=h.create,S=h.inst;p=_(),S.destroy=p}h=h.next}while(h!==x)}}catch(T){pt(f,f.return,T)}}function Li(s,f,h){try{var p=f.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var _=x.next;p=_;do{if((p.tag&s)===s){var S=p.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,x=f;var N=h,U=T;try{U()}catch(q){pt(x,N,q)}}}p=p.next}while(p!==_)}}catch(q){pt(f,f.return,q)}}function Ip(s){var f=s.updateQueue;if(f!==null){var h=s.stateNode;try{d2(f,h)}catch(p){pt(s,s.return,p)}}}function Tp(s,f,h){h.props=Sa(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(p){pt(s,f,p)}}function ku(s,f){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof h=="function"?s.refCleanup=h(p):h.current=p}}catch(x){pt(s,f,x)}}function jn(s,f){var h=s.ref,p=s.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(x){pt(s,f,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){pt(s,f,x)}else h.current=null}function bp(s){var f=s.type,h=s.memoizedProps,p=s.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(x){pt(s,s.return,x)}}function B1(s,f,h){try{var p=s.stateNode;PE(p,s.type,h,f),p[Vr]=f}catch(x){pt(s,s.return,x)}}function Op(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xi(s.type)||s.tag===4}function P1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Op(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function L1(s,f,h){var p=s.tag;if(p===5||p===6)s=s.stateNode,f?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,f):(f=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,f.appendChild(s),h=h._reactRootContainer,h!=null||f.onclick!==null||(f.onclick=Yf));else if(p!==4&&(p===27&&Xi(s.type)&&(h=s.stateNode,f=null),s=s.child,s!==null))for(L1(s,f,h),s=s.sibling;s!==null;)L1(s,f,h),s=s.sibling}function Pf(s,f,h){var p=s.tag;if(p===5||p===6)s=s.stateNode,f?h.insertBefore(s,f):h.appendChild(s);else if(p!==4&&(p===27&&Xi(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Pf(s,f,h),s=s.sibling;s!==null;)Pf(s,f,h),s=s.sibling}function Dp(s){var f=s.stateNode,h=s.memoizedProps;try{for(var p=s.type,x=f.attributes;x.length;)f.removeAttributeNode(x[0]);gr(f,p,h),f[Sr]=s,f[Vr]=h}catch(_){pt(s,s.return,_)}}var di=!1,Lt=!1,F1=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,rr=null;function pE(s,f){if(s=s.containerInfo,u0=Jf,s=Gv(s),Pc(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var x=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var S=0,T=-1,N=-1,U=0,q=0,J=s,G=null;t:for(;;){for(var X;J!==h||x!==0&&J.nodeType!==3||(T=S+x),J!==_||p!==0&&J.nodeType!==3||(N=S+p),J.nodeType===3&&(S+=J.nodeValue.length),(X=J.firstChild)!==null;)G=J,J=X;for(;;){if(J===s)break t;if(G===h&&++U===x&&(T=S),G===_&&++q===p&&(N=S),(X=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=X}h=T===-1||N===-1?null:{start:T,end:N}}else h=null}h=h||{start:0,end:0}}else h=null;for(s0={focusedElem:s,selectionRange:h},Jf=!1,rr=f;rr!==null;)if(f=rr,s=f.child,(f.subtreeFlags&1024)!==0&&s!==null)s.return=f,rr=s;else for(;rr!==null;){switch(f=rr,_=f.alternate,s=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,h=f,x=_.memoizedProps,_=_.memoizedState,p=h.stateNode;try{var Ee=Sa(h.type,x,h.elementType===h.type);s=p.getSnapshotBeforeUpdate(Ee,_),p.__reactInternalSnapshotBeforeUpdate=s}catch(me){pt(h,h.return,me)}}break;case 3:if((s&1024)!==0){if(s=f.stateNode.containerInfo,h=s.nodeType,h===9)c0(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":c0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=f.sibling,s!==null){s.return=f.return,rr=s;break}rr=f.return}}function Np(s,f,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:Fi(s,h),p&4&&Fu(5,h);break;case 1:if(Fi(s,h),p&4)if(s=h.stateNode,f===null)try{s.componentDidMount()}catch(S){pt(h,h.return,S)}else{var x=Sa(h.type,f.memoizedProps);f=f.memoizedState;try{s.componentDidUpdate(x,f,s.__reactInternalSnapshotBeforeUpdate)}catch(S){pt(h,h.return,S)}}p&64&&Ip(h),p&512&&ku(h,h.return);break;case 3:if(Fi(s,h),p&64&&(s=h.updateQueue,s!==null)){if(f=null,h.child!==null)switch(h.child.tag){case 27:case 5:f=h.child.stateNode;break;case 1:f=h.child.stateNode}try{d2(s,f)}catch(S){pt(h,h.return,S)}}break;case 27:f===null&&p&4&&Dp(h);case 26:case 5:Fi(s,h),f===null&&p&4&&bp(h),p&512&&ku(h,h.return);break;case 12:Fi(s,h);break;case 13:Fi(s,h),p&4&&Pp(s,h),p&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=CE.bind(null,h),GE(s,h))));break;case 22:if(p=h.memoizedState!==null||di,!p){f=f!==null&&f.memoizedState!==null||Lt,x=di;var _=Lt;di=p,(Lt=f)&&!_?ki(s,h,(h.subtreeFlags&8772)!==0):Fi(s,h),di=x,Lt=_}break;case 30:break;default:Fi(s,h)}}function Mp(s){var f=s.alternate;f!==null&&(s.alternate=null,Mp(f)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(f=s.stateNode,f!==null&&gc(f)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ot=null,Xr=!1;function vi(s,f,h){for(h=h.child;h!==null;)Bp(s,f,h),h=h.sibling}function Bp(s,f,h){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(au,h)}catch{}switch(h.tag){case 26:Lt||jn(h,f),vi(s,f,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Lt||jn(h,f);var p=Ot,x=Xr;Xi(h.type)&&(Ot=h.stateNode,Xr=!1),vi(s,f,h),ju(h.stateNode),Ot=p,Xr=x;break;case 5:Lt||jn(h,f);case 6:if(p=Ot,x=Xr,Ot=null,vi(s,f,h),Ot=p,Xr=x,Ot!==null)if(Xr)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(h.stateNode)}catch(_){pt(h,f,_)}else try{Ot.removeChild(h.stateNode)}catch(_){pt(h,f,_)}break;case 18:Ot!==null&&(Xr?(s=Ot,Eg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),ts(s)):Eg(Ot,h.stateNode));break;case 4:p=Ot,x=Xr,Ot=h.stateNode.containerInfo,Xr=!0,vi(s,f,h),Ot=p,Xr=x;break;case 0:case 11:case 14:case 15:Lt||Li(2,h,f),Lt||Li(4,h,f),vi(s,f,h);break;case 1:Lt||(jn(h,f),p=h.stateNode,typeof p.componentWillUnmount=="function"&&Tp(h,f,p)),vi(s,f,h);break;case 21:vi(s,f,h);break;case 22:Lt=(p=Lt)||h.memoizedState!==null,vi(s,f,h),Lt=p;break;default:vi(s,f,h)}}function Pp(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ts(s)}catch(h){pt(f,f.return,h)}}function gE(s){switch(s.tag){case 13:case 19:var f=s.stateNode;return f===null&&(f=s.stateNode=new Rp),f;case 22:return s=s.stateNode,f=s._retryCache,f===null&&(f=s._retryCache=new Rp),f;default:throw Error(n(435,s.tag))}}function k1(s,f){var h=gE(s);f.forEach(function(p){var x=SE.bind(null,s,p);h.has(p)||(h.add(p),p.then(x,x))})}function on(s,f){var h=f.deletions;if(h!==null)for(var p=0;p<h.length;p++){var x=h[p],_=s,S=f,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(Xi(T.type)){Ot=T.stateNode,Xr=!1;break e}break;case 5:Ot=T.stateNode,Xr=!1;break e;case 3:case 4:Ot=T.stateNode.containerInfo,Xr=!0;break e}T=T.return}if(Ot===null)throw Error(n(160));Bp(_,S,x),Ot=null,Xr=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Lp(f,s),f=f.sibling}var On=null;function Lp(s,f){var h=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:on(f,s),un(s),p&4&&(Li(3,s,s.return),Fu(3,s),Li(5,s,s.return));break;case 1:on(f,s),un(s),p&512&&(Lt||h===null||jn(h,h.return)),p&64&&di&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var x=On;if(on(f,s),un(s),p&512&&(Lt||h===null||jn(h,h.return)),p&4){var _=h!==null?h.memoizedState:null;if(p=s.memoizedState,h===null)if(p===null)if(s.stateNode===null){e:{p=s.type,h=s.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":_=x.getElementsByTagName("title")[0],(!_||_[su]||_[Sr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(p),x.head.insertBefore(_,x.querySelector("head > title"))),gr(_,p,h),_[Sr]=s,er(_),p=_;break e;case"link":var S=Dg("link","href",x).get(p+(h.href||""));if(S){for(var T=0;T<S.length;T++)if(_=S[T],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){S.splice(T,1);break t}}_=x.createElement(p),gr(_,p,h),x.head.appendChild(_);break;case"meta":if(S=Dg("meta","content",x).get(p+(h.content||""))){for(T=0;T<S.length;T++)if(_=S[T],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){S.splice(T,1);break t}}_=x.createElement(p),gr(_,p,h),x.head.appendChild(_);break;default:throw Error(n(468,p))}_[Sr]=s,er(_),p=_}s.stateNode=p}else Rg(x,s.type,s.stateNode);else s.stateNode=Og(x,p,s.memoizedProps);else _!==p?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,p===null?Rg(x,s.type,s.stateNode):Og(x,p,s.memoizedProps)):p===null&&s.stateNode!==null&&B1(s,s.memoizedProps,h.memoizedProps)}break;case 27:on(f,s),un(s),p&512&&(Lt||h===null||jn(h,h.return)),h!==null&&p&4&&B1(s,s.memoizedProps,h.memoizedProps);break;case 5:if(on(f,s),un(s),p&512&&(Lt||h===null||jn(h,h.return)),s.flags&32){x=s.stateNode;try{to(x,"")}catch(X){pt(s,s.return,X)}}p&4&&s.stateNode!=null&&(x=s.memoizedProps,B1(s,x,h!==null?h.memoizedProps:x)),p&1024&&(F1=!0);break;case 6:if(on(f,s),un(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,h=s.stateNode;try{h.nodeValue=p}catch(X){pt(s,s.return,X)}}break;case 3:if(Kf=null,x=On,On=$f(f.containerInfo),on(f,s),On=x,un(s),p&4&&h!==null&&h.memoizedState.isDehydrated)try{ts(f.containerInfo)}catch(X){pt(s,s.return,X)}F1&&(F1=!1,Fp(s));break;case 4:p=On,On=$f(s.stateNode.containerInfo),on(f,s),un(s),On=p;break;case 12:on(f,s),un(s);break;case 13:on(f,s),un(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(X1=Xn()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,k1(s,p)));break;case 22:x=s.memoizedState!==null;var N=h!==null&&h.memoizedState!==null,U=di,q=Lt;if(di=U||x,Lt=q||N,on(f,s),Lt=q,di=U,un(s),p&8192)e:for(f=s.stateNode,f._visibility=x?f._visibility&-2:f._visibility|1,x&&(h===null||N||di||Lt||Ia(s)),h=null,f=s;;){if(f.tag===5||f.tag===26){if(h===null){N=h=f;try{if(_=N.stateNode,x)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=N.stateNode;var J=N.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(X){pt(N,N.return,X)}}}else if(f.tag===6){if(h===null){N=f;try{N.stateNode.nodeValue=x?"":N.memoizedProps}catch(X){pt(N,N.return,X)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===s)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}p&4&&(p=s.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,k1(s,h))));break;case 19:on(f,s),un(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,k1(s,p)));break;case 30:break;case 21:break;default:on(f,s),un(s)}}function un(s){var f=s.flags;if(f&2){try{for(var h,p=s.return;p!==null;){if(Op(p)){h=p;break}p=p.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var x=h.stateNode,_=P1(s);Pf(s,_,x);break;case 5:var S=h.stateNode;h.flags&32&&(to(S,""),h.flags&=-33);var T=P1(s);Pf(s,T,S);break;case 3:case 4:var N=h.stateNode.containerInfo,U=P1(s);L1(s,U,N);break;default:throw Error(n(161))}}catch(q){pt(s,s.return,q)}s.flags&=-3}f&4096&&(s.flags&=-4097)}function Fp(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var f=s;Fp(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),s=s.sibling}}function Fi(s,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Np(s,f.alternate,f),f=f.sibling}function Ia(s){for(s=s.child;s!==null;){var f=s;switch(f.tag){case 0:case 11:case 14:case 15:Li(4,f,f.return),Ia(f);break;case 1:jn(f,f.return);var h=f.stateNode;typeof h.componentWillUnmount=="function"&&Tp(f,f.return,h),Ia(f);break;case 27:ju(f.stateNode);case 26:case 5:jn(f,f.return),Ia(f);break;case 22:f.memoizedState===null&&Ia(f);break;case 30:Ia(f);break;default:Ia(f)}s=s.sibling}}function ki(s,f,h){for(h=h&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var p=f.alternate,x=s,_=f,S=_.flags;switch(_.tag){case 0:case 11:case 15:ki(x,_,h),Fu(4,_);break;case 1:if(ki(x,_,h),p=_,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(U){pt(p,p.return,U)}if(p=_,x=p.updateQueue,x!==null){var T=p.stateNode;try{var N=x.shared.hiddenCallbacks;if(N!==null)for(x.shared.hiddenCallbacks=null,x=0;x<N.length;x++)h2(N[x],T)}catch(U){pt(p,p.return,U)}}h&&S&64&&Ip(_),ku(_,_.return);break;case 27:Dp(_);case 26:case 5:ki(x,_,h),h&&p===null&&S&4&&bp(_),ku(_,_.return);break;case 12:ki(x,_,h);break;case 13:ki(x,_,h),h&&S&4&&Pp(x,_);break;case 22:_.memoizedState===null&&ki(x,_,h),ku(_,_.return);break;case 30:break;default:ki(x,_,h)}f=f.sibling}}function U1(s,f){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(s=f.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&wu(h))}function H1(s,f){s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&wu(s))}function $n(s,f,h,p){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)kp(s,f,h,p),f=f.sibling}function kp(s,f,h,p){var x=f.flags;switch(f.tag){case 0:case 11:case 15:$n(s,f,h,p),x&2048&&Fu(9,f);break;case 1:$n(s,f,h,p);break;case 3:$n(s,f,h,p),x&2048&&(s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&wu(s)));break;case 12:if(x&2048){$n(s,f,h,p),s=f.stateNode;try{var _=f.memoizedProps,S=_.id,T=_.onPostCommit;typeof T=="function"&&T(S,f.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(N){pt(f,f.return,N)}}else $n(s,f,h,p);break;case 13:$n(s,f,h,p);break;case 23:break;case 22:_=f.stateNode,S=f.alternate,f.memoizedState!==null?_._visibility&2?$n(s,f,h,p):Uu(s,f):_._visibility&2?$n(s,f,h,p):(_._visibility|=2,Ao(s,f,h,p,(f.subtreeFlags&10256)!==0)),x&2048&&U1(S,f);break;case 24:$n(s,f,h,p),x&2048&&H1(f.alternate,f);break;default:$n(s,f,h,p)}}function Ao(s,f,h,p,x){for(x=x&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var _=s,S=f,T=h,N=p,U=S.flags;switch(S.tag){case 0:case 11:case 15:Ao(_,S,T,N,x),Fu(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?Ao(_,S,T,N,x):Uu(_,S):(q._visibility|=2,Ao(_,S,T,N,x)),x&&U&2048&&U1(S.alternate,S);break;case 24:Ao(_,S,T,N,x),x&&U&2048&&H1(S.alternate,S);break;default:Ao(_,S,T,N,x)}f=f.sibling}}function Uu(s,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var h=s,p=f,x=p.flags;switch(p.tag){case 22:Uu(h,p),x&2048&&U1(p.alternate,p);break;case 24:Uu(h,p),x&2048&&H1(p.alternate,p);break;default:Uu(h,p)}f=f.sibling}}var Hu=8192;function Eo(s){if(s.subtreeFlags&Hu)for(s=s.child;s!==null;)Up(s),s=s.sibling}function Up(s){switch(s.tag){case 26:Eo(s),s.flags&Hu&&s.memoizedState!==null&&tw(On,s.memoizedState,s.memoizedProps);break;case 5:Eo(s);break;case 3:case 4:var f=On;On=$f(s.stateNode.containerInfo),Eo(s),On=f;break;case 22:s.memoizedState===null&&(f=s.alternate,f!==null&&f.memoizedState!==null?(f=Hu,Hu=16777216,Eo(s),Hu=f):Eo(s));break;default:Eo(s)}}function Hp(s){var f=s.alternate;if(f!==null&&(s=f.child,s!==null)){f.child=null;do f=s.sibling,s.sibling=null,s=f;while(s!==null)}}function Vu(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var h=0;h<f.length;h++){var p=f[h];rr=p,Gp(p,s)}Hp(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vp(s),s=s.sibling}function Vp(s){switch(s.tag){case 0:case 11:case 15:Vu(s),s.flags&2048&&Li(9,s,s.return);break;case 3:Vu(s);break;case 12:Vu(s);break;case 22:var f=s.stateNode;s.memoizedState!==null&&f._visibility&2&&(s.return===null||s.return.tag!==13)?(f._visibility&=-3,Lf(s)):Vu(s);break;default:Vu(s)}}function Lf(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var h=0;h<f.length;h++){var p=f[h];rr=p,Gp(p,s)}Hp(s)}for(s=s.child;s!==null;){switch(f=s,f.tag){case 0:case 11:case 15:Li(8,f,f.return),Lf(f);break;case 22:h=f.stateNode,h._visibility&2&&(h._visibility&=-3,Lf(f));break;default:Lf(f)}s=s.sibling}}function Gp(s,f){for(;rr!==null;){var h=rr;switch(h.tag){case 0:case 11:case 15:Li(8,h,f);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:wu(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,rr=p;else e:for(h=s;rr!==null;){p=rr;var x=p.sibling,_=p.return;if(Mp(p),p===h){rr=null;break e}if(x!==null){x.return=_,rr=x;break e}rr=_}}}var yE={getCacheForType:function(s){var f=Ir(Ut),h=f.data.get(s);return h===void 0&&(h=s(),f.data.set(s,h)),h}},xE=typeof WeakMap=="function"?WeakMap:Map,rt=0,gt=null,Ne=null,Fe=0,nt=0,sn=null,Ui=!1,wo=!1,V1=!1,pi=0,Bt=0,Hi=0,Ta=0,G1=0,xn=0,Co=0,Gu=null,Wr=null,z1=!1,X1=0,Ff=1/0,kf=null,Vi=null,pr=0,Gi=null,So=null,Io=0,W1=0,Y1=null,zp=null,zu=0,j1=null;function fn(){if((rt&2)!==0&&Fe!==0)return Fe&-Fe;if(Y.T!==null){var s=ho;return s!==0?s:e0()}return av()}function Xp(){xn===0&&(xn=(Fe&536870912)===0||$e?tv():536870912);var s=yn.current;return s!==null&&(s.flags|=32),xn}function ln(s,f,h){(s===gt&&(nt===2||nt===9)||s.cancelPendingCommit!==null)&&(To(s,0),zi(s,Fe,xn,!1)),uu(s,h),((rt&2)===0||s!==gt)&&(s===gt&&((rt&2)===0&&(Ta|=h),Bt===4&&zi(s,Fe,xn,!1)),Zn(s))}function Wp(s,f,h){if((rt&6)!==0)throw Error(n(327));var p=!h&&(f&124)===0&&(f&s.expiredLanes)===0||ou(s,f),x=p?AE(s,f):K1(s,f,!0),_=p;do{if(x===0){wo&&!p&&zi(s,f,0,!1);break}else{if(h=s.current.alternate,_&&!_E(h)){x=K1(s,f,!1),_=!1;continue}if(x===2){if(_=f,s.errorRecoveryDisabledLanes&_)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){f=S;e:{var T=s;x=Gu;var N=T.current.memoizedState.isDehydrated;if(N&&(To(T,S).flags|=256),S=K1(T,S,!1),S!==2){if(V1&&!N){T.errorRecoveryDisabledLanes|=_,Ta|=_,x=4;break e}_=Wr,Wr=x,_!==null&&(Wr===null?Wr=_:Wr.push.apply(Wr,_))}x=S}if(_=!1,x!==2)continue}}if(x===1){To(s,0),zi(s,f,0,!0);break}e:{switch(p=s,_=x,_){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:zi(p,f,xn,!Ui);break e;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(x=X1+300-Xn(),10<x)){if(zi(p,f,xn,!Ui),$s(p,0,!0)!==0)break e;p.timeoutHandle=mg(Yp.bind(null,p,h,Wr,kf,z1,f,xn,Ta,Co,Ui,_,2,-0,0),x);break e}Yp(p,h,Wr,kf,z1,f,xn,Ta,Co,Ui,_,0,-0,0)}}break}while(!0);Zn(s)}function Yp(s,f,h,p,x,_,S,T,N,U,q,J,G,X){if(s.timeoutHandle=-1,J=f.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ku={stylesheets:null,count:0,unsuspend:ew},Up(f),J=rw(),J!==null)){s.cancelPendingCommit=J(Jp.bind(null,s,f,_,h,p,x,S,T,N,q,1,G,X)),zi(s,_,S,!U);return}Jp(s,f,_,h,p,x,S,T,N)}function _E(s){for(var f=s;;){var h=f.tag;if((h===0||h===11||h===15)&&f.flags&16384&&(h=f.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var x=h[p],_=x.getSnapshot;x=x.value;try{if(!nn(_(),x))return!1}catch{return!1}}if(h=f.child,f.subtreeFlags&16384&&h!==null)h.return=f,f=h;else{if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function zi(s,f,h,p){f&=~G1,f&=~Ta,s.suspendedLanes|=f,s.pingedLanes&=~f,p&&(s.warmLanes|=f),p=s.expirationTimes;for(var x=f;0<x;){var _=31-rn(x),S=1<<_;p[_]=-1,x&=~S}h!==0&&nv(s,h,f)}function Uf(){return(rt&6)===0?(Xu(0),!1):!0}function $1(){if(Ne!==null){if(nt===0)var s=Ne.return;else s=Ne,ui=Aa=null,c1(s),_o=null,Bu=0,s=Ne;for(;s!==null;)Sp(s.alternate,s),s=s.return;Ne=null}}function To(s,f){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,FE(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),$1(),gt=s,Ne=h=ii(s.current,null),Fe=f,nt=0,sn=null,Ui=!1,wo=ou(s,f),V1=!1,Co=xn=G1=Ta=Hi=Bt=0,Wr=Gu=null,z1=!1,(f&8)!==0&&(f|=f&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=f;0<p;){var x=31-rn(p),_=1<<x;f|=s[x],p&=~_}return pi=f,uf(),h}function jp(s,f){Ie=null,Y.H=If,f===Su||f===gf?(f=l2(),nt=3):f===u2?(f=l2(),nt=4):nt=f===cp?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,sn=f,Ne===null&&(Bt=1,Rf(s,dn(f,s.current)))}function $p(){var s=Y.H;return Y.H=If,s===null?If:s}function Zp(){var s=Y.A;return Y.A=yE,s}function Z1(){Bt=4,Ui||(Fe&4194048)!==Fe&&yn.current!==null||(wo=!0),(Hi&134217727)===0&&(Ta&134217727)===0||gt===null||zi(gt,Fe,xn,!1)}function K1(s,f,h){var p=rt;rt|=2;var x=$p(),_=Zp();(gt!==s||Fe!==f)&&(kf=null,To(s,f)),f=!1;var S=Bt;e:do try{if(nt!==0&&Ne!==null){var T=Ne,N=sn;switch(nt){case 8:$1(),S=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(f=!0);var U=nt;if(nt=0,sn=null,bo(s,T,N,U),h&&wo){S=0;break e}break;default:U=nt,nt=0,sn=null,bo(s,T,N,U)}}mE(),S=Bt;break}catch(q){jp(s,q)}while(!0);return f&&s.shellSuspendCounter++,ui=Aa=null,rt=p,Y.H=x,Y.A=_,Ne===null&&(gt=null,Fe=0,uf()),S}function mE(){for(;Ne!==null;)Kp(Ne)}function AE(s,f){var h=rt;rt|=2;var p=$p(),x=Zp();gt!==s||Fe!==f?(kf=null,Ff=Xn()+500,To(s,f)):wo=ou(s,f);e:do try{if(nt!==0&&Ne!==null){f=Ne;var _=sn;t:switch(nt){case 1:nt=0,sn=null,bo(s,f,_,1);break;case 2:case 9:if(s2(_)){nt=0,sn=null,qp(f);break}f=function(){nt!==2&&nt!==9||gt!==s||(nt=7),Zn(s)},_.then(f,f);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:s2(_)?(nt=0,sn=null,qp(f)):(nt=0,sn=null,bo(s,f,_,7));break;case 5:var S=null;switch(Ne.tag){case 26:S=Ne.memoizedState;case 5:case 27:var T=Ne;if(!S||Ng(S)){nt=0,sn=null;var N=T.sibling;if(N!==null)Ne=N;else{var U=T.return;U!==null?(Ne=U,Hf(U)):Ne=null}break t}}nt=0,sn=null,bo(s,f,_,5);break;case 6:nt=0,sn=null,bo(s,f,_,6);break;case 8:$1(),Bt=6;break e;default:throw Error(n(462))}}EE();break}catch(q){jp(s,q)}while(!0);return ui=Aa=null,Y.H=p,Y.A=x,rt=h,Ne!==null?0:(gt=null,Fe=0,uf(),Bt)}function EE(){for(;Ne!==null&&!Xm();)Kp(Ne)}function Kp(s){var f=wp(s.alternate,s,pi);s.memoizedProps=s.pendingProps,f===null?Hf(s):Ne=f}function qp(s){var f=s,h=f.alternate;switch(f.tag){case 15:case 0:f=yp(h,f,f.pendingProps,f.type,void 0,Fe);break;case 11:f=yp(h,f,f.pendingProps,f.type.render,f.ref,Fe);break;case 5:c1(f);default:Sp(h,f),f=Ne=Qv(f,pi),f=wp(h,f,pi)}s.memoizedProps=s.pendingProps,f===null?Hf(s):Ne=f}function bo(s,f,h,p){ui=Aa=null,c1(f),_o=null,Bu=0;var x=f.return;try{if(cE(s,x,f,h,Fe)){Bt=1,Rf(s,dn(h,s.current)),Ne=null;return}}catch(_){if(x!==null)throw Ne=x,_;Bt=1,Rf(s,dn(h,s.current)),Ne=null;return}f.flags&32768?($e||p===1?s=!0:wo||(Fe&536870912)!==0?s=!1:(Ui=s=!0,(p===2||p===9||p===3||p===6)&&(p=yn.current,p!==null&&p.tag===13&&(p.flags|=16384))),Qp(f,s)):Hf(f)}function Hf(s){var f=s;do{if((f.flags&32768)!==0){Qp(f,Ui);return}s=f.return;var h=dE(f.alternate,f,pi);if(h!==null){Ne=h;return}if(f=f.sibling,f!==null){Ne=f;return}Ne=f=s}while(f!==null);Bt===0&&(Bt=5)}function Qp(s,f){do{var h=vE(s.alternate,s);if(h!==null){h.flags&=32767,Ne=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!f&&(s=s.sibling,s!==null)){Ne=s;return}Ne=s=h}while(s!==null);Bt=6,Ne=null}function Jp(s,f,h,p,x,_,S,T,N){s.cancelPendingCommit=null;do Vf();while(pr!==0);if((rt&6)!==0)throw Error(n(327));if(f!==null){if(f===s.current)throw Error(n(177));if(_=f.lanes|f.childLanes,_|=Hc,eA(s,h,_,S,T,N),s===gt&&(Ne=gt=null,Fe=0),So=f,Gi=s,Io=h,W1=_,Y1=x,zp=p,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,IE(Ws,function(){return ig(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null,x=ie.p,ie.p=2,S=rt,rt|=4;try{pE(s,f,h)}finally{rt=S,ie.p=x,Y.T=p}}pr=1,eg(),tg(),rg()}}function eg(){if(pr===1){pr=0;var s=Gi,f=So,h=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null;var p=ie.p;ie.p=2;var x=rt;rt|=4;try{Lp(f,s);var _=s0,S=Gv(s.containerInfo),T=_.focusedElem,N=_.selectionRange;if(S!==T&&T&&T.ownerDocument&&Vv(T.ownerDocument.documentElement,T)){if(N!==null&&Pc(T)){var U=N.start,q=N.end;if(q===void 0&&(q=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(q,T.value.length);else{var J=T.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var X=G.getSelection(),Ee=T.textContent.length,me=Math.min(N.start,Ee),lt=N.end===void 0?me:Math.min(N.end,Ee);!X.extend&&me>lt&&(S=lt,lt=me,me=S);var F=Hv(T,me),P=Hv(T,lt);if(F&&P&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var k=J.createRange();k.setStart(F.node,F.offset),X.removeAllRanges(),me>lt?(X.addRange(k),X.extend(P.node,P.offset)):(k.setEnd(P.node,P.offset),X.addRange(k))}}}}for(J=[],X=T;X=X.parentNode;)X.nodeType===1&&J.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Q=J[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Jf=!!u0,s0=u0=null}finally{rt=x,ie.p=p,Y.T=h}}s.current=f,pr=2}}function tg(){if(pr===2){pr=0;var s=Gi,f=So,h=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||h){h=Y.T,Y.T=null;var p=ie.p;ie.p=2;var x=rt;rt|=4;try{Np(s,f.alternate,f)}finally{rt=x,ie.p=p,Y.T=h}}pr=3}}function rg(){if(pr===4||pr===3){pr=0,Wm();var s=Gi,f=So,h=Io,p=zp;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?pr=5:(pr=0,So=Gi=null,ng(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(Vi=null),vc(h),f=f.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(au,f,void 0,(f.current.flags&128)===128)}catch{}if(p!==null){f=Y.T,x=ie.p,ie.p=2,Y.T=null;try{for(var _=s.onRecoverableError,S=0;S<p.length;S++){var T=p[S];_(T.value,{componentStack:T.stack})}}finally{Y.T=f,ie.p=x}}(Io&3)!==0&&Vf(),Zn(s),x=s.pendingLanes,(h&4194090)!==0&&(x&42)!==0?s===j1?zu++:(zu=0,j1=s):zu=0,Xu(0)}}function ng(s,f){(s.pooledCacheLanes&=f)===0&&(f=s.pooledCache,f!=null&&(s.pooledCache=null,wu(f)))}function Vf(s){return eg(),tg(),rg(),ig()}function ig(){if(pr!==5)return!1;var s=Gi,f=W1;W1=0;var h=vc(Io),p=Y.T,x=ie.p;try{ie.p=32>h?32:h,Y.T=null,h=Y1,Y1=null;var _=Gi,S=Io;if(pr=0,So=Gi=null,Io=0,(rt&6)!==0)throw Error(n(331));var T=rt;if(rt|=4,Vp(_.current),kp(_,_.current,S,h),rt=T,Xu(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(au,_)}catch{}return!0}finally{ie.p=x,Y.T=p,ng(s,f)}}function ag(s,f,h){f=dn(h,f),f=S1(s.stateNode,f,2),s=Ni(s,f,2),s!==null&&(uu(s,2),Zn(s))}function pt(s,f,h){if(s.tag===3)ag(s,s,h);else for(;f!==null;){if(f.tag===3){ag(f,s,h);break}else if(f.tag===1){var p=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Vi===null||!Vi.has(p))){s=dn(h,s),h=fp(2),p=Ni(f,h,2),p!==null&&(lp(h,p,f,s),uu(p,2),Zn(p));break}}f=f.return}}function q1(s,f,h){var p=s.pingCache;if(p===null){p=s.pingCache=new xE;var x=new Set;p.set(f,x)}else x=p.get(f),x===void 0&&(x=new Set,p.set(f,x));x.has(h)||(V1=!0,x.add(h),s=wE.bind(null,s,f,h),f.then(s,s))}function wE(s,f,h){var p=s.pingCache;p!==null&&p.delete(f),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,gt===s&&(Fe&h)===h&&(Bt===4||Bt===3&&(Fe&62914560)===Fe&&300>Xn()-X1?(rt&2)===0&&To(s,0):G1|=h,Co===Fe&&(Co=0)),Zn(s)}function og(s,f){f===0&&(f=rv()),s=so(s,f),s!==null&&(uu(s,f),Zn(s))}function CE(s){var f=s.memoizedState,h=0;f!==null&&(h=f.retryLane),og(s,h)}function SE(s,f){var h=0;switch(s.tag){case 13:var p=s.stateNode,x=s.memoizedState;x!==null&&(h=x.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(f),og(s,h)}function IE(s,f){return lc(s,f)}var Gf=null,Oo=null,Q1=!1,zf=!1,J1=!1,ba=0;function Zn(s){s!==Oo&&s.next===null&&(Oo===null?Gf=Oo=s:Oo=Oo.next=s),zf=!0,Q1||(Q1=!0,bE())}function Xu(s,f){if(!J1&&zf){J1=!0;do for(var h=!1,p=Gf;p!==null;){if(s!==0){var x=p.pendingLanes;if(x===0)var _=0;else{var S=p.suspendedLanes,T=p.pingedLanes;_=(1<<31-rn(42|s)+1)-1,_&=x&~(S&~T),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,lg(p,_))}else _=Fe,_=$s(p,p===gt?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||ou(p,_)||(h=!0,lg(p,_));p=p.next}while(h);J1=!1}}function TE(){ug()}function ug(){zf=Q1=!1;var s=0;ba!==0&&(LE()&&(s=ba),ba=0);for(var f=Xn(),h=null,p=Gf;p!==null;){var x=p.next,_=sg(p,f);_===0?(p.next=null,h===null?Gf=x:h.next=x,x===null&&(Oo=h)):(h=p,(s!==0||(_&3)!==0)&&(zf=!0)),p=x}Xu(s)}function sg(s,f){for(var h=s.suspendedLanes,p=s.pingedLanes,x=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var S=31-rn(_),T=1<<S,N=x[S];N===-1?((T&h)===0||(T&p)!==0)&&(x[S]=Jm(T,f)):N<=f&&(s.expiredLanes|=T),_&=~T}if(f=gt,h=Fe,h=$s(s,s===f?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,h===0||s===f&&(nt===2||nt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&cc(p),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||ou(s,h)){if(f=h&-h,f===s.callbackPriority)return f;switch(p!==null&&cc(p),vc(h)){case 2:case 8:h=Jd;break;case 32:h=Ws;break;case 268435456:h=ev;break;default:h=Ws}return p=fg.bind(null,s),h=lc(h,p),s.callbackPriority=f,s.callbackNode=h,f}return p!==null&&p!==null&&cc(p),s.callbackPriority=2,s.callbackNode=null,2}function fg(s,f){if(pr!==0&&pr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Vf()&&s.callbackNode!==h)return null;var p=Fe;return p=$s(s,s===gt?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(Wp(s,p,f),sg(s,Xn()),s.callbackNode!=null&&s.callbackNode===h?fg.bind(null,s):null)}function lg(s,f){if(Vf())return null;Wp(s,f,!0)}function bE(){kE(function(){(rt&6)!==0?lc(Qd,TE):ug()})}function e0(){return ba===0&&(ba=tv()),ba}function cg(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Js(""+s)}function hg(s,f){var h=f.ownerDocument.createElement("input");return h.name=f.name,h.value=f.value,s.id&&h.setAttribute("form",s.id),f.parentNode.insertBefore(h,f),s=new FormData(s),h.parentNode.removeChild(h),s}function OE(s,f,h,p,x){if(f==="submit"&&h&&h.stateNode===x){var _=cg((x[Vr]||null).action),S=p.submitter;S&&(f=(f=S[Vr]||null)?cg(f.formAction):S.getAttribute("formAction"),f!==null&&(_=f,S=null));var T=new nf("action","action",null,p,x);s.push({event:T,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ba!==0){var N=S?hg(x,S):new FormData(x);m1(h,{pending:!0,data:N,method:x.method,action:_},null,N)}}else typeof _=="function"&&(T.preventDefault(),N=S?hg(x,S):new FormData(x),m1(h,{pending:!0,data:N,method:x.method,action:_},_,N))},currentTarget:x}]})}}for(var t0=0;t0<Uc.length;t0++){var r0=Uc[t0],DE=r0.toLowerCase(),RE=r0[0].toUpperCase()+r0.slice(1);bn(DE,"on"+RE)}bn(Wv,"onAnimationEnd"),bn(Yv,"onAnimationIteration"),bn(jv,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn($A,"onTransitionRun"),bn(ZA,"onTransitionStart"),bn(KA,"onTransitionCancel"),bn($v,"onTransitionEnd"),Qa("onMouseEnter",["mouseout","mouseover"]),Qa("onMouseLeave",["mouseout","mouseover"]),Qa("onPointerEnter",["pointerout","pointerover"]),Qa("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function dg(s,f){f=(f&4)!==0;for(var h=0;h<s.length;h++){var p=s[h],x=p.event;p=p.listeners;e:{var _=void 0;if(f)for(var S=p.length-1;0<=S;S--){var T=p[S],N=T.instance,U=T.currentTarget;if(T=T.listener,N!==_&&x.isPropagationStopped())break e;_=T,x.currentTarget=U;try{_(x)}catch(q){Df(q)}x.currentTarget=null,_=N}else for(S=0;S<p.length;S++){if(T=p[S],N=T.instance,U=T.currentTarget,T=T.listener,N!==_&&x.isPropagationStopped())break e;_=T,x.currentTarget=U;try{_(x)}catch(q){Df(q)}x.currentTarget=null,_=N}}}}function Me(s,f){var h=f[pc];h===void 0&&(h=f[pc]=new Set);var p=s+"__bubble";h.has(p)||(vg(f,s,2,!1),h.add(p))}function n0(s,f,h){var p=0;f&&(p|=4),vg(h,s,p,f)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function i0(s){if(!s[Xf]){s[Xf]=!0,uv.forEach(function(h){h!=="selectionchange"&&(NE.has(h)||n0(h,!1,s),n0(h,!0,s))});var f=s.nodeType===9?s:s.ownerDocument;f===null||f[Xf]||(f[Xf]=!0,n0("selectionchange",!1,f))}}function vg(s,f,h,p){switch(kg(f)){case 2:var x=aw;break;case 8:x=ow;break;default:x=x0}h=x.bind(null,f,h,s),x=void 0,!Ic||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(x=!0),p?x!==void 0?s.addEventListener(f,h,{capture:!0,passive:x}):s.addEventListener(f,h,!0):x!==void 0?s.addEventListener(f,h,{passive:x}):s.addEventListener(f,h,!1)}function a0(s,f,h,p,x){var _=p;if((f&1)===0&&(f&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var T=p.stateNode.containerInfo;if(T===x)break;if(S===4)for(S=p.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===x)return;S=S.return}for(;T!==null;){if(S=Za(T),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){p=_=S;continue e}T=T.parentNode}}p=p.return}Av(function(){var U=_,q=Cc(h),J=[];e:{var G=Zv.get(s);if(G!==void 0){var X=nf,Ee=s;switch(s){case"keypress":if(tf(h)===0)break e;case"keydown":case"keyup":X=IA;break;case"focusin":Ee="focus",X=Dc;break;case"focusout":Ee="blur",X=Dc;break;case"beforeblur":case"afterblur":X=Dc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=vA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=OA;break;case Wv:case Yv:case jv:X=yA;break;case $v:X=RA;break;case"scroll":case"scrollend":X=hA;break;case"wheel":X=MA;break;case"copy":case"cut":case"paste":X=_A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Iv;break;case"toggle":case"beforetoggle":X=PA}var me=(f&4)!==0,lt=!me&&(s==="scroll"||s==="scrollend"),F=me?G!==null?G+"Capture":null:G;me=[];for(var P=U,k;P!==null;){var Q=P;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||F===null||(Q=lu(P,F),Q!=null&&me.push(Yu(P,Q,k))),lt)break;P=P.return}0<me.length&&(G=new X(G,Ee,null,h,q),J.push({event:G,listeners:me}))}}if((f&7)===0){e:{if(G=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",G&&h!==wc&&(Ee=h.relatedTarget||h.fromElement)&&(Za(Ee)||Ee[$a]))break e;if((X||G)&&(G=q.window===q?q:(G=q.ownerDocument)?G.defaultView||G.parentWindow:window,X?(Ee=h.relatedTarget||h.toElement,X=U,Ee=Ee?Za(Ee):null,Ee!==null&&(lt=a(Ee),me=Ee.tag,Ee!==lt||me!==5&&me!==27&&me!==6)&&(Ee=null)):(X=null,Ee=U),X!==Ee)){if(me=Cv,Q="onMouseLeave",F="onMouseEnter",P="mouse",(s==="pointerout"||s==="pointerover")&&(me=Iv,Q="onPointerLeave",F="onPointerEnter",P="pointer"),lt=X==null?G:fu(X),k=Ee==null?G:fu(Ee),G=new me(Q,P+"leave",X,h,q),G.target=lt,G.relatedTarget=k,Q=null,Za(q)===U&&(me=new me(F,P+"enter",Ee,h,q),me.target=k,me.relatedTarget=lt,Q=me),lt=Q,X&&Ee)t:{for(me=X,F=Ee,P=0,k=me;k;k=Do(k))P++;for(k=0,Q=F;Q;Q=Do(Q))k++;for(;0<P-k;)me=Do(me),P--;for(;0<k-P;)F=Do(F),k--;for(;P--;){if(me===F||F!==null&&me===F.alternate)break t;me=Do(me),F=Do(F)}me=null}else me=null;X!==null&&pg(J,G,X,me,!1),Ee!==null&&lt!==null&&pg(J,lt,Ee,me,!0)}}e:{if(G=U?fu(U):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var se=Bv;else if(Nv(G))if(Pv)se=WA;else{se=zA;var Oe=GA}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Ec(U.elementType)&&(se=Bv):se=XA;if(se&&(se=se(s,U))){Mv(J,se,h,q);break e}Oe&&Oe(s,G,U),s==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Ac(G,"number",G.value)}switch(Oe=U?fu(U):window,s){case"focusin":(Nv(Oe)||Oe.contentEditable==="true")&&(ao=Oe,Lc=U,xu=null);break;case"focusout":xu=Lc=ao=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,zv(J,h,q);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":zv(J,h,q)}var pe;if(Nc)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else io?Dv(s,h)&&(Ae="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Ae="onCompositionStart");Ae&&(Tv&&h.locale!=="ko"&&(io||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&io&&(pe=Ev()):(bi=q,Tc="value"in bi?bi.value:bi.textContent,io=!0)),Oe=Wf(U,Ae),0<Oe.length&&(Ae=new Sv(Ae,s,null,h,q),J.push({event:Ae,listeners:Oe}),pe?Ae.data=pe:(pe=Rv(h),pe!==null&&(Ae.data=pe)))),(pe=FA?kA(s,h):UA(s,h))&&(Ae=Wf(U,"onBeforeInput"),0<Ae.length&&(Oe=new Sv("onBeforeInput","beforeinput",null,h,q),J.push({event:Oe,listeners:Ae}),Oe.data=pe)),OE(J,s,U,h,q)}dg(J,f)})}function Yu(s,f,h){return{instance:s,listener:f,currentTarget:h}}function Wf(s,f){for(var h=f+"Capture",p=[];s!==null;){var x=s,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=lu(s,h),x!=null&&p.unshift(Yu(s,x,_)),x=lu(s,f),x!=null&&p.push(Yu(s,x,_))),s.tag===3)return p;s=s.return}return[]}function Do(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function pg(s,f,h,p,x){for(var _=f._reactName,S=[];h!==null&&h!==p;){var T=h,N=T.alternate,U=T.stateNode;if(T=T.tag,N!==null&&N===p)break;T!==5&&T!==26&&T!==27||U===null||(N=U,x?(U=lu(h,_),U!=null&&S.unshift(Yu(h,U,N))):x||(U=lu(h,_),U!=null&&S.push(Yu(h,U,N)))),h=h.return}S.length!==0&&s.push({event:f,listeners:S})}var ME=/\r\n?/g,BE=/\u0000|\uFFFD/g;function gg(s){return(typeof s=="string"?s:""+s).replace(ME,`
`).replace(BE,"")}function yg(s,f){return f=gg(f),gg(s)===f}function Yf(){}function ft(s,f,h,p,x,_){switch(h){case"children":typeof p=="string"?f==="body"||f==="textarea"&&p===""||to(s,p):(typeof p=="number"||typeof p=="bigint")&&f!=="body"&&to(s,""+p);break;case"className":Ks(s,"class",p);break;case"tabIndex":Ks(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(s,h,p);break;case"style":_v(s,p,_);break;case"data":if(f!=="object"){Ks(s,"data",p);break}case"src":case"href":if(p===""&&(f!=="a"||h!=="href")){s.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(h);break}p=Js(""+p),s.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(f!=="input"&&ft(s,f,"name",x.name,x,null),ft(s,f,"formEncType",x.formEncType,x,null),ft(s,f,"formMethod",x.formMethod,x,null),ft(s,f,"formTarget",x.formTarget,x,null)):(ft(s,f,"encType",x.encType,x,null),ft(s,f,"method",x.method,x,null),ft(s,f,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(h);break}p=Js(""+p),s.setAttribute(h,p);break;case"onClick":p!=null&&(s.onclick=Yf);break;case"onScroll":p!=null&&Me("scroll",s);break;case"onScrollEnd":p!=null&&Me("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=h}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}h=Js(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(h,""+p):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":p===!0?s.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(h,p):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(h,p):s.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(h):s.setAttribute(h,p);break;case"popover":Me("beforetoggle",s),Me("toggle",s),Zs(s,"popover",p);break;case"xlinkActuate":ri(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ri(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ri(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ri(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ri(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ri(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ri(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ri(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ri(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Zs(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=lA.get(h)||h,Zs(s,h,p))}}function o0(s,f,h,p,x,_){switch(h){case"style":_v(s,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=h}}break;case"children":typeof p=="string"?to(s,p):(typeof p=="number"||typeof p=="bigint")&&to(s,""+p);break;case"onScroll":p!=null&&Me("scroll",s);break;case"onScrollEnd":p!=null&&Me("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sv.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),f=h.slice(2,x?h.length-7:void 0),_=s[Vr]||null,_=_!=null?_[h]:null,typeof _=="function"&&s.removeEventListener(f,_,x),typeof p=="function")){typeof _!="function"&&_!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(f,p,x);break e}h in s?s[h]=p:p===!0?s.setAttribute(h,""):Zs(s,h,p)}}}function gr(s,f,h){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",s),Me("load",s);var p=!1,x=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var S=h[_];if(S!=null)switch(_){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:ft(s,f,_,S,h,null)}}x&&ft(s,f,"srcSet",h.srcSet,h,null),p&&ft(s,f,"src",h.src,h,null);return;case"input":Me("invalid",s);var T=_=S=x=null,N=null,U=null;for(p in h)if(h.hasOwnProperty(p)){var q=h[p];if(q!=null)switch(p){case"name":x=q;break;case"type":S=q;break;case"checked":N=q;break;case"defaultChecked":U=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,f));break;default:ft(s,f,p,q,h,null)}}pv(s,_,T,N,U,S,x,!1),qs(s);return;case"select":Me("invalid",s),p=S=_=null;for(x in h)if(h.hasOwnProperty(x)&&(T=h[x],T!=null))switch(x){case"value":_=T;break;case"defaultValue":S=T;break;case"multiple":p=T;default:ft(s,f,x,T,h,null)}f=_,h=S,s.multiple=!!p,f!=null?eo(s,!!p,f,!1):h!=null&&eo(s,!!p,h,!0);return;case"textarea":Me("invalid",s),_=x=p=null;for(S in h)if(h.hasOwnProperty(S)&&(T=h[S],T!=null))switch(S){case"value":p=T;break;case"defaultValue":x=T;break;case"children":_=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:ft(s,f,S,T,h,null)}yv(s,p,x,_),qs(s);return;case"option":for(N in h)if(h.hasOwnProperty(N)&&(p=h[N],p!=null))switch(N){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ft(s,f,N,p,h,null)}return;case"dialog":Me("beforetoggle",s),Me("toggle",s),Me("cancel",s),Me("close",s);break;case"iframe":case"object":Me("load",s);break;case"video":case"audio":for(p=0;p<Wu.length;p++)Me(Wu[p],s);break;case"image":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"embed":case"source":case"link":Me("error",s),Me("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in h)if(h.hasOwnProperty(U)&&(p=h[U],p!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:ft(s,f,U,p,h,null)}return;default:if(Ec(f)){for(q in h)h.hasOwnProperty(q)&&(p=h[q],p!==void 0&&o0(s,f,q,p,h,void 0));return}}for(T in h)h.hasOwnProperty(T)&&(p=h[T],p!=null&&ft(s,f,T,p,h,null))}function PE(s,f,h,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,S=null,T=null,N=null,U=null,q=null;for(X in h){var J=h[X];if(h.hasOwnProperty(X)&&J!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=J;default:p.hasOwnProperty(X)||ft(s,f,X,null,p,J)}}for(var G in p){var X=p[G];if(J=h[G],p.hasOwnProperty(G)&&(X!=null||J!=null))switch(G){case"type":_=X;break;case"name":x=X;break;case"checked":U=X;break;case"defaultChecked":q=X;break;case"value":S=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,f));break;default:X!==J&&ft(s,f,G,X,p,J)}}mc(s,S,T,N,U,q,_,x);return;case"select":X=S=T=G=null;for(_ in h)if(N=h[_],h.hasOwnProperty(_)&&N!=null)switch(_){case"value":break;case"multiple":X=N;default:p.hasOwnProperty(_)||ft(s,f,_,null,p,N)}for(x in p)if(_=p[x],N=h[x],p.hasOwnProperty(x)&&(_!=null||N!=null))switch(x){case"value":G=_;break;case"defaultValue":T=_;break;case"multiple":S=_;default:_!==N&&ft(s,f,x,_,p,N)}f=T,h=S,p=X,G!=null?eo(s,!!h,G,!1):!!p!=!!h&&(f!=null?eo(s,!!h,f,!0):eo(s,!!h,h?[]:"",!1));return;case"textarea":X=G=null;for(T in h)if(x=h[T],h.hasOwnProperty(T)&&x!=null&&!p.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(s,f,T,null,p,x)}for(S in p)if(x=p[S],_=h[S],p.hasOwnProperty(S)&&(x!=null||_!=null))switch(S){case"value":G=x;break;case"defaultValue":X=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==_&&ft(s,f,S,x,p,_)}gv(s,G,X);return;case"option":for(var Ee in h)if(G=h[Ee],h.hasOwnProperty(Ee)&&G!=null&&!p.hasOwnProperty(Ee))switch(Ee){case"selected":s.selected=!1;break;default:ft(s,f,Ee,null,p,G)}for(N in p)if(G=p[N],X=h[N],p.hasOwnProperty(N)&&G!==X&&(G!=null||X!=null))switch(N){case"selected":s.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ft(s,f,N,G,p,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in h)G=h[me],h.hasOwnProperty(me)&&G!=null&&!p.hasOwnProperty(me)&&ft(s,f,me,null,p,G);for(U in p)if(G=p[U],X=h[U],p.hasOwnProperty(U)&&G!==X&&(G!=null||X!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,f));break;default:ft(s,f,U,G,p,X)}return;default:if(Ec(f)){for(var lt in h)G=h[lt],h.hasOwnProperty(lt)&&G!==void 0&&!p.hasOwnProperty(lt)&&o0(s,f,lt,void 0,p,G);for(q in p)G=p[q],X=h[q],!p.hasOwnProperty(q)||G===X||G===void 0&&X===void 0||o0(s,f,q,G,p,X);return}}for(var F in h)G=h[F],h.hasOwnProperty(F)&&G!=null&&!p.hasOwnProperty(F)&&ft(s,f,F,null,p,G);for(J in p)G=p[J],X=h[J],!p.hasOwnProperty(J)||G===X||G==null&&X==null||ft(s,f,J,G,p,X)}var u0=null,s0=null;function jf(s){return s.nodeType===9?s:s.ownerDocument}function xg(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _g(s,f){if(s===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&f==="foreignObject"?0:s}function f0(s,f){return s==="textarea"||s==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var l0=null;function LE(){var s=window.event;return s&&s.type==="popstate"?s===l0?!1:(l0=s,!0):(l0=null,!1)}var mg=typeof setTimeout=="function"?setTimeout:void 0,FE=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,kE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(s){return Ag.resolve(null).then(s).catch(UE)}:mg;function UE(s){setTimeout(function(){throw s})}function Xi(s){return s==="head"}function Eg(s,f){var h=f,p=0,x=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(0<p&&8>p){h=p;var S=s.ownerDocument;if(h&1&&ju(S.documentElement),h&2&&ju(S.body),h&4)for(h=S.head,ju(h),S=h.firstChild;S;){var T=S.nextSibling,N=S.nodeName;S[su]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=T}}if(x===0){s.removeChild(_),ts(f);return}x--}else h==="$"||h==="$?"||h==="$!"?x++:p=h.charCodeAt(0)-48;else p=0;h=_}while(h);ts(f)}function c0(s){var f=s.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var h=f;switch(f=f.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":c0(h),gc(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function HE(s,f,h,p){for(;s.nodeType===1;){var x=h;if(s.nodeName.toLowerCase()!==f.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[su])switch(f){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(f==="input"&&s.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Dn(s.nextSibling),s===null)break}return null}function VE(s,f,h){if(f==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Dn(s.nextSibling),s===null))return null;return s}function h0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function GE(s,f){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")f();else{var p=function(){f(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Dn(s){for(;s!=null;s=s.nextSibling){var f=s.nodeType;if(f===1||f===3)break;if(f===8){if(f=s.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return s}var d0=null;function wg(s){s=s.previousSibling;for(var f=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(f===0)return s;f--}else h==="/$"&&f++}s=s.previousSibling}return null}function Cg(s,f,h){switch(f=jf(h),s){case"html":if(s=f.documentElement,!s)throw Error(n(452));return s;case"head":if(s=f.head,!s)throw Error(n(453));return s;case"body":if(s=f.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function ju(s){for(var f=s.attributes;f.length;)s.removeAttributeNode(f[0]);gc(s)}var _n=new Map,Sg=new Set;function $f(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var gi=ie.d;ie.d={f:zE,r:XE,D:WE,C:YE,L:jE,m:$E,X:KE,S:ZE,M:qE};function zE(){var s=gi.f(),f=Uf();return s||f}function XE(s){var f=Ka(s);f!==null&&f.tag===5&&f.type==="form"?W2(f):gi.r(s)}var Ro=typeof document>"u"?null:document;function Ig(s,f,h){var p=Ro;if(p&&typeof f=="string"&&f){var x=hn(f);x='link[rel="'+s+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),Sg.has(x)||(Sg.add(x),s={rel:s,crossOrigin:h,href:f},p.querySelector(x)===null&&(f=p.createElement("link"),gr(f,"link",s),er(f),p.head.appendChild(f)))}}function WE(s){gi.D(s),Ig("dns-prefetch",s,null)}function YE(s,f){gi.C(s,f),Ig("preconnect",s,f)}function jE(s,f,h){gi.L(s,f,h);var p=Ro;if(p&&s&&f){var x='link[rel="preload"][as="'+hn(f)+'"]';f==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+hn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+hn(h.imageSizes)+'"]')):x+='[href="'+hn(s)+'"]';var _=x;switch(f){case"style":_=No(s);break;case"script":_=Mo(s)}_n.has(_)||(s=d({rel:"preload",href:f==="image"&&h&&h.imageSrcSet?void 0:s,as:f},h),_n.set(_,s),p.querySelector(x)!==null||f==="style"&&p.querySelector($u(_))||f==="script"&&p.querySelector(Zu(_))||(f=p.createElement("link"),gr(f,"link",s),er(f),p.head.appendChild(f)))}}function $E(s,f){gi.m(s,f);var h=Ro;if(h&&s){var p=f&&typeof f.as=="string"?f.as:"script",x='link[rel="modulepreload"][as="'+hn(p)+'"][href="'+hn(s)+'"]',_=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Mo(s)}if(!_n.has(_)&&(s=d({rel:"modulepreload",href:s},f),_n.set(_,s),h.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Zu(_)))return}p=h.createElement("link"),gr(p,"link",s),er(p),h.head.appendChild(p)}}}function ZE(s,f,h){gi.S(s,f,h);var p=Ro;if(p&&s){var x=qa(p).hoistableStyles,_=No(s);f=f||"default";var S=x.get(_);if(!S){var T={loading:0,preload:null};if(S=p.querySelector($u(_)))T.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":f},h),(h=_n.get(_))&&v0(s,h);var N=S=p.createElement("link");er(N),gr(N,"link",s),N._p=new Promise(function(U,q){N.onload=U,N.onerror=q}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zf(S,f,p)}S={type:"stylesheet",instance:S,count:1,state:T},x.set(_,S)}}}function KE(s,f){gi.X(s,f);var h=Ro;if(h&&s){var p=qa(h).hoistableScripts,x=Mo(s),_=p.get(x);_||(_=h.querySelector(Zu(x)),_||(s=d({src:s,async:!0},f),(f=_n.get(x))&&p0(s,f),_=h.createElement("script"),er(_),gr(_,"link",s),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(x,_))}}function qE(s,f){gi.M(s,f);var h=Ro;if(h&&s){var p=qa(h).hoistableScripts,x=Mo(s),_=p.get(x);_||(_=h.querySelector(Zu(x)),_||(s=d({src:s,async:!0,type:"module"},f),(f=_n.get(x))&&p0(s,f),_=h.createElement("script"),er(_),gr(_,"link",s),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(x,_))}}function Tg(s,f,h,p){var x=(x=we.current)?$f(x):null;if(!x)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(f=No(h.href),h=qa(x).hoistableStyles,p=h.get(f),p||(p={type:"style",instance:null,count:0,state:null},h.set(f,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=No(h.href);var _=qa(x).hoistableStyles,S=_.get(s);if(S||(x=x.ownerDocument||x,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,S),(_=x.querySelector($u(s)))&&!_._p&&(S.instance=_,S.state.loading=5),_n.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},_n.set(s,h),_||QE(x,s,h,S.state))),f&&p===null)throw Error(n(528,""));return S}if(f&&p!==null)throw Error(n(529,""));return null;case"script":return f=h.async,h=h.src,typeof h=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Mo(h),h=qa(x).hoistableScripts,p=h.get(f),p||(p={type:"script",instance:null,count:0,state:null},h.set(f,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function No(s){return'href="'+hn(s)+'"'}function $u(s){return'link[rel="stylesheet"]['+s+"]"}function bg(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function QE(s,f,h,p){s.querySelector('link[rel="preload"][as="style"]['+f+"]")?p.loading=1:(f=s.createElement("link"),p.preload=f,f.addEventListener("load",function(){return p.loading|=1}),f.addEventListener("error",function(){return p.loading|=2}),gr(f,"link",h),er(f),s.head.appendChild(f))}function Mo(s){return'[src="'+hn(s)+'"]'}function Zu(s){return"script[async]"+s}function Og(s,f,h){if(f.count++,f.instance===null)switch(f.type){case"style":var p=s.querySelector('style[data-href~="'+hn(h.href)+'"]');if(p)return f.instance=p,er(p),p;var x=d({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),er(p),gr(p,"style",x),Zf(p,h.precedence,s),f.instance=p;case"stylesheet":x=No(h.href);var _=s.querySelector($u(x));if(_)return f.state.loading|=4,f.instance=_,er(_),_;p=bg(h),(x=_n.get(x))&&v0(p,x),_=(s.ownerDocument||s).createElement("link"),er(_);var S=_;return S._p=new Promise(function(T,N){S.onload=T,S.onerror=N}),gr(_,"link",p),f.state.loading|=4,Zf(_,h.precedence,s),f.instance=_;case"script":return _=Mo(h.src),(x=s.querySelector(Zu(_)))?(f.instance=x,er(x),x):(p=h,(x=_n.get(_))&&(p=d({},h),p0(p,x)),s=s.ownerDocument||s,x=s.createElement("script"),er(x),gr(x,"link",p),s.head.appendChild(x),f.instance=x);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(p=f.instance,f.state.loading|=4,Zf(p,h.precedence,s));return f.instance}function Zf(s,f,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,_=x,S=0;S<p.length;S++){var T=p[S];if(T.dataset.precedence===f)_=T;else if(_!==x)break}_?_.parentNode.insertBefore(s,_.nextSibling):(f=h.nodeType===9?h.head:h,f.insertBefore(s,f.firstChild))}function v0(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.title==null&&(s.title=f.title)}function p0(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.integrity==null&&(s.integrity=f.integrity)}var Kf=null;function Dg(s,f,h){if(Kf===null){var p=new Map,x=Kf=new Map;x.set(h,p)}else x=Kf,p=x.get(h),p||(p=new Map,x.set(h,p));if(p.has(s))return p;for(p.set(s,null),h=h.getElementsByTagName(s),x=0;x<h.length;x++){var _=h[x];if(!(_[su]||_[Sr]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(f)||"";S=s+S;var T=p.get(S);T?T.push(_):p.set(S,[_])}}return p}function Rg(s,f,h){s=s.ownerDocument||s,s.head.insertBefore(h,f==="title"?s.querySelector("head > title"):null)}function JE(s,f,h){if(h===1||f.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return s=f.disabled,typeof f.precedence=="string"&&s==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function Ng(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ku=null;function ew(){}function tw(s,f,h){if(Ku===null)throw Error(n(475));var p=Ku;if(f.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var x=No(h.href),_=s.querySelector($u(x));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=qf.bind(p),s.then(p,p)),f.state.loading|=4,f.instance=_,er(_);return}_=s.ownerDocument||s,h=bg(h),(x=_n.get(x))&&v0(h,x),_=_.createElement("link"),er(_);var S=_;S._p=new Promise(function(T,N){S.onload=T,S.onerror=N}),gr(_,"link",h),f.instance=_}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(f,s),(s=f.state.preload)&&(f.state.loading&3)===0&&(p.count++,f=qf.bind(p),s.addEventListener("load",f),s.addEventListener("error",f))}}function rw(){if(Ku===null)throw Error(n(475));var s=Ku;return s.stylesheets&&s.count===0&&g0(s,s.stylesheets),0<s.count?function(f){var h=setTimeout(function(){if(s.stylesheets&&g0(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(h)}}:null}function qf(){if(this.count--,this.count===0){if(this.stylesheets)g0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qf=null;function g0(s,f){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qf=new Map,f.forEach(nw,s),Qf=null,qf.call(s))}function nw(s,f){if(!(f.state.loading&4)){var h=Qf.get(s);if(h)var p=h.get(null);else{h=new Map,Qf.set(s,h);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var S=x[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(h.set(S.dataset.precedence,S),p=S)}p&&h.set(null,p)}x=f.instance,S=x.getAttribute("data-precedence"),_=h.get(S)||p,_===p&&h.set(null,x),h.set(S,x),this.count++,p=qf.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),_?_.parentNode.insertBefore(x,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),f.state.loading|=4}}var qu={$$typeof:I,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function iw(s,f,h,p,x,_,S,T){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hc(0),this.hiddenUpdates=hc(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Mg(s,f,h,p,x,_,S,T,N,U,q,J){return s=new iw(s,f,h,S,T,N,U,J),f=1,_===!0&&(f|=24),_=an(3,null,null,f),s.current=_,_.stateNode=s,f=qc(),f.refCount++,s.pooledCache=f,f.refCount++,_.memoizedState={element:p,isDehydrated:h,cache:f},t1(_),s}function Bg(s){return s?(s=fo,s):fo}function Pg(s,f,h,p,x,_){x=Bg(x),p.context===null?p.context=x:p.pendingContext=x,p=Ri(f),p.payload={element:h},_=_===void 0?null:_,_!==null&&(p.callback=_),h=Ni(s,p,f),h!==null&&(ln(h,s,f),Tu(h,s,f))}function Lg(s,f){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<f?h:f}}function y0(s,f){Lg(s,f),(s=s.alternate)&&Lg(s,f)}function Fg(s){if(s.tag===13){var f=so(s,67108864);f!==null&&ln(f,s,67108864),y0(s,67108864)}}var Jf=!0;function aw(s,f,h,p){var x=Y.T;Y.T=null;var _=ie.p;try{ie.p=2,x0(s,f,h,p)}finally{ie.p=_,Y.T=x}}function ow(s,f,h,p){var x=Y.T;Y.T=null;var _=ie.p;try{ie.p=8,x0(s,f,h,p)}finally{ie.p=_,Y.T=x}}function x0(s,f,h,p){if(Jf){var x=_0(p);if(x===null)a0(s,f,p,el,h),Ug(s,p);else if(sw(x,s,f,h,p))p.stopPropagation();else if(Ug(s,p),f&4&&-1<uw.indexOf(s)){for(;x!==null;){var _=Ka(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=ca(_.pendingLanes);if(S!==0){var T=_;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var N=1<<31-rn(S);T.entanglements[1]|=N,S&=~N}Zn(_),(rt&6)===0&&(Ff=Xn()+500,Xu(0))}}break;case 13:T=so(_,2),T!==null&&ln(T,_,2),Uf(),y0(_,2)}if(_=_0(p),_===null&&a0(s,f,p,el,h),_===x)break;x=_}x!==null&&p.stopPropagation()}else a0(s,f,p,null,h)}}function _0(s){return s=Cc(s),m0(s)}var el=null;function m0(s){if(el=null,s=Za(s),s!==null){var f=a(s);if(f===null)s=null;else{var h=f.tag;if(h===13){if(s=o(f),s!==null)return s;s=null}else if(h===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;s=null}else f!==s&&(s=null)}}return el=s,null}function kg(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ym()){case Qd:return 2;case Jd:return 8;case Ws:case jm:return 32;case ev:return 268435456;default:return 32}default:return 32}}var A0=!1,Wi=null,Yi=null,ji=null,Qu=new Map,Ju=new Map,$i=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ug(s,f){switch(s){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Qu.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(f.pointerId)}}function es(s,f,h,p,x,_){return s===null||s.nativeEvent!==_?(s={blockedOn:f,domEventName:h,eventSystemFlags:p,nativeEvent:_,targetContainers:[x]},f!==null&&(f=Ka(f),f!==null&&Fg(f)),s):(s.eventSystemFlags|=p,f=s.targetContainers,x!==null&&f.indexOf(x)===-1&&f.push(x),s)}function sw(s,f,h,p,x){switch(f){case"focusin":return Wi=es(Wi,s,f,h,p,x),!0;case"dragenter":return Yi=es(Yi,s,f,h,p,x),!0;case"mouseover":return ji=es(ji,s,f,h,p,x),!0;case"pointerover":var _=x.pointerId;return Qu.set(_,es(Qu.get(_)||null,s,f,h,p,x)),!0;case"gotpointercapture":return _=x.pointerId,Ju.set(_,es(Ju.get(_)||null,s,f,h,p,x)),!0}return!1}function Hg(s){var f=Za(s.target);if(f!==null){var h=a(f);if(h!==null){if(f=h.tag,f===13){if(f=o(h),f!==null){s.blockedOn=f,tA(s.priority,function(){if(h.tag===13){var p=fn();p=dc(p);var x=so(h,p);x!==null&&ln(x,h,p),y0(h,p)}});return}}else if(f===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tl(s){if(s.blockedOn!==null)return!1;for(var f=s.targetContainers;0<f.length;){var h=_0(s.nativeEvent);if(h===null){h=s.nativeEvent;var p=new h.constructor(h.type,h);wc=p,h.target.dispatchEvent(p),wc=null}else return f=Ka(h),f!==null&&Fg(f),s.blockedOn=h,!1;f.shift()}return!0}function Vg(s,f,h){tl(s)&&h.delete(f)}function fw(){A0=!1,Wi!==null&&tl(Wi)&&(Wi=null),Yi!==null&&tl(Yi)&&(Yi=null),ji!==null&&tl(ji)&&(ji=null),Qu.forEach(Vg),Ju.forEach(Vg)}function rl(s,f){s.blockedOn===f&&(s.blockedOn=null,A0||(A0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fw)))}var nl=null;function Gg(s){nl!==s&&(nl=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nl===s&&(nl=null);for(var f=0;f<s.length;f+=3){var h=s[f],p=s[f+1],x=s[f+2];if(typeof p!="function"){if(m0(p||h)===null)continue;break}var _=Ka(h);_!==null&&(s.splice(f,3),f-=3,m1(_,{pending:!0,data:x,method:h.method,action:p},p,x))}}))}function ts(s){function f(N){return rl(N,s)}Wi!==null&&rl(Wi,s),Yi!==null&&rl(Yi,s),ji!==null&&rl(ji,s),Qu.forEach(f),Ju.forEach(f);for(var h=0;h<$i.length;h++){var p=$i[h];p.blockedOn===s&&(p.blockedOn=null)}for(;0<$i.length&&(h=$i[0],h.blockedOn===null);)Hg(h),h.blockedOn===null&&$i.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var x=h[p],_=h[p+1],S=x[Vr]||null;if(typeof _=="function")S||Gg(h);else if(S){var T=null;if(_&&_.hasAttribute("formAction")){if(x=_,S=_[Vr]||null)T=S.formAction;else if(m0(x)!==null)continue}else T=S.action;typeof T=="function"?h[p+1]=T:(h.splice(p,3),p-=3),Gg(h)}}}function E0(s){this._internalRoot=s}il.prototype.render=E0.prototype.render=function(s){var f=this._internalRoot;if(f===null)throw Error(n(409));var h=f.current,p=fn();Pg(h,p,s,f,null,null)},il.prototype.unmount=E0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var f=s.containerInfo;Pg(s.current,2,null,s,null,null),Uf(),f[$a]=null}};function il(s){this._internalRoot=s}il.prototype.unstable_scheduleHydration=function(s){if(s){var f=av();s={blockedOn:null,target:s,priority:f};for(var h=0;h<$i.length&&f!==0&&f<$i[h].priority;h++);$i.splice(h,0,s),h===0&&Hg(s)}};var zg=e.version;if(zg!=="19.1.0")throw Error(n(527,zg,"19.1.0"));ie.findDOMNode=function(s){var f=s._reactInternals;if(f===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=l(f),s=s!==null?c(s):null,s=s===null?null:s.stateNode,s};var lw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{au=al.inject(lw),tn=al}catch{}}return ns.createRoot=function(s,f){if(!i(s))throw Error(n(299));var h=!1,p="",x=ap,_=op,S=up,T=null;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(p=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(_=f.onCaughtError),f.onRecoverableError!==void 0&&(S=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(T=f.unstable_transitionCallbacks)),f=Mg(s,1,!1,null,null,h,p,x,_,S,T,null),s[$a]=f.current,i0(s),new E0(f)},ns.hydrateRoot=function(s,f,h){if(!i(s))throw Error(n(299));var p=!1,x="",_=ap,S=op,T=up,N=null,U=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(S=h.onCaughtError),h.onRecoverableError!==void 0&&(T=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(N=h.unstable_transitionCallbacks),h.formState!==void 0&&(U=h.formState)),f=Mg(s,1,!0,f,h??null,p,x,_,S,T,N,U),f.context=Bg(null),h=f.current,p=fn(),p=dc(p),x=Ri(p),x.callback=null,Ni(h,x,p),h=p,f.current.lanes=h,uu(f,h),Zn(f),s[$a]=f.current,i0(s),new il(f)},ns.version="19.1.0",ns}var Jg;function mw(){if(Jg)return C0.exports;Jg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),C0.exports=_w(),C0.exports}var Aw=mw(),W=td(),is={},ey;function Ew(){if(ey)return is;ey=1,Object.defineProperty(is,"__esModule",{value:!0}),is.parse=o,is.serialize=c;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,y){const m=new a,A=g.length;if(A<2)return m;const E=(y==null?void 0:y.decode)||d;let w=0;do{const C=g.indexOf("=",w);if(C===-1)break;const I=g.indexOf(";",w),b=I===-1?A:I;if(C>b){w=g.lastIndexOf(";",C-1)+1;continue}const R=u(g,w,C),M=l(g,C,R),L=g.slice(R,M);if(m[L]===void 0){let z=u(g,C+1,b),K=l(g,b,z);const Z=E(g.slice(z,K));m[L]=Z}w=b+1}while(w<A);return m}function u(g,y,m){do{const A=g.charCodeAt(y);if(A!==32&&A!==9)return y}while(++y<m);return m}function l(g,y,m){for(;y>m;){const A=g.charCodeAt(--y);if(A!==32&&A!==9)return y+1}return m}function c(g,y,m){const A=(m==null?void 0:m.encode)||encodeURIComponent;if(!r.test(g))throw new TypeError(`argument name is invalid: ${g}`);const E=A(y);if(!e.test(E))throw new TypeError(`argument val is invalid: ${y}`);let w=g+"="+E;if(!m)return w;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);w+="; Max-Age="+m.maxAge}if(m.domain){if(!t.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);w+="; Domain="+m.domain}if(m.path){if(!n.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);w+="; Path="+m.path}if(m.expires){if(!v(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);w+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(w+="; HttpOnly"),m.secure&&(w+="; Secure"),m.partitioned&&(w+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return w}function d(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function v(g){return i.call(g)==="[object Date]"}return is}Ew();var ty="popstate";function ww(r={}){function e(n,i){let{pathname:a,search:o,hash:u}=n.location;return oh("",{pathname:a,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:bs(i)}return Sw(e,t,null,r)}function Dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cw(){return Math.random().toString(36).substring(2,10)}function ry(r,e){return{usr:r.state,key:r.key,idx:e}}function oh(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:t,key:e&&e.key||n||Cw()}}function bs({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ko(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function Sw(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,u="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function v(){u="POP";let E=d(),w=E==null?null:E-c;c=E,l&&l({action:u,location:A.location,delta:w})}function g(E,w){u="PUSH";let C=oh(A.location,E,w);c=d()+1;let I=ry(C,c),b=A.createHref(C);try{o.pushState(I,"",b)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(b)}a&&l&&l({action:u,location:A.location,delta:1})}function y(E,w){u="REPLACE";let C=oh(A.location,E,w);c=d();let I=ry(C,c),b=A.createHref(C);o.replaceState(I,"",b),a&&l&&l({action:u,location:A.location,delta:0})}function m(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof E=="string"?E:bs(E);return C=C.replace(/ $/,"%20"),Dt(w,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,w)}let A={get action(){return u},get location(){return r(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ty,v),l=E,()=>{i.removeEventListener(ty,v),l=null}},createHref(E){return e(i,E)},createURL:m,encodeLocation(E){let w=m(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:y,go(E){return o.go(E)}};return A}function A_(r,e,t="/"){return Iw(r,e,t,!1)}function Iw(r,e,t,n){let i=typeof e=="string"?Ko(e):e,a=mi(i.pathname||"/",t);if(a==null)return null;let o=E_(r);Tw(o);let u=null;for(let l=0;u==null&&l<o.length;++l){let c=kw(a);u=Lw(o[l],c,n)}return u}function E_(r,e=[],t=[],n=""){let i=(a,o,u)=>{let l={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Dt(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=xi([n,l.relativePath]),d=t.concat(l);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),E_(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:Bw(c,a.index),routesMeta:d})};return r.forEach((a,o)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,o);else for(let l of w_(a.path))i(a,o,l)}),e}function w_(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=w_(n.join("/")),u=[];return u.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&u.push(...o),u.map(l=>r.startsWith("/")&&l===""?"/":l)}function Tw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Pw(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var bw=/^:[\w-]+$/,Ow=3,Dw=2,Rw=1,Nw=10,Mw=-2,ny=r=>r==="*";function Bw(r,e){let t=r.split("/"),n=t.length;return t.some(ny)&&(n+=Mw),e&&(n+=Dw),t.filter(i=>!ny(i)).reduce((i,a)=>i+(bw.test(a)?Ow:a===""?Rw:Nw),n)}function Pw(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Lw(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",o=[];for(let u=0;u<n.length;++u){let l=n[u],c=u===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",v=bl({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),g=l.route;if(!v&&c&&t&&!n[n.length-1].route.index&&(v=bl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!v)return null;Object.assign(i,v.params),o.push({params:i,pathname:xi([a,v.pathname]),pathnameBase:Gw(xi([a,v.pathnameBase])),route:g}),v.pathnameBase!=="/"&&(a=xi([a,v.pathnameBase]))}return o}function bl(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Fw(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:v},g)=>{if(d==="*"){let m=u[g]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const y=u[g];return v&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:r}}function Fw(r,e=!1,t=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,l)=>(n.push({paramName:u,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function kw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function Uw(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Ko(r):r;return{pathname:t?t.startsWith("/")?t:Hw(t,e):e,search:zw(n),hash:Xw(i)}}function Hw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function O0(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rd(r){let e=Vw(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function nd(r,e,t,n=!1){let i;typeof r=="string"?i=Ko(r):(i={...r},Dt(!i.pathname||!i.pathname.includes("?"),O0("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),O0("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),O0("#","search","hash",i)));let a=r===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=t;else{let v=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),v-=1;i.pathname=g.join("/")}u=v>=0?e[v]:"/"}let l=Uw(i,u),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var xi=r=>r.join("/").replace(/\/\/+/g,"/"),Gw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Xw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ww(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var C_=["POST","PUT","PATCH","DELETE"];new Set(C_);var Yw=["GET",...C_];new Set(Yw);var qo=W.createContext(null);qo.displayName="DataRouter";var Yl=W.createContext(null);Yl.displayName="DataRouterState";var S_=W.createContext({isTransitioning:!1});S_.displayName="ViewTransition";var jw=W.createContext(new Map);jw.displayName="Fetchers";var $w=W.createContext(null);$w.displayName="Await";var zn=W.createContext(null);zn.displayName="Navigation";var Bs=W.createContext(null);Bs.displayName="Location";var ti=W.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var id=W.createContext(null);id.displayName="RouteError";function Zw(r,{relative:e}={}){Dt(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=W.useContext(zn),{hash:i,pathname:a,search:o}=Ps(r,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:xi([t,a])),n.createHref({pathname:u,search:o,hash:i})}function Qo(){return W.useContext(Bs)!=null}function la(){return Dt(Qo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Bs).location}var I_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T_(r){W.useContext(zn).static||W.useLayoutEffect(r)}function b_(){let{isDataRoute:r}=W.useContext(ti);return r?s8():Kw()}function Kw(){Dt(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let r=W.useContext(qo),{basename:e,navigator:t}=W.useContext(zn),{matches:n}=W.useContext(ti),{pathname:i}=la(),a=JSON.stringify(rd(n)),o=W.useRef(!1);return T_(()=>{o.current=!0}),W.useCallback((l,c={})=>{if(Gn(o.current,I_),!o.current)return;if(typeof l=="number"){t.go(l);return}let d=nd(l,JSON.parse(a),i,c.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xi([e,d.pathname])),(c.replace?t.replace:t.push)(d,c.state,c)},[e,t,a,i,r])}W.createContext(null);function Ps(r,{relative:e}={}){let{matches:t}=W.useContext(ti),{pathname:n}=la(),i=JSON.stringify(rd(t));return W.useMemo(()=>nd(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function qw(r,e){return O_(r,e)}function O_(r,e,t,n){var C;Dt(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=W.useContext(zn),{matches:o}=W.useContext(ti),u=o[o.length-1],l=u?u.params:{},c=u?u.pathname:"/",d=u?u.pathnameBase:"/",v=u&&u.route;{let I=v&&v.path||"";D_(c,!v||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let g=la(),y;if(e){let I=typeof e=="string"?Ko(e):e;Dt(d==="/"||((C=I.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${I.pathname}" was given in the \`location\` prop.`),y=I}else y=g;let m=y.pathname||"/",A=m;if(d!=="/"){let I=d.replace(/^\//,"").split("/");A="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=!a&&t&&t.matches&&t.matches.length>0?t.matches:A_(r,{pathname:A});Gn(v||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Gn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=r8(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:xi([d,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:xi([d,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,t,n);return e&&w?W.createElement(Bs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function Qw(){let r=u8(),e=Ww(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:a},"ErrorBoundary")," or"," ",W.createElement("code",{style:a},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,o)}var Jw=W.createElement(Qw,null),e8=class extends W.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?W.createElement(ti.Provider,{value:this.props.routeContext},W.createElement(id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t8({routeContext:r,match:e,children:t}){let n=W.useContext(qo);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(ti.Provider,{value:r},t)}function r8(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let l=i.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);Dt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,u=-1;if(t)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=l),c.route.id){let{loaderData:d,errors:v}=t,g=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!v||v[c.route.id]===void 0);if(c.route.lazy||g){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let v,g=!1,y=null,m=null;t&&(v=a&&c.route.id?a[c.route.id]:void 0,y=c.route.errorElement||Jw,o&&(u<0&&d===0?(D_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,m=null):u===d&&(g=!0,m=c.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,d+1)),E=()=>{let w;return v?w=y:g?w=m:c.route.Component?w=W.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,W.createElement(t8,{match:c,routeContext:{outlet:l,matches:A,isDataRoute:t!=null},children:w})};return t&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?W.createElement(e8,{location:t.location,revalidation:t.revalidation,component:y,error:v,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}function ad(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n8(r){let e=W.useContext(qo);return Dt(e,ad(r)),e}function i8(r){let e=W.useContext(Yl);return Dt(e,ad(r)),e}function a8(r){let e=W.useContext(ti);return Dt(e,ad(r)),e}function od(r){let e=a8(r),t=e.matches[e.matches.length-1];return Dt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function o8(){return od("useRouteId")}function u8(){var n;let r=W.useContext(id),e=i8("useRouteError"),t=od("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function s8(){let{router:r}=n8("useNavigate"),e=od("useNavigate"),t=W.useRef(!1);return T_(()=>{t.current=!0}),W.useCallback(async(i,a={})=>{Gn(t.current,I_),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var iy={};function D_(r,e,t){!e&&!iy[r]&&(iy[r]=!0,Gn(!1,t))}W.memo(f8);function f8({routes:r,future:e,state:t}){return O_(r,void 0,t,e)}function ay({to:r,replace:e,state:t,relative:n}){Dt(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=W.useContext(zn);Gn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=W.useContext(ti),{pathname:o}=la(),u=b_(),l=nd(r,rd(a),o,n==="path"),c=JSON.stringify(l);return W.useEffect(()=>{u(JSON.parse(c),{replace:e,state:t,relative:n})},[u,c,n,e,t]),null}function uh(r){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l8({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){Dt(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof t=="string"&&(t=Ko(t));let{pathname:l="/",search:c="",hash:d="",state:v=null,key:g="default"}=t,y=W.useMemo(()=>{let m=mi(l,o);return m==null?null:{location:{pathname:m,search:c,hash:d,state:v,key:g},navigationType:n}},[o,l,c,d,v,g,n]);return Gn(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:W.createElement(zn.Provider,{value:u},W.createElement(Bs.Provider,{children:e,value:y}))}function c8({children:r,location:e}){return qw(sh(r),e)}function sh(r,e=[]){let t=[];return W.Children.forEach(r,(n,i)=>{if(!W.isValidElement(n))return;let a=[...e,i];if(n.type===W.Fragment){t.push.apply(t,sh(n.props.children,a));return}Dt(n.type===uh,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=sh(n.props.children,a)),t.push(o)}),t}var _l="get",ml="application/x-www-form-urlencoded";function jl(r){return r!=null&&typeof r.tagName=="string"}function h8(r){return jl(r)&&r.tagName.toLowerCase()==="button"}function d8(r){return jl(r)&&r.tagName.toLowerCase()==="form"}function v8(r){return jl(r)&&r.tagName.toLowerCase()==="input"}function p8(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function g8(r,e){return r.button===0&&(!e||e==="_self")&&!p8(r)}var ol=null;function y8(){if(ol===null)try{new FormData(document.createElement("form"),0),ol=!1}catch{ol=!0}return ol}var x8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D0(r){return r!=null&&!x8.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ml}"`),null):r}function _8(r,e){let t,n,i,a,o;if(d8(r)){let u=r.getAttribute("action");n=u?mi(u,e):null,t=r.getAttribute("method")||_l,i=D0(r.getAttribute("enctype"))||ml,a=new FormData(r)}else if(h8(r)||v8(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||u.getAttribute("action");if(n=l?mi(l,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||_l,i=D0(r.getAttribute("formenctype"))||D0(u.getAttribute("enctype"))||ml,a=new FormData(u,r),!y8()){let{name:c,type:d,value:v}=r;if(d==="image"){let g=c?`${c}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else c&&a.append(c,v)}}else{if(jl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_l,n=null,i=ml,o=r}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:o}}function ud(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function m8(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A8(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function E8(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await m8(a,t);return o.links?o.links():[]}return[]}));return I8(n.flat(1).filter(A8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function oy(r,e,t,n,i,a){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,u=(l,c)=>{var d;return t[c].pathname!==l.pathname||((d=t[c].route.path)==null?void 0:d.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>o(l,c)||u(l,c)):a==="data"?e.filter((l,c)=>{var v;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||u(l,c))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function w8(r,e,{includeHydrateFallback:t}={}){return C8(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function C8(r){return[...new Set(r)]}function S8(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function I8(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(S8(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}var T8=new Set([100,101,204,205]);function b8(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function R_(){let r=W.useContext(qo);return ud(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function O8(){let r=W.useContext(Yl);return ud(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sd=W.createContext(void 0);sd.displayName="FrameworkContext";function N_(){let r=W.useContext(sd);return ud(r,"You must render this element inside a <HydratedRouter> element"),r}function D8(r,e){let t=W.useContext(sd),[n,i]=W.useState(!1),[a,o]=W.useState(!1),{onFocus:u,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:v}=e,g=W.useRef(null);W.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let A=w=>{w.forEach(C=>{o(C.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[r]),W.useEffect(()=>{if(n){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[n]);let y=()=>{i(!0)},m=()=>{i(!1),o(!1)};return t?r!=="intent"?[a,g,{}]:[a,g,{onFocus:as(u,y),onBlur:as(l,m),onMouseEnter:as(c,y),onMouseLeave:as(d,m),onTouchStart:as(v,y)}]:[!1,g,{}]}function as(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function R8({page:r,...e}){let{router:t}=R_(),n=W.useMemo(()=>A_(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?W.createElement(M8,{page:r,matches:n,...e}):null}function N8(r){let{manifest:e,routeModules:t}=N_(),[n,i]=W.useState([]);return W.useEffect(()=>{let a=!1;return E8(r,e,t).then(o=>{a||i(o)}),()=>{a=!0}},[r,e,t]),n}function M8({page:r,matches:e,...t}){let n=la(),{manifest:i,routeModules:a}=N_(),{basename:o}=R_(),{loaderData:u,matches:l}=O8(),c=W.useMemo(()=>oy(r,e,l,i,n,"data"),[r,e,l,i,n]),d=W.useMemo(()=>oy(r,e,l,i,n,"assets"),[r,e,l,i,n]),v=W.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let m=new Set,A=!1;if(e.forEach(w=>{var I;let C=i.routes[w.route.id];!C||!C.hasLoader||(!c.some(b=>b.route.id===w.route.id)&&w.route.id in u&&((I=a[w.route.id])!=null&&I.shouldRevalidate)||C.hasClientLoader?A=!0:m.add(w.route.id))}),m.size===0)return[];let E=b8(r,o);return A&&m.size>0&&E.searchParams.set("_routes",e.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[E.pathname+E.search]},[o,u,n,i,c,e,r,a]),g=W.useMemo(()=>w8(d,i),[d,i]),y=N8(d);return W.createElement(W.Fragment,null,v.map(m=>W.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),g.map(m=>W.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),y.map(({key:m,link:A})=>W.createElement("link",{key:m,...A})))}function B8(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M_&&(window.__reactRouterVersion="7.5.3")}catch{}function P8({basename:r,children:e,window:t}){let n=W.useRef();n.current==null&&(n.current=ww({window:t,v5Compat:!0}));let i=n.current,[a,o]=W.useState({action:i.action,location:i.location}),u=W.useCallback(l=>{W.startTransition(()=>o(l))},[o]);return W.useLayoutEffect(()=>i.listen(u),[i,u]),W.createElement(l8,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var B_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P_=W.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:u,target:l,to:c,preventScrollReset:d,viewTransition:v,...g},y){let{basename:m}=W.useContext(zn),A=typeof c=="string"&&B_.test(c),E,w=!1;if(typeof c=="string"&&A&&(E=c,M_))try{let K=new URL(window.location.href),Z=c.startsWith("//")?new URL(K.protocol+c):new URL(c),le=mi(Z.pathname,m);Z.origin===K.origin&&le!=null?c=le+Z.search+Z.hash:w=!0}catch{Gn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Zw(c,{relative:i}),[I,b,R]=D8(n,g),M=U8(c,{replace:o,state:u,target:l,preventScrollReset:d,relative:i,viewTransition:v});function L(K){e&&e(K),K.defaultPrevented||M(K)}let z=W.createElement("a",{...g,...R,href:E||C,onClick:w||a?e:L,ref:B8(y,b),target:l,"data-discover":!A&&t==="render"?"true":void 0});return I&&!A?W.createElement(W.Fragment,null,z,W.createElement(R8,{page:C})):z});P_.displayName="Link";var L8=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:u,children:l,...c},d){let v=Ps(o,{relative:c.relative}),g=la(),y=W.useContext(Yl),{navigator:m,basename:A}=W.useContext(zn),E=y!=null&&X8(v)&&u===!0,w=m.encodeLocation?m.encodeLocation(v).pathname:v.pathname,C=g.pathname,I=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(C=C.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&A&&(I=mi(I,A)||I);const b=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let R=C===w||!i&&C.startsWith(w)&&C.charAt(b)==="/",M=I!=null&&(I===w||!i&&I.startsWith(w)&&I.charAt(w.length)==="/"),L={isActive:R,isPending:M,isTransitioning:E},z=R?e:void 0,K;typeof n=="function"?K=n(L):K=[n,R?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Z=typeof a=="function"?a(L):a;return W.createElement(P_,{...c,"aria-current":z,className:K,ref:d,style:Z,to:o,viewTransition:u},typeof l=="function"?l(L):l)});L8.displayName="NavLink";var F8=W.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:o=_l,action:u,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:v,...g},y)=>{let m=G8(),A=z8(u,{relative:c}),E=o.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&B_.test(u),C=I=>{if(l&&l(I),I.defaultPrevented)return;I.preventDefault();let b=I.nativeEvent.submitter,R=(b==null?void 0:b.getAttribute("formmethod"))||o;m(b||I.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:i,state:a,relative:c,preventScrollReset:d,viewTransition:v})};return W.createElement("form",{ref:y,method:E,action:A,onSubmit:n?l:C,...g,"data-discover":!w&&r==="render"?"true":void 0})});F8.displayName="Form";function k8(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L_(r){let e=W.useContext(qo);return Dt(e,k8(r)),e}function U8(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let u=b_(),l=la(),c=Ps(r,{relative:a});return W.useCallback(d=>{if(g8(d,e)){d.preventDefault();let v=t!==void 0?t:bs(l)===bs(c);u(r,{replace:v,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[l,u,c,t,n,e,r,i,a,o])}var H8=0,V8=()=>`__${String(++H8)}__`;function G8(){let{router:r}=L_("useSubmit"),{basename:e}=W.useContext(zn),t=o8();return W.useCallback(async(n,i={})=>{let{action:a,method:o,encType:u,formData:l,body:c}=_8(n,e);if(i.navigate===!1){let d=i.fetcherKey||V8();await r.fetch(d,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function z8(r,{relative:e}={}){let{basename:t}=W.useContext(zn),n=W.useContext(ti);Dt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Ps(r||".",{relative:e})},o=la();if(r==null){a.search=o.search;let u=new URLSearchParams(a.search),l=u.getAll("index");if(l.some(d=>d==="")){u.delete("index"),l.filter(v=>v).forEach(v=>u.append("index",v));let d=u.toString();a.search=d?`?${d}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:xi([t,a.pathname])),bs(a)}function X8(r,e={}){let t=W.useContext(S_);Dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=L_("useViewTransitionState"),i=Ps(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=mi(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=mi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return bl(i.pathname,o)!=null||bl(i.pathname,a)!=null}new TextEncoder;[...T8];const W8=()=>{const[r,e]=W.useState(""),[t,n]=W.useState(""),[i,a]=W.useState(""),o=async()=>{if(!r||!t){a("Username and password required.");return}try{const u=await fetch("https://chikit360-backend.thundergits.com/users/login",{method:"POST",headers:{"Content-Type":"application/json",scanner:"true"},body:JSON.stringify({username:r,password:t})}),{data:l}=await u.json();console.log(l),u.ok?(localStorage.setItem("user",JSON.stringify(l)),window.location.reload()):a(l.message||"Login failed")}catch(u){alert(u),a(String(u)),console.error(u)}};return Se.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100",children:Se.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm",children:[Se.jsx("h2",{className:"text-lg font-semibold mb-4 text-center",children:"Login"}),Se.jsx("input",{type:"text",placeholder:"Username",value:r,onChange:u=>e(u.target.value),className:"w-full p-2 mb-3 border rounded"}),Se.jsx("input",{type:"text",placeholder:"Password",value:t,onChange:u=>n(u.target.value),className:"w-full p-2 mb-4 border rounded"}),Se.jsx("button",{onClick:o,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Login"}),i&&Se.jsx("p",{className:"text-red-500 text-sm mt-3 text-center",children:i})]})})},Y8=()=>{};var uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae=function(r,e){if(!r)throw Jo(e)},Jo=function(r){return new Error("Firebase Database ("+F_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},j8=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],o=r[t++],u=r[t++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=r[t++],o=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],o=i+1<r.length,u=o?r[i+1]:0,l=i+2<r.length,c=l?r[i+2]:0,d=a>>2,v=(a&3)<<4|u>>4;let g=(u&15)<<2|c>>6,y=c&63;l||(y=64,o||(g=64)),n.push(t[d],t[v],t[g],t[y])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(k_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j8(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],u=i<r.length?t[r.charAt(i)]:0;++i;const c=i<r.length?t[r.charAt(i)]:64;++i;const v=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||u==null||c==null||v==null)throw new $8;const g=a<<2|u>>4;if(n.push(g),c!==64){const y=u<<4&240|c>>2;if(n.push(y),v!==64){const m=c<<6&192|v;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U_=function(r){const e=k_(r);return fd.encodeByteArray(e,!0)},Ol=function(r){return U_(r).replace(/\./g,"")},fh=function(r){try{return fd.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(r){return H_(void 0,r)}function H_(r,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!K8(t)||(r[t]=H_(r[t],e[t]));return r}function K8(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=()=>q8().__FIREBASE_DEFAULTS__,J8=()=>{if(typeof process>"u"||typeof uy>"u")return;const r=uy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},e4=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fh(r[1]);return e&&JSON.parse(e)},V_=()=>{try{return Y8()||Q8()||J8()||e4()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},t4=r=>{var e,t;return(t=(e=V_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},r4=r=>{const e=t4(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},G_=()=>{var r;return(r=V_())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ol(JSON.stringify(t)),Ol(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(i4())}function a4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o4(){return F_.NODE_ADMIN===!0}function u4(){try{return typeof indexedDB=="object"}catch{return!1}}function s4(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="FirebaseError";class Ls extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=f4,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X_.prototype.create)}}class X_{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?l4(a,n):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Ls(i,u,n)}}function l4(r,e){return r.replace(c4,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const c4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(r){return JSON.parse(r)}function Er(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=function(r){let e={},t={},n={},i="";try{const a=r.split(".");e=Os(fh(a[0])||""),t=Os(fh(a[1])||""),i=a[2],n=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:n,signature:i}},h4=function(r){const e=W_(r),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},d4=function(r){const e=W_(r).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Wo(r,e){if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}function sy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Dl(r,e,t){const n={};for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=e.call(t,r[i],i,r));return n}function Rl(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],o=e[i];if(fy(a)&&fy(o)){if(!Rl(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function fy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)n[v]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let v=0;v<16;v++)n[v]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let v=16;v<80;v++){const g=n[v-3]^n[v-8]^n[v-14]^n[v-16];n[v]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],o=this.chain_[2],u=this.chain_[3],l=this.chain_[4],c,d;for(let v=0;v<80;v++){v<40?v<20?(c=u^a&(o^u),d=1518500249):(c=a^o^u,d=1859775393):v<60?(c=a&o|u&(a|o),d=2400959708):(c=a^o^u,d=3395469782);const g=(i<<5|i>>>27)+c+l+d+n[v]&4294967295;l=u,u=o,o=(a<<30|a>>>2)&4294967295,a=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const n=t-this.blockSize;let i=0;const a=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(a[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(a),o=0;break}}else for(;i<t;)if(a[o]=e[i],++o,++i,o===this.blockSize){this.compress_(a),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)e[n]=this.chain_[i]>>a&255,++n;return e}}function ld(r,e){return`${r} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);if(i>=55296&&i<=56319){const a=i-55296;n++,ae(n<r.length,"Surrogate pair missing trail surrogate.");const o=r.charCodeAt(n)-56320;i=65536+(a<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Zl=function(r){let e=0;for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(r){return r&&r._delegate?r._delegate:r}class Ds{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new $l;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_4(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&o.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:x4(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x4(r){return r===Ma?void 0:r}function _4(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new y4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(yt||(yt={}));const A4={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},E4=yt.INFO,w4={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},C4=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=w4[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y_{constructor(e){this.name=e,this._logLevel=E4,this._logHandler=C4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const S4=(r,e)=>e.some(t=>r instanceof t);let ly,cy;function I4(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j_=new WeakMap,lh=new WeakMap,$_=new WeakMap,R0=new WeakMap,cd=new WeakMap;function b4(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",o)},a=()=>{t(ra(r.result)),i()},o=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&j_.set(t,r)}).catch(()=>{}),cd.set(e,r),e}function O4(r){if(lh.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",o),r.removeEventListener("abort",o)},a=()=>{t(),i()},o=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",o),r.addEventListener("abort",o)});lh.set(r,e)}let ch={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return lh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ra(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function D4(r){ch=r(ch)}function R4(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(N0(this),e,...t);return $_.set(n,e.sort?e.sort():[e]),ra(n)}:T4().includes(r)?function(...e){return r.apply(N0(this),e),ra(j_.get(this))}:function(...e){return ra(r.apply(N0(this),e))}}function N4(r){return typeof r=="function"?R4(r):(r instanceof IDBTransaction&&O4(r),S4(r,I4())?new Proxy(r,ch):r)}function ra(r){if(r instanceof IDBRequest)return b4(r);if(R0.has(r))return R0.get(r);const e=N4(r);return e!==r&&(R0.set(r,e),cd.set(e,r)),e}const N0=r=>cd.get(r);function M4(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(r,e),u=ra(o);return n&&o.addEventListener("upgradeneeded",l=>{n(ra(o.result),l.oldVersion,l.newVersion,ra(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),u.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const B4=["get","getKey","getAll","getAllKeys","count"],P4=["put","add","delete","clear"],M0=new Map;function hy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(M0.get(e))return M0.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=P4.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||B4.includes(t)))return;const a=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(u.shift())),(await Promise.all([c[t](...u),i&&l.done]))[0]};return M0.set(e,a),a}D4(r=>({...r,get:(e,t,n)=>hy(e,t)||r.get(e,t,n),has:(e,t)=>!!hy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F4(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function F4(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hh="@firebase/app",dy="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Y_("@firebase/app"),k4="@firebase/app-compat",U4="@firebase/analytics-compat",H4="@firebase/analytics",V4="@firebase/app-check-compat",G4="@firebase/app-check",z4="@firebase/auth",X4="@firebase/auth-compat",W4="@firebase/database",Y4="@firebase/data-connect",j4="@firebase/database-compat",$4="@firebase/functions",Z4="@firebase/functions-compat",K4="@firebase/installations",q4="@firebase/installations-compat",Q4="@firebase/messaging",J4="@firebase/messaging-compat",eC="@firebase/performance",tC="@firebase/performance-compat",rC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",aC="@firebase/storage-compat",oC="@firebase/firestore",uC="@firebase/vertexai",sC="@firebase/firestore-compat",fC="firebase",lC="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="[DEFAULT]",cC={[hh]:"fire-core",[k4]:"fire-core-compat",[H4]:"fire-analytics",[U4]:"fire-analytics-compat",[G4]:"fire-app-check",[V4]:"fire-app-check-compat",[z4]:"fire-auth",[X4]:"fire-auth-compat",[W4]:"fire-rtdb",[Y4]:"fire-data-connect",[j4]:"fire-rtdb-compat",[$4]:"fire-fn",[Z4]:"fire-fn-compat",[K4]:"fire-iid",[q4]:"fire-iid-compat",[Q4]:"fire-fcm",[J4]:"fire-fcm-compat",[eC]:"fire-perf",[tC]:"fire-perf-compat",[rC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[aC]:"fire-gcs-compat",[oC]:"fire-fst",[sC]:"fire-fst-compat",[uC]:"fire-vertex","fire-js":"fire-js",[fC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new Map,hC=new Map,vh=new Map;function vy(r,e){try{r.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ml(r){const e=r.name;if(vh.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;vh.set(e,r);for(const t of Nl.values())vy(t,r);for(const t of hC.values())vy(t,r);return!0}function dC(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function vC(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new X_("app","Firebase",pC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=lC;function Z_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:dh,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw na.create("bad-app-name",{appName:String(i)});if(t||(t=G_()),!t)throw na.create("no-options");const a=Nl.get(i);if(a){if(Rl(t,a.options)&&Rl(n,a.config))return a;throw na.create("duplicate-app",{appName:i})}const o=new m4(i);for(const l of vh.values())o.addComponent(l);const u=new gC(t,n,o);return Nl.set(i,u),u}function xC(r=dh){const e=Nl.get(r);if(!e&&r===dh&&G_())return Z_();if(!e)throw na.create("no-app",{appName:r});return e}function Go(r,e,t){var n;let i=(n=cC[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(u.join(" "));return}Ml(new Ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firebase-heartbeat-database",mC=1,Rs="firebase-heartbeat-store";let B0=null;function K_(){return B0||(B0=M4(_C,mC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Rs)}catch(t){console.warn(t)}}}}).catch(r=>{throw na.create("idb-open",{originalErrorMessage:r.message})})),B0}async function AC(r){try{const t=(await K_()).transaction(Rs),n=await t.objectStore(Rs).get(q_(r));return await t.done,n}catch(e){if(e instanceof Ls)Ai.warn(e.message);else{const t=na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function py(r,e){try{const n=(await K_()).transaction(Rs,"readwrite");await n.objectStore(Rs).put(e,q_(r)),await n.done}catch(t){if(t instanceof Ls)Ai.warn(t.message);else{const n=na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(n.message)}}}function q_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=1024,wC=30;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IC(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=gy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wC){const o=TC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ai.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gy(),{heartbeatsToSend:n,unsentEntries:i}=SC(this._heartbeatsCache.heartbeats),a=Ol(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ai.warn(t),""}}}function gy(){return new Date().toISOString().substring(0,10)}function SC(r,e=EC){const t=[];let n=r.slice();for(const i of r){const a=t.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),yy(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),yy(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class IC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u4()?s4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return py(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return py(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yy(r){return Ol(JSON.stringify({version:2,heartbeats:r})).length}function TC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r){Ml(new Ds("platform-logger",e=>new L4(e),"PRIVATE")),Ml(new Ds("heartbeat",e=>new CC(e),"PRIVATE")),Go(hh,dy,r),Go(hh,dy,"esm2017"),Go("fire-js","")}bC("");var xy={};const _y="@firebase/database",my="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q_="";function OC(r){Q_=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Er(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Os(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ci(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DC(e)}}catch{}return new RC},Fa=J_("localStorage"),NC=J_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Y_("@firebase/database"),MC=function(){let r=1;return function(){return r++}}(),e3=function(r){const e=g4(r),t=new p4;t.update(e);const n=t.digest();return fd.encodeByteArray(n)},ks=function(...r){let e="";for(let t=0;t<r.length;t++){const n=r[t];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=ks.apply(null,n):typeof n=="object"?e+=Er(n):e+=n,e+=" "}return e};let Cs=null,Ay=!0;const BC=function(r,e){ae(!0,"Can't turn on custom loggers persistently."),zo.logLevel=yt.VERBOSE,Cs=zo.log.bind(zo)},Dr=function(...r){if(Ay===!0&&(Ay=!1,Cs===null&&NC.get("logging_enabled")===!0&&BC()),Cs){const e=ks.apply(null,r);Cs(e)}},Us=function(r){return function(...e){Dr(r,...e)}},ph=function(...r){const e="FIREBASE INTERNAL ERROR: "+ks(...r);zo.error(e)},Ei=function(...r){const e=`FIREBASE FATAL ERROR: ${ks(...r)}`;throw zo.error(e),new Error(e)},qr=function(...r){const e="FIREBASE WARNING: "+ks(...r);zo.warn(e)},PC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},t3=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},LC=function(r){if(document.readyState==="complete")r();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Yo="[MIN_NAME]",za="[MAX_NAME]",eu=function(r,e){if(r===e)return 0;if(r===Yo||e===za)return-1;if(e===Yo||r===za)return 1;{const t=Ey(r),n=Ey(e);return t!==null?n!==null?t-n===0?r.length-e.length:t-n:-1:n!==null?1:r<e?-1:1}},FC=function(r,e){return r===e?0:r<e?-1:1},os=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+Er(e))},hd=function(r){if(typeof r!="object"||r===null)return Er(r);const e=[];for(const n in r)e.push(n);e.sort();let t="{";for(let n=0;n<e.length;n++)n!==0&&(t+=","),t+=Er(e[n]),t+=":",t+=hd(r[e[n]]);return t+="}",t},r3=function(r,e){const t=r.length;if(t<=e)return[r];const n=[];for(let i=0;i<t;i+=e)i+e>t?n.push(r.substring(i,t)):n.push(r.substring(i,i+e));return n};function Tn(r,e){for(const t in r)r.hasOwnProperty(t)&&e(t,r[t])}const n3=function(r){ae(!t3(r),"Invalid JSON number");const e=11,t=52,n=(1<<e-1)-1;let i,a,o,u,l;r===0?(a=0,o=0,i=1/r===-1/0?1:0):(i=r<0,r=Math.abs(r),r>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(r)/Math.LN2),n),a=u+n,o=Math.round(r*Math.pow(2,t-u)-Math.pow(2,t))):(a=0,o=Math.round(r/Math.pow(2,1-n-t))));const c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(i?1:0),c.reverse();const d=c.join("");let v="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},kC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},UC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},HC=new RegExp("^-?(0*)\\d{1,10}$"),VC=-2147483648,GC=2147483647,Ey=function(r){if(HC.test(r)){const e=Number(r);if(e>=VC&&e<=GC)return e}return null},tu=function(r){try{r()}catch(e){setTimeout(()=>{const t=e.stack||"";throw qr("Exception was thrown by user callback.",t),e},Math.floor(0))}},zC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ss=function(r,e){const t=setTimeout(r,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,vC(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){qr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qr(e)}}class Al{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Al.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="5",i3="v",a3="s",o3="r",u3="f",s3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,f3="ls",l3="p",gh="ac",c3="websocket",h3="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,t,n,i,a=!1,o="",u=!1,l=!1,c=null){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function YC(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function v3(r,e,t){ae(typeof e=="string","typeof type must == string"),ae(typeof t=="object","typeof params must == object");let n;if(e===c3)n=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(e===h3)n=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);YC(r)&&(t.ns=r.namespace);const i=[];return Tn(t,(a,o)=>{i.push(a+"="+o)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.counters_={}}incrementCounter(e,t=1){Ci(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Z8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0={},L0={};function vd(r){const e=r.toString();return P0[e]||(P0[e]=new jC),P0[e]}function $C(r,e){const t=r.toString();return L0[t]||(L0[t]=e()),L0[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&tu(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="start",KC="close",qC="pLPCommand",QC="pRTLPCB",p3="id",g3="pw",y3="ser",JC="cb",e6="seg",t6="ts",r6="d",n6="dframe",x3=1870,_3=30,i6=x3-_3,a6=25e3,o6=3e4;class Fo{constructor(e,t,n,i,a,o,u){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Us(e),this.stats_=vd(t),this.urlFn=l=>(this.appCheckToken&&(l[gh]=this.appCheckToken),v3(t,h3,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ZC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(o6)),LC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pd((...a)=>{const[o,u,l,c,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===wy)this.id=u,this.password=l;else if(o===KC)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,u]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,u)},()=>{this.onClosed_()},this.urlFn);const n={};n[wy]="t",n[y3]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[JC]=this.scriptTagHolder.uniqueCallbackIdentifier),n[i3]=dd,this.transportSessionId&&(n[a3]=this.transportSessionId),this.lastSessionId&&(n[f3]=this.lastSessionId),this.applicationId&&(n[l3]=this.applicationId),this.appCheckToken&&(n[gh]=this.appCheckToken),typeof location<"u"&&location.hostname&&s3.test(location.hostname)&&(n[o3]=u3);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fo.forceAllow_=!0}static forceDisallow(){Fo.forceDisallow_=!0}static isAvailable(){return Fo.forceAllow_?!0:!Fo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kC()&&!UC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Er(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=U_(t),i=r3(n,i6);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={};n[n6]="t",n[p3]=e,n[g3]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Er(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class pd{constructor(e,t,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=MC(),window[qC+this.uniqueCallbackIdentifier]=e,window[QC+this.uniqueCallbackIdentifier]=t,this.myIFrame=pd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){Dr("frame writing exception"),u.stack&&Dr(u.stack),Dr(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Dr("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[p3]=this.myID,e[g3]=this.myPW,e[y3]=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_3+n.length<=x3;){const o=this.pendingSegs.shift();n=n+"&"+e6+i+"="+o.seg+"&"+t6+i+"="+o.ts+"&"+r6+i+"="+o.d,i++}return t=t+n,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(a6)),a=()=>{clearTimeout(i),n()};this.addTag(e,a)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=16384,s6=45e3;let Bl=null;typeof MozWebSocket<"u"?Bl=MozWebSocket:typeof WebSocket<"u"&&(Bl=WebSocket);class Pn{constructor(e,t,n,i,a,o,u){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Us(this.connId),this.stats_=vd(t),this.connURL=Pn.connectionURL_(t,o,u,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,a){const o={};return o[i3]=dd,typeof location<"u"&&location.hostname&&s3.test(location.hostname)&&(o[o3]=u3),t&&(o[a3]=t),n&&(o[f3]=n),i&&(o[gh]=i),a&&(o[l3]=a),v3(e,c3,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fa.set("previous_websocket_failure",!0);try{let n;o4(),this.mySock=new Bl(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&Bl!==null&&!Pn.forceDisallow_}static previouslyFailed(){return Fa.isInMemoryStorage||Fa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const n=Os(t);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ae(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const n=this.extractFrameCount_(t);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const t=Er(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=r3(t,u6);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(s6))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pn.responsesRequiredToBeHealthy=2;Pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{static get ALL_TRANSPORTS(){return[Fo,Pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Pn&&Pn.isAvailable();let n=t&&!Pn.previouslyFailed();if(e.webSocketOnly&&(t||qr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Pn];else{const i=this.transports_=[];for(const a of Ns.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Ns.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ns.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=6e4,l6=5e3,c6=10*1024,h6=100*1024,F0="t",Cy="d",d6="s",Sy="r",v6="e",Iy="o",Ty="a",by="n",Oy="p",p6="h";class g6{constructor(e,t,n,i,a,o,u,l,c,d){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Us("c:"+this.id+":"),this.transportManager_=new Ns(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ss(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>h6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>c6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(F0 in e){const t=e[F0];t===Ty?this.upgradeIfSecondaryHealthy_():t===Sy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Iy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=os("t",e),n=os("d",e);if(t==="c")this.onSecondaryControl_(n);else if(t==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Oy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ty,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:by,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=os("t",e),n=os("d",e);t==="c"?this.onControl_(n):t==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=os(F0,e);if(Cy in e){const n=e[Cy];if(t===p6){const i=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===by){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===d6?this.onConnectionShutdown_(n):t===Sy?this.onReset_(n):t===v6?ph("Server Error: "+n):t===Iy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ph("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),dd!==n&&qr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ss(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(f6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ss(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(l6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Oy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.allowedEvents_=e,this.listeners_={},ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!n||n===i[a].context)){i.splice(a,1);return}}validateEventType_(e){ae(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends A3{static getInstance(){return new Pl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!z_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ae(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=32,Ry=768;class Tt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function dt(){return new Tt("")}function Be(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function fa(r){return r.pieces_.length-r.pieceNum_}function St(r){let e=r.pieceNum_;return e<r.pieces_.length&&e++,new Tt(r.pieces_,e)}function E3(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function y6(r){let e="";for(let t=r.pieceNum_;t<r.pieces_.length;t++)r.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(r.pieces_[t])));return e||"/"}function w3(r,e=0){return r.pieces_.slice(r.pieceNum_+e)}function C3(r){if(r.pieceNum_>=r.pieces_.length)return null;const e=[];for(let t=r.pieceNum_;t<r.pieces_.length-1;t++)e.push(r.pieces_[t]);return new Tt(e,0)}function Zt(r,e){const t=[];for(let n=r.pieceNum_;n<r.pieces_.length;n++)t.push(r.pieces_[n]);if(e instanceof Tt)for(let n=e.pieceNum_;n<e.pieces_.length;n++)t.push(e.pieces_[n]);else{const n=e.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&t.push(n[i])}return new Tt(t,0)}function Pe(r){return r.pieceNum_>=r.pieces_.length}function En(r,e){const t=Be(r),n=Be(e);if(t===null)return e;if(t===n)return En(St(r),St(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+r+")")}function S3(r,e){if(fa(r)!==fa(e))return!1;for(let t=r.pieceNum_,n=e.pieceNum_;t<=r.pieces_.length;t++,n++)if(r.pieces_[t]!==e.pieces_[n])return!1;return!0}function Hn(r,e){let t=r.pieceNum_,n=e.pieceNum_;if(fa(r)>fa(e))return!1;for(;t<r.pieces_.length;){if(r.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0}class x6{constructor(e,t){this.errorPrefix_=t,this.parts_=w3(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Zl(this.parts_[n]);I3(this)}}function _6(r,e){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(e),r.byteLength_+=Zl(e),I3(r)}function m6(r){const e=r.parts_.pop();r.byteLength_-=Zl(e),r.parts_.length>0&&(r.byteLength_-=1)}function I3(r){if(r.byteLength_>Ry)throw new Error(r.errorPrefix_+"has a key path longer than "+Ry+" bytes ("+r.byteLength_+").");if(r.parts_.length>Dy)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dy+") or object contains a cycle "+Ba(r))}function Ba(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends A3{static getInstance(){return new gd}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return ae(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=1e3,A6=60*5*1e3,Ny=30*1e3,E6=1.3,w6=3e4,C6="server_kill",My=3;class _i extends m3{constructor(e,t,n,i,a,o,u,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=_i.nextPersistentConnectionId_++,this.log_=Us("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=us,this.maxReconnectDelay_=A6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,a={r:i,a:e,b:t};this.log_(Er(a)),ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new $l,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const u=o.d;o.s==="ok"?t.resolve(u):t.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),t.promise}listen(e,t,n,i){this.initConnection_();const a=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ae(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(o).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const a={p:n},o="q";e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(o,a,u=>{const l=u.d,c=u.s;_i.warnOnListenWarnings_(l,t),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",u),c!=="ok"&&this.removeListen_(n,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ci(e,"w")){const n=Wo(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();qr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||d4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ny)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=h4(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(t,n,i=>{const a=i.s,o=i.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const a={p:e},o="n";i&&(a.q=n,a.t=i),this.sendRequest(o,a)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const a={p:t,d:n};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,a){this.initConnection_();const o={p:t,d:n};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,n=>{if(n.s!=="ok"){const a=n.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Er(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):ph("Unrecognized action received from server: "+Er(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>w6&&(this.reconnectDelay_=us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*E6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+_i.nextConnectionId_++,a=this.lastSessionId;let o=!1,u=null;const l=function(){u?u.close():(o=!0,n())},c=function(v){ae(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Dr("getToken() completed but was canceled"):(Dr("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=g&&g.token,u=new g6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,y=>{qr(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(C6)},a))}catch(v){this.log_("Failed to get token: "+v),o||(this.repoInfo_.nodeAdmin&&qr(v),l())}}}interrupt(e){Dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sy(this.interruptReasons_)&&(this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;t?n=t.map(a=>hd(a)).join("$"):n="default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new Tt(e).toString();let i;if(this.listens.has(n)){const a=this.listens.get(n);i=a.get(t),a.delete(t),a.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){Dr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=My&&(this.reconnectDelay_=Ny,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Dr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=My&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Q_.replace(/\./g,"-")]=1,z_()?e["framework.cordova"]=1:a4()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pl.getInstance().currentlyOnline();return sy(this.interruptReasons_)&&e}}_i.nextPersistentConnectionId_=0;_i.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new He(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new He(Yo,e),i=new He(Yo,t);return this.compare(n,i)!==0}minPost(){return He.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul;class T3 extends Kl{static get __EMPTY_NODE(){return ul}static set __EMPTY_NODE(e){ul=e}compare(e,t){return eu(e.name,t.name)}isDefinedOn(e){throw Jo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return He.MIN}maxPost(){return new He(za,ul)}makePost(e,t){return ae(typeof e=="string","KeyIndex indexValue must always be a string."),new He(e,ul)}toString(){return".key"}}const Xo=new T3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t,n,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class fr{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??fr.RED,this.left=i??Kr.EMPTY_NODE,this.right=a??Kr.EMPTY_NODE}copy(e,t,n,i,a){return new fr(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Kr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),t(e,n.key)===0){if(n.right.isEmpty())return Kr.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}fr.RED=!0;fr.BLACK=!1;class S6{copy(e,t,n,i,a){return this}insert(e,t,n){return new fr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Kr{constructor(e,t=Kr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Kr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,fr.BLACK,null,null))}remove(e){return new Kr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fr.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),t===0)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();)if(t=this.comparator_(e,n.key),t===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else t<0?n=n.left:t>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sl(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sl(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sl(this.root_,null,this.comparator_,!0,e)}}Kr.EMPTY_NODE=new S6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(r,e){return eu(r.name,e.name)}function yd(r,e){return eu(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh;function T6(r){yh=r}const b3=function(r){return typeof r=="number"?"number:"+n3(r):"string:"+r},O3=function(r){if(r.isLeafNode()){const e=r.val();ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ci(e,".sv"),"Priority must be a string or number.")}else ae(r===yh||r.isEmpty(),"priority of unexpected type.");ae(r===yh||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let By;class sr{static set __childrenNodeConstructor(e){By=e}static get __childrenNodeConstructor(){return By}constructor(e,t=sr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),O3(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:sr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pe(e)?this:Be(e)===".priority"?this.priorityNode_:sr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:sr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Be(e);return n===null?t:t.isEmpty()&&n!==".priority"?this:(ae(n!==".priority"||fa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,sr.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+b3(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=n3(this.value_):e+=this.value_,this.lazyHash_=e3(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sr.__childrenNodeConstructor?-1:(ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=sr.VALUE_TYPE_ORDER.indexOf(t),a=sr.VALUE_TYPE_ORDER.indexOf(n);return ae(i>=0,"Unknown leaf type: "+t),ae(a>=0,"Unknown leaf type: "+n),i===a?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}sr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D3,R3;function b6(r){D3=r}function O6(r){R3=r}class D6 extends Kl{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),a=n.compareTo(i);return a===0?eu(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return He.MIN}maxPost(){return new He(za,new sr("[PRIORITY-POST]",R3))}makePost(e,t){const n=D3(e);return new He(t,new sr("[PRIORITY-POST]",n))}toString(){return".priority"}}const Rr=new D6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=Math.log(2);class N6{constructor(e){const t=a=>parseInt(Math.log(a)/R6,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ll=function(r,e,t,n){r.sort(e);const i=function(l,c){const d=c-l;let v,g;if(d===0)return null;if(d===1)return v=r[l],g=t?t(v):v,new fr(g,v.node,fr.BLACK,null,null);{const y=parseInt(d/2,10)+l,m=i(l,y),A=i(y+1,c);return v=r[y],g=t?t(v):v,new fr(g,v.node,fr.BLACK,m,A)}},a=function(l){let c=null,d=null,v=r.length;const g=function(m,A){const E=v-m,w=v;v-=m;const C=i(E+1,w),I=r[E],b=t?t(I):I;y(new fr(b,I.node,A,null,C))},y=function(m){c?(c.left=m,c=m):(d=m,c=m)};for(let m=0;m<l.count;++m){const A=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));A?g(E,fr.BLACK):(g(E,fr.BLACK),g(E,fr.RED))}return d},o=new N6(r.length),u=a(o);return new Kr(n||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k0;const Bo={};class yi{static get Default(){return ae(Bo&&Rr,"ChildrenNode.ts has not been loaded"),k0=k0||new yi({".priority":Bo},{".priority":Rr}),k0}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Wo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Kr?t:null}hasIndex(e){return Ci(this.indexSet_,e.toString())}addIndex(e,t){ae(e!==Xo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const a=t.getIterator(He.Wrap);let o=a.getNext();for(;o;)i=i||e.isDefinedOn(o.node),n.push(o),o=a.getNext();let u;i?u=Ll(n,e.getCompare()):u=Bo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=u,new yi(d,c)}addToIndexes(e,t){const n=Dl(this.indexes_,(i,a)=>{const o=Wo(this.indexSet_,a);if(ae(o,"Missing index implementation for "+a),i===Bo)if(o.isDefinedOn(e.node)){const u=[],l=t.getIterator(He.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&u.push(c),c=l.getNext();return u.push(e),Ll(u,o.getCompare())}else return Bo;else{const u=t.get(e.name);let l=i;return u&&(l=l.remove(new He(e.name,u))),l.insert(e,e.node)}});return new yi(n,this.indexSet_)}removeFromIndexes(e,t){const n=Dl(this.indexes_,i=>{if(i===Bo)return i;{const a=t.get(e.name);return a?i.remove(new He(e.name,a)):i}});return new yi(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ss;class tt{static get EMPTY_NODE(){return ss||(ss=new tt(new Kr(yd),null,yi.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&O3(this.priorityNode_),this.children_.isEmpty()&&ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ss}updatePriority(e){return this.children_.isEmpty()?this:new tt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?ss:t}}getChild(e){const t=Be(e);return t===null?this:this.getImmediateChild(t).getChild(St(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ae(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const n=new He(e,t);let i,a;t.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?ss:this.priorityNode_;return new tt(i,o,a)}}updateChild(e,t){const n=Be(e);if(n===null)return t;{ae(Be(e)!==".priority"||fa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(St(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,a=!0;if(this.forEachChild(Rr,(o,u)=>{t[o]=u.val(e),n++,a&&tt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!e&&a&&i<2*n){const o=[];for(const u in t)o[u]=t[u];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+b3(this.getPriority().val())+":"),this.forEachChild(Rr,(t,n)=>{const i=n.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":e3(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const a=i.getPredecessorKey(new He(e,t));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const n=t.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new He(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const n=t.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new He(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,He.Wrap);let a=i.peek();for(;a!=null&&t.compare(a,e)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,He.Wrap);let a=i.peek();for(;a!=null&&t.compare(a,e)>0;)i.getNext(),a=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hs?-1:0}withIndex(e){if(e===Xo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new tt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Xo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const n=this.getIterator(Rr),i=t.getIterator(Rr);let a=n.getNext(),o=i.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=n.getNext(),o=i.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Xo?null:this.indexMap_.get(e.toString())}}tt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class M6 extends tt{constructor(){super(new Kr(yd),tt.EMPTY_NODE,yi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tt.EMPTY_NODE}isEmpty(){return!1}}const Hs=new M6;Object.defineProperties(He,{MIN:{value:new He(Yo,tt.EMPTY_NODE)},MAX:{value:new He(za,Hs)}});T3.__EMPTY_NODE=tt.EMPTY_NODE;sr.__childrenNodeConstructor=tt;T6(Hs);O6(Hs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=!0;function Ar(r,e=null){if(r===null)return tt.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(e=r[".priority"]),ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const t=r;return new sr(t,Ar(e))}if(!(r instanceof Array)&&B6){const t=[];let n=!1;if(Tn(r,(o,u)=>{if(o.substring(0,1)!=="."){const l=Ar(u);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),t.push(new He(o,l)))}}),t.length===0)return tt.EMPTY_NODE;const a=Ll(t,I6,o=>o.name,yd);if(n){const o=Ll(t,Rr.getCompare());return new tt(a,Ar(e),new yi({".priority":o},{".priority":Rr}))}else return new tt(a,Ar(e),yi.Default)}else{let t=tt.EMPTY_NODE;return Tn(r,(n,i)=>{if(Ci(r,n)&&n.substring(0,1)!=="."){const a=Ar(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(n,a))}}),t.updatePriority(Ar(e))}}b6(Ar);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6 extends Kl{constructor(e){super(),this.indexPath_=e,ae(!Pe(e)&&Be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),a=n.compareTo(i);return a===0?eu(e.name,t.name):a}makePost(e,t){const n=Ar(e),i=tt.EMPTY_NODE.updateChild(this.indexPath_,n);return new He(t,i)}maxPost(){const e=tt.EMPTY_NODE.updateChild(this.indexPath_,Hs);return new He(za,e)}toString(){return w3(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6 extends Kl{compare(e,t){const n=e.node.compareTo(t.node);return n===0?eu(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(e,t){const n=Ar(e);return new He(t,n)}toString(){return".value"}}const F6=new L6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(r){return{type:"value",snapshotNode:r}}function U6(r,e){return{type:"child_added",snapshotNode:e,childName:r}}function H6(r,e){return{type:"child_removed",snapshotNode:e,childName:r}}function Py(r,e,t){return{type:"child_changed",snapshotNode:e,childName:r,oldSnap:t}}function V6(r,e){return{type:"child_moved",snapshotNode:e,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yo}hasEnd(){return this.endSet_}getIndexEndValue(){return ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:za}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rr}copy(){const e=new xd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ly(r){const e={};if(r.isDefault())return e;let t;if(r.index_===Rr?t="$priority":r.index_===F6?t="$value":r.index_===Xo?t="$key":(ae(r.index_ instanceof P6,"Unrecognized index type!"),t=r.index_.toString()),e.orderBy=Er(t),r.startSet_){const n=r.startAfterSet_?"startAfter":"startAt";e[n]=Er(r.indexStartValue_),r.startNameSet_&&(e[n]+=","+Er(r.indexStartName_))}if(r.endSet_){const n=r.endBeforeSet_?"endBefore":"endAt";e[n]=Er(r.indexEndValue_),r.endNameSet_&&(e[n]+=","+Er(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?e.limitToFirst=r.limit_:e.limitToLast=r.limit_),e}function Fy(r){const e={};if(r.startSet_&&(e.sp=r.indexStartValue_,r.startNameSet_&&(e.sn=r.indexStartName_),e.sin=!r.startAfterSet_),r.endSet_&&(e.ep=r.indexEndValue_,r.endNameSet_&&(e.en=r.indexEndName_),e.ein=!r.endBeforeSet_),r.limitSet_){e.l=r.limit_;let t=r.viewFrom_;t===""&&(r.isViewFromLeft()?t="l":t="r"),e.vf=t}return r.index_!==Rr&&(e.i=r.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends m3{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=Us("p:rest:"),this.listens_={}}listen(e,t,n,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const o=Fl.getListenId_(e,n),u={};this.listens_[o]=u;const l=Ly(e._queryParams);this.restRequest_(a+".json",l,(c,d)=>{let v=d;if(c===404&&(v=null,c=null),c===null&&this.onDataUpdate_(a,v,!1,n),Wo(this.listens_,o)===u){let g;c?c===401?g="permission_denied":g="rest_error:"+c:g="ok",i(g,null)}})}unlisten(e,t){const n=Fl.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Ly(e._queryParams),n=e._path.toString(),i=new $l;return this.restRequest_(n+".json",t,(a,o)=>{let u=o;a===404&&(u=null,a=null),a===null?(this.onDataUpdate_(n,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+v4(t);this.log_("Sending REST request for "+o);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&u.readyState===4){this.log_("REST Response for "+o+" received. status:",u.status,"response:",u.responseText);let l=null;if(u.status>=200&&u.status<300){try{l=Os(u.responseText)}catch{qr("Failed to parse JSON response for "+o+": "+u.responseText)}n(null,l)}else u.status!==401&&u.status!==404&&qr("Got unsuccessful REST response for "+o+" Status: "+u.status),n(u.status);n=null}},u.open("GET",o,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(){return{value:null,children:new Map}}function N3(r,e,t){if(Pe(e))r.value=t,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(e,t);else{const n=Be(e);r.children.has(n)||r.children.set(n,kl());const i=r.children.get(n);e=St(e),N3(i,e,t)}}function xh(r,e,t){r.value!==null?t(e,r.value):z6(r,(n,i)=>{const a=new Tt(e.toString()+"/"+n);xh(i,a,t)})}function z6(r,e){r.children.forEach((t,n)=>{e(n,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Tn(this.last_,(n,i)=>{t[n]=t[n]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=10*1e3,W6=30*1e3,Y6=5*60*1e3;class j6{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new X6(e);const n=ky+(W6-ky)*Math.random();Ss(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Tn(e,(i,a)=>{a>0&&Ci(this.statsToReport_,i)&&(t[i]=a,n=!0)}),n&&this.server_.reportStats(t),Ss(this.reportStats_.bind(this),Math.floor(Math.random()*2*Y6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kn||(Kn={}));function M3(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function B3(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function P3(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Kn.ACK_USER_WRITE,this.source=M3()}operationForChild(e){if(Pe(this.path)){if(this.affectedTree.value!=null)return ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Tt(e));return new Ul(dt(),t,this.revert)}}else return ae(Be(this.path)===e,"operationForChild called for unrelated child."),new Ul(St(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Kn.OVERWRITE}operationForChild(e){return Pe(this.path)?new Xa(this.source,dt(),this.snap.getImmediateChild(e)):new Xa(this.source,St(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Kn.MERGE}operationForChild(e){if(Pe(this.path)){const t=this.children.subtree(new Tt(e));return t.isEmpty()?null:t.value?new Xa(this.source,dt(),t.value):new Ms(this.source,dt(),t)}else return ae(Be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ms(this.source,St(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;const t=Be(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function $6(r,e,t,n){const i=[],a=[];return e.forEach(o=>{o.type==="child_changed"&&r.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(V6(o.childName,o.snapshotNode))}),fs(r,i,"child_removed",e,n,t),fs(r,i,"child_added",e,n,t),fs(r,i,"child_moved",a,n,t),fs(r,i,"child_changed",e,n,t),fs(r,i,"value",e,n,t),i}function fs(r,e,t,n,i,a){const o=n.filter(u=>u.type===t);o.sort((u,l)=>K6(r,u,l)),o.forEach(u=>{const l=Z6(r,u,a);i.forEach(c=>{c.respondsTo(u.type)&&e.push(c.createEvent(l,r.query_))})})}function Z6(r,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,r.index_)),e}function K6(r,e,t){if(e.childName==null||t.childName==null)throw Jo("Should only compare child_ events.");const n=new He(e.childName,e.snapshotNode),i=new He(t.childName,t.snapshotNode);return r.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(r,e){return{eventCache:r,serverCache:e}}function Is(r,e,t,n){return L3(new _d(e,t,n),r.serverCache)}function F3(r,e,t,n){return L3(r.eventCache,new _d(e,t,n))}function _h(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Wa(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U0;const q6=()=>(U0||(U0=new Kr(FC)),U0);class Ct{static fromObject(e){let t=new Ct(null);return Tn(e,(n,i)=>{t=t.set(new Tt(n),i)}),t}constructor(e,t=q6()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:dt(),value:this.value};if(Pe(e))return null;{const n=Be(e),i=this.children.get(n);if(i!==null){const a=i.findRootMostMatchingPathAndValue(St(e),t);return a!=null?{path:Zt(new Tt(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pe(e))return this;{const t=Be(e),n=this.children.get(t);return n!==null?n.subtree(St(e)):new Ct(null)}}set(e,t){if(Pe(e))return new Ct(t,this.children);{const n=Be(e),a=(this.children.get(n)||new Ct(null)).set(St(e),t),o=this.children.insert(n,a);return new Ct(this.value,o)}}remove(e){if(Pe(e))return this.children.isEmpty()?new Ct(null):new Ct(null,this.children);{const t=Be(e),n=this.children.get(t);if(n){const i=n.remove(St(e));let a;return i.isEmpty()?a=this.children.remove(t):a=this.children.insert(t,i),this.value===null&&a.isEmpty()?new Ct(null):new Ct(this.value,a)}else return this}}get(e){if(Pe(e))return this.value;{const t=Be(e),n=this.children.get(t);return n?n.get(St(e)):null}}setTree(e,t){if(Pe(e))return t;{const n=Be(e),a=(this.children.get(n)||new Ct(null)).setTree(St(e),t);let o;return a.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,a),new Ct(this.value,o)}}fold(e){return this.fold_(dt(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((i,a)=>{n[i]=a.fold_(Zt(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,dt(),t)}findOnPath_(e,t,n){const i=this.value?n(t,this.value):!1;if(i)return i;if(Pe(e))return null;{const a=Be(e),o=this.children.get(a);return o?o.findOnPath_(St(e),Zt(t,a),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,dt(),t)}foreachOnPath_(e,t,n){if(Pe(e))return this;{this.value&&n(t,this.value);const i=Be(e),a=this.children.get(i);return a?a.foreachOnPath_(St(e),Zt(t,i),n):new Ct(null)}}foreach(e){this.foreach_(dt(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(Zt(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.writeTree_=e}static empty(){return new Vn(new Ct(null))}}function Ts(r,e,t){if(Pe(e))return new Vn(new Ct(t));{const n=r.writeTree_.findRootMostValueAndPath(e);if(n!=null){const i=n.path;let a=n.value;const o=En(i,e);return a=a.updateChild(o,t),new Vn(r.writeTree_.set(i,a))}else{const i=new Ct(t),a=r.writeTree_.setTree(e,i);return new Vn(a)}}}function Uy(r,e,t){let n=r;return Tn(t,(i,a)=>{n=Ts(n,Zt(e,i),a)}),n}function Hy(r,e){if(Pe(e))return Vn.empty();{const t=r.writeTree_.setTree(e,new Ct(null));return new Vn(t)}}function mh(r,e){return Ya(r,e)!=null}function Ya(r,e){const t=r.writeTree_.findRootMostValueAndPath(e);return t!=null?r.writeTree_.get(t.path).getChild(En(t.path,e)):null}function Vy(r){const e=[],t=r.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Rr,(n,i)=>{e.push(new He(n,i))}):r.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&e.push(new He(n,i.value))}),e}function ia(r,e){if(Pe(e))return r;{const t=Ya(r,e);return t!=null?new Vn(new Ct(t)):new Vn(r.writeTree_.subtree(e))}}function Ah(r){return r.writeTree_.isEmpty()}function jo(r,e){return k3(dt(),r.writeTree_,e)}function k3(r,e,t){if(e.value!=null)return t.updateChild(r,e.value);{let n=null;return e.children.inorderTraversal((i,a)=>{i===".priority"?(ae(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):t=k3(Zt(r,i),a,t)}),!t.getChild(r).isEmpty()&&n!==null&&(t=t.updateChild(Zt(r,".priority"),n)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(r,e){return X3(e,r)}function Q6(r,e,t,n,i){ae(n>r.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),r.allWrites.push({path:e,snap:t,writeId:n,visible:i}),i&&(r.visibleWrites=Ts(r.visibleWrites,e,t)),r.lastWriteId=n}function J6(r,e){for(let t=0;t<r.allWrites.length;t++){const n=r.allWrites[t];if(n.writeId===e)return n}return null}function eS(r,e){const t=r.allWrites.findIndex(u=>u.writeId===e);ae(t>=0,"removeWrite called with nonexistent writeId.");const n=r.allWrites[t];r.allWrites.splice(t,1);let i=n.visible,a=!1,o=r.allWrites.length-1;for(;i&&o>=0;){const u=r.allWrites[o];u.visible&&(o>=t&&tS(u,n.path)?i=!1:Hn(n.path,u.path)&&(a=!0)),o--}if(i){if(a)return rS(r),!0;if(n.snap)r.visibleWrites=Hy(r.visibleWrites,n.path);else{const u=n.children;Tn(u,l=>{r.visibleWrites=Hy(r.visibleWrites,Zt(n.path,l))})}return!0}else return!1}function tS(r,e){if(r.snap)return Hn(r.path,e);for(const t in r.children)if(r.children.hasOwnProperty(t)&&Hn(Zt(r.path,t),e))return!0;return!1}function rS(r){r.visibleWrites=H3(r.allWrites,nS,dt()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function nS(r){return r.visible}function H3(r,e,t){let n=Vn.empty();for(let i=0;i<r.length;++i){const a=r[i];if(e(a)){const o=a.path;let u;if(a.snap)Hn(t,o)?(u=En(t,o),n=Ts(n,u,a.snap)):Hn(o,t)&&(u=En(o,t),n=Ts(n,dt(),a.snap.getChild(u)));else if(a.children){if(Hn(t,o))u=En(t,o),n=Uy(n,u,a.children);else if(Hn(o,t))if(u=En(o,t),Pe(u))n=Uy(n,dt(),a.children);else{const l=Wo(a.children,Be(u));if(l){const c=l.getChild(St(u));n=Ts(n,dt(),c)}}}else throw Jo("WriteRecord should have .snap or .children")}}return n}function V3(r,e,t,n,i){if(!n&&!i){const a=Ya(r.visibleWrites,e);if(a!=null)return a;{const o=ia(r.visibleWrites,e);if(Ah(o))return t;if(t==null&&!mh(o,dt()))return null;{const u=t||tt.EMPTY_NODE;return jo(o,u)}}}else{const a=ia(r.visibleWrites,e);if(!i&&Ah(a))return t;if(!i&&t==null&&!mh(a,dt()))return null;{const o=function(c){return(c.visible||i)&&(!n||!~n.indexOf(c.writeId))&&(Hn(c.path,e)||Hn(e,c.path))},u=H3(r.allWrites,o,e),l=t||tt.EMPTY_NODE;return jo(u,l)}}}function iS(r,e,t){let n=tt.EMPTY_NODE;const i=Ya(r.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Rr,(a,o)=>{n=n.updateImmediateChild(a,o)}),n;if(t){const a=ia(r.visibleWrites,e);return t.forEachChild(Rr,(o,u)=>{const l=jo(ia(a,new Tt(o)),u);n=n.updateImmediateChild(o,l)}),Vy(a).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}else{const a=ia(r.visibleWrites,e);return Vy(a).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}}function aS(r,e,t,n,i){ae(n||i,"Either existingEventSnap or existingServerSnap must exist");const a=Zt(e,t);if(mh(r.visibleWrites,a))return null;{const o=ia(r.visibleWrites,a);return Ah(o)?i.getChild(t):jo(o,i.getChild(t))}}function oS(r,e,t,n){const i=Zt(e,t),a=Ya(r.visibleWrites,i);if(a!=null)return a;if(n.isCompleteForChild(t)){const o=ia(r.visibleWrites,i);return jo(o,n.getNode().getImmediateChild(t))}else return null}function uS(r,e){return Ya(r.visibleWrites,e)}function sS(r,e,t,n,i,a,o){let u;const l=ia(r.visibleWrites,e),c=Ya(l,dt());if(c!=null)u=c;else if(t!=null)u=jo(l,t);else return[];if(u=u.withIndex(o),!u.isEmpty()&&!u.isLeafNode()){const d=[],v=o.getCompare(),g=a?u.getReverseIteratorFrom(n,o):u.getIteratorFrom(n,o);let y=g.getNext();for(;y&&d.length<i;)v(y,n)!==0&&d.push(y),y=g.getNext();return d}else return[]}function fS(){return{visibleWrites:Vn.empty(),allWrites:[],lastWriteId:-1}}function Eh(r,e,t,n){return V3(r.writeTree,r.treePath,e,t,n)}function G3(r,e){return iS(r.writeTree,r.treePath,e)}function Gy(r,e,t,n){return aS(r.writeTree,r.treePath,e,t,n)}function Hl(r,e){return uS(r.writeTree,Zt(r.treePath,e))}function lS(r,e,t,n,i,a){return sS(r.writeTree,r.treePath,e,t,n,i,a)}function md(r,e,t){return oS(r.writeTree,r.treePath,e,t)}function z3(r,e){return X3(Zt(r.treePath,e),r.writeTree)}function X3(r,e){return{treePath:r,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ae(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ae(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const a=i.type;if(t==="child_added"&&a==="child_removed")this.changeMap.set(n,Py(n,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(t==="child_removed"&&a==="child_changed")this.changeMap.set(n,H6(n,i.oldSnap));else if(t==="child_changed"&&a==="child_added")this.changeMap.set(n,U6(n,e.snapshotNode));else if(t==="child_changed"&&a==="child_changed")this.changeMap.set(n,Py(n,e.snapshotNode,i.oldSnap));else throw Jo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const W3=new hS;class Ad{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new _d(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return md(this.writes_,e,n)}}getChildAfterChild(e,t,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wa(this.viewCache_),a=lS(this.writes_,i,t,1,n,e);return a.length===0?null:a[0]}}function dS(r,e){ae(e.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),ae(e.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function vS(r,e,t,n,i){const a=new cS;let o,u;if(t.type===Kn.OVERWRITE){const c=t;c.source.fromUser?o=wh(r,e,c.path,c.snap,n,i,a):(ae(c.source.fromServer,"Unknown source."),u=c.source.tagged||e.serverCache.isFiltered()&&!Pe(c.path),o=Vl(r,e,c.path,c.snap,n,i,u,a))}else if(t.type===Kn.MERGE){const c=t;c.source.fromUser?o=gS(r,e,c.path,c.children,n,i,a):(ae(c.source.fromServer,"Unknown source."),u=c.source.tagged||e.serverCache.isFiltered(),o=Ch(r,e,c.path,c.children,n,i,u,a))}else if(t.type===Kn.ACK_USER_WRITE){const c=t;c.revert?o=_S(r,e,c.path,n,i,a):o=yS(r,e,c.path,c.affectedTree,n,i,a)}else if(t.type===Kn.LISTEN_COMPLETE)o=xS(r,e,t.path,n,a);else throw Jo("Unknown operation type: "+t.type);const l=a.getChanges();return pS(e,o,l),{viewCache:o,changes:l}}function pS(r,e,t){const n=e.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=_h(r);(t.length>0||!r.eventCache.isFullyInitialized()||i&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&t.push(k6(_h(e)))}}function Y3(r,e,t,n,i,a){const o=e.eventCache;if(Hl(n,t)!=null)return e;{let u,l;if(Pe(t))if(ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Wa(e),d=c instanceof tt?c:tt.EMPTY_NODE,v=G3(n,d);u=r.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const c=Eh(n,Wa(e));u=r.filter.updateFullNode(e.eventCache.getNode(),c,a)}else{const c=Be(t);if(c===".priority"){ae(fa(t)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const v=Gy(n,t,d,l);v!=null?u=r.filter.updatePriority(d,v):u=o.getNode()}else{const d=St(t);let v;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const g=Gy(n,t,o.getNode(),l);g!=null?v=o.getNode().getImmediateChild(c).updateChild(d,g):v=o.getNode().getImmediateChild(c)}else v=md(n,c,e.serverCache);v!=null?u=r.filter.updateChild(o.getNode(),c,v,d,i,a):u=o.getNode()}}return Is(e,u,o.isFullyInitialized()||Pe(t),r.filter.filtersNodes())}}function Vl(r,e,t,n,i,a,o,u){const l=e.serverCache;let c;const d=o?r.filter:r.filter.getIndexedFilter();if(Pe(t))c=d.updateFullNode(l.getNode(),n,null);else if(d.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(t,n);c=d.updateFullNode(l.getNode(),y,null)}else{const y=Be(t);if(!l.isCompleteForPath(t)&&fa(t)>1)return e;const m=St(t),E=l.getNode().getImmediateChild(y).updateChild(m,n);y===".priority"?c=d.updatePriority(l.getNode(),E):c=d.updateChild(l.getNode(),y,E,m,W3,null)}const v=F3(e,c,l.isFullyInitialized()||Pe(t),d.filtersNodes()),g=new Ad(i,v,a);return Y3(r,v,t,i,g,u)}function wh(r,e,t,n,i,a,o){const u=e.eventCache;let l,c;const d=new Ad(i,e,a);if(Pe(t))c=r.filter.updateFullNode(e.eventCache.getNode(),n,o),l=Is(e,c,!0,r.filter.filtersNodes());else{const v=Be(t);if(v===".priority")c=r.filter.updatePriority(e.eventCache.getNode(),n),l=Is(e,c,u.isFullyInitialized(),u.isFiltered());else{const g=St(t),y=u.getNode().getImmediateChild(v);let m;if(Pe(g))m=n;else{const A=d.getCompleteChild(v);A!=null?E3(g)===".priority"&&A.getChild(C3(g)).isEmpty()?m=A:m=A.updateChild(g,n):m=tt.EMPTY_NODE}if(y.equals(m))l=e;else{const A=r.filter.updateChild(u.getNode(),v,m,g,d,o);l=Is(e,A,u.isFullyInitialized(),r.filter.filtersNodes())}}}return l}function zy(r,e){return r.eventCache.isCompleteForChild(e)}function gS(r,e,t,n,i,a,o){let u=e;return n.foreach((l,c)=>{const d=Zt(t,l);zy(e,Be(d))&&(u=wh(r,u,d,c,i,a,o))}),n.foreach((l,c)=>{const d=Zt(t,l);zy(e,Be(d))||(u=wh(r,u,d,c,i,a,o))}),u}function Xy(r,e,t){return t.foreach((n,i)=>{e=e.updateChild(n,i)}),e}function Ch(r,e,t,n,i,a,o,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Pe(t)?c=n:c=new Ct(null).setTree(t,n);const d=e.serverCache.getNode();return c.children.inorderTraversal((v,g)=>{if(d.hasChild(v)){const y=e.serverCache.getNode().getImmediateChild(v),m=Xy(r,y,g);l=Vl(r,l,new Tt(v),m,i,a,o,u)}}),c.children.inorderTraversal((v,g)=>{const y=!e.serverCache.isCompleteForChild(v)&&g.value===null;if(!d.hasChild(v)&&!y){const m=e.serverCache.getNode().getImmediateChild(v),A=Xy(r,m,g);l=Vl(r,l,new Tt(v),A,i,a,o,u)}}),l}function yS(r,e,t,n,i,a,o){if(Hl(i,t)!=null)return e;const u=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if(Pe(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Vl(r,e,t,l.getNode().getChild(t),i,a,u,o);if(Pe(t)){let c=new Ct(null);return l.getNode().forEachChild(Xo,(d,v)=>{c=c.set(new Tt(d),v)}),Ch(r,e,t,c,i,a,u,o)}else return e}else{let c=new Ct(null);return n.foreach((d,v)=>{const g=Zt(t,d);l.isCompleteForPath(g)&&(c=c.set(d,l.getNode().getChild(g)))}),Ch(r,e,t,c,i,a,u,o)}}function xS(r,e,t,n,i){const a=e.serverCache,o=F3(e,a.getNode(),a.isFullyInitialized()||Pe(t),a.isFiltered());return Y3(r,o,t,n,W3,i)}function _S(r,e,t,n,i,a){let o;if(Hl(n,t)!=null)return e;{const u=new Ad(n,e,i),l=e.eventCache.getNode();let c;if(Pe(t)||Be(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Eh(n,Wa(e));else{const v=e.serverCache.getNode();ae(v instanceof tt,"serverChildren would be complete if leaf node"),d=G3(n,v)}d=d,c=r.filter.updateFullNode(l,d,a)}else{const d=Be(t);let v=md(n,d,e.serverCache);v==null&&e.serverCache.isCompleteForChild(d)&&(v=l.getImmediateChild(d)),v!=null?c=r.filter.updateChild(l,d,v,St(t),u,a):e.eventCache.getNode().hasChild(d)?c=r.filter.updateChild(l,d,tt.EMPTY_NODE,St(t),u,a):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Eh(n,Wa(e)),o.isLeafNode()&&(c=r.filter.updateFullNode(c,o,a)))}return o=e.serverCache.isFullyInitialized()||Hl(n,dt())!=null,Is(e,c,o,r.filter.filtersNodes())}}function mS(r,e){const t=Wa(r.viewCache_);return t&&(r.query._queryParams.loadsAllData()||!Pe(e)&&!t.getImmediateChild(Be(e)).isEmpty())?t.getChild(e):null}function Wy(r,e,t,n){e.type===Kn.MERGE&&e.source.queryId!==null&&(ae(Wa(r.viewCache_),"We should always have a full cache before handling merges"),ae(_h(r.viewCache_),"Missing event cache, even though we have a server cache"));const i=r.viewCache_,a=vS(r.processor_,i,e,t,n);return dS(r.processor_,a.viewCache),ae(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=a.viewCache,AS(r,a.changes,a.viewCache.eventCache.getNode())}function AS(r,e,t,n){const i=r.eventRegistrations_;return $6(r.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy;function ES(r){ae(!Yy,"__referenceConstructor has already been defined"),Yy=r}function Ed(r,e,t,n){const i=e.source.queryId;if(i!==null){const a=r.views.get(i);return ae(a!=null,"SyncTree gave us an op for an invalid query."),Wy(a,e,t,n)}else{let a=[];for(const o of r.views.values())a=a.concat(Wy(o,e,t,n));return a}}function wd(r,e){let t=null;for(const n of r.views.values())t=t||mS(n,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy;function wS(r){ae(!jy,"__referenceConstructor has already been defined"),jy=r}class $y{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ct(null),this.pendingWriteTree_=fS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function j3(r,e,t,n,i){return Q6(r.pendingWriteTree_,e,t,n,i),i?Ql(r,new Xa(M3(),e,t)):[]}function ka(r,e,t=!1){const n=J6(r.pendingWriteTree_,e);if(eS(r.pendingWriteTree_,e)){let a=new Ct(null);return n.snap!=null?a=a.set(dt(),!0):Tn(n.children,o=>{a=a.set(new Tt(o),!0)}),Ql(r,new Ul(n.path,a,t))}else return[]}function ql(r,e,t){return Ql(r,new Xa(B3(),e,t))}function CS(r,e,t){const n=Ct.fromObject(t);return Ql(r,new Ms(B3(),e,n))}function SS(r,e,t,n){const i=K3(r,n);if(i!=null){const a=q3(i),o=a.path,u=a.queryId,l=En(o,e),c=new Xa(P3(u),l,t);return Q3(r,o,c)}else return[]}function IS(r,e,t,n){const i=K3(r,n);if(i){const a=q3(i),o=a.path,u=a.queryId,l=En(o,e),c=Ct.fromObject(t),d=new Ms(P3(u),l,c);return Q3(r,o,d)}else return[]}function Cd(r,e,t){const i=r.pendingWriteTree_,a=r.syncPointTree_.findOnPath(e,(o,u)=>{const l=En(o,e),c=wd(u,l);if(c)return c});return V3(i,e,a,t,!0)}function Ql(r,e){return $3(e,r.syncPointTree_,null,U3(r.pendingWriteTree_,dt()))}function $3(r,e,t,n){if(Pe(r.path))return Z3(r,e,t,n);{const i=e.get(dt());t==null&&i!=null&&(t=wd(i,dt()));let a=[];const o=Be(r.path),u=r.operationForChild(o),l=e.children.get(o);if(l&&u){const c=t?t.getImmediateChild(o):null,d=z3(n,o);a=a.concat($3(u,l,c,d))}return i&&(a=a.concat(Ed(i,r,n,t))),a}}function Z3(r,e,t,n){const i=e.get(dt());t==null&&i!=null&&(t=wd(i,dt()));let a=[];return e.children.inorderTraversal((o,u)=>{const l=t?t.getImmediateChild(o):null,c=z3(n,o),d=r.operationForChild(o);d&&(a=a.concat(Z3(d,u,l,c)))}),i&&(a=a.concat(Ed(i,r,n,t))),a}function K3(r,e){return r.tagToQueryMap.get(e)}function q3(r){const e=r.indexOf("$");return ae(e!==-1&&e<r.length-1,"Bad queryKey."),{queryId:r.substr(e+1),path:new Tt(r.substr(0,e))}}function Q3(r,e,t){const n=r.syncPointTree_.get(e);ae(n,"Missing sync point for query tag that we're tracking");const i=U3(r.pendingWriteTree_,e);return Ed(n,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Sd(t)}node(){return this.node_}}class Id{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Zt(this.path_,e);return new Id(this.syncTree_,t)}node(){return Cd(this.syncTree_,this.path_)}}const TS=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Zy=function(r,e,t){if(!r||typeof r!="object")return r;if(ae(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return bS(r[".sv"],e,t);if(typeof r[".sv"]=="object")return OS(r[".sv"],e);ae(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},bS=function(r,e,t){switch(r){case"timestamp":return t.timestamp;default:ae(!1,"Unexpected server value: "+r)}},OS=function(r,e,t){r.hasOwnProperty("increment")||ae(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const n=r.increment;typeof n!="number"&&ae(!1,"Unexpected increment value: "+n);const i=e.node();if(ae(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const o=i.getValue();return typeof o!="number"?n:o+n},DS=function(r,e,t,n){return Td(e,new Id(t,r),n)},J3=function(r,e,t){return Td(r,new Sd(e),t)};function Td(r,e,t){const n=r.getPriority().val(),i=Zy(n,e.getImmediateChild(".priority"),t);let a;if(r.isLeafNode()){const o=r,u=Zy(o.getValue(),e,t);return u!==o.getValue()||i!==o.getPriority().val()?new sr(u,Ar(i)):r}else{const o=r;return a=o,i!==o.getPriority().val()&&(a=a.updatePriority(new sr(i))),o.forEachChild(Rr,(u,l)=>{const c=Td(l,e.getImmediateChild(u),t);c!==l&&(a=a.updateImmediateChild(u,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Od(r,e){let t=e instanceof Tt?e:new Tt(e),n=r,i=Be(t);for(;i!==null;){const a=Wo(n.node.children,i)||{children:{},childCount:0};n=new bd(i,n,a),t=St(t),i=Be(t)}return n}function ru(r){return r.node.value}function em(r,e){r.node.value=e,Sh(r)}function tm(r){return r.node.childCount>0}function RS(r){return ru(r)===void 0&&!tm(r)}function Jl(r,e){Tn(r.node.children,(t,n)=>{e(new bd(t,r,n))})}function rm(r,e,t,n){t&&e(r),Jl(r,i=>{rm(i,e,!0)})}function NS(r,e,t){let n=r.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function Vs(r){return new Tt(r.parent===null?r.name:Vs(r.parent)+"/"+r.name)}function Sh(r){r.parent!==null&&MS(r.parent,r.name,r)}function MS(r,e,t){const n=RS(t),i=Ci(r.node.children,e);n&&i?(delete r.node.children[e],r.node.childCount--,Sh(r)):!n&&!i&&(r.node.children[e]=t.node,r.node.childCount++,Sh(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=/[\[\].#$\/\u0000-\u001F\u007F]/,PS=/[\[\].#$\u0000-\u001F\u007F]/,H0=10*1024*1024,nm=function(r){return typeof r=="string"&&r.length!==0&&!BS.test(r)},im=function(r){return typeof r=="string"&&r.length!==0&&!PS.test(r)},LS=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),im(r)},FS=function(r,e,t,n){Dd(ld(r,"value"),e,t)},Dd=function(r,e,t){const n=t instanceof Tt?new x6(t,r):t;if(e===void 0)throw new Error(r+"contains undefined "+Ba(n));if(typeof e=="function")throw new Error(r+"contains a function "+Ba(n)+" with contents = "+e.toString());if(t3(e))throw new Error(r+"contains "+e.toString()+" "+Ba(n));if(typeof e=="string"&&e.length>H0/3&&Zl(e)>H0)throw new Error(r+"contains a string greater than "+H0+" utf8 bytes "+Ba(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,a=!1;if(Tn(e,(o,u)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!nm(o)))throw new Error(r+" contains an invalid key ("+o+") "+Ba(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_6(n,o),Dd(r,u,n),m6(n)}),i&&a)throw new Error(r+' contains ".value" child '+Ba(n)+" in addition to actual children.")}},am=function(r,e,t,n){if(!im(t))throw new Error(ld(r,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kS=function(r,e,t,n){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),am(r,e,t)},om=function(r,e){if(Be(e)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},US=function(r,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!LS(t))throw new Error(ld(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function um(r,e){let t=null;for(let n=0;n<e.length;n++){const i=e[n],a=i.getPath();t!==null&&!S3(a,t.path)&&(r.eventLists_.push(t),t=null),t===null&&(t={events:[],path:a}),t.events.push(i)}t&&r.eventLists_.push(t)}function wi(r,e,t){um(r,t),VS(r,n=>Hn(n,e)||Hn(e,n))}function VS(r,e){r.recursionDepth_++;let t=!0;for(let n=0;n<r.eventLists_.length;n++){const i=r.eventLists_[n];if(i){const a=i.path;e(a)?(GS(r.eventLists_[n]),r.eventLists_[n]=null):t=!1}}t&&(r.eventLists_=[]),r.recursionDepth_--}function GS(r){for(let e=0;e<r.events.length;e++){const t=r.events[e];if(t!==null){r.events[e]=null;const n=t.getEventRunner();Cs&&Dr("event: "+t.toString()),tu(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="repo_interrupt",XS=25;class WS{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kl(),this.transactionQueueTree_=new bd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YS(r,e,t){if(r.stats_=vd(r.repoInfo_),r.forceRestClient_||zC())r.server_=new Fl(r.repoInfo_,(n,i,a,o)=>{Ky(r,n,i,a,o)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>qy(r,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Er(t)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}r.persistentConnection_=new _i(r.repoInfo_,e,(n,i,a,o)=>{Ky(r,n,i,a,o)},n=>{qy(r,n)},n=>{$S(r,n)},r.authTokenProvider_,r.appCheckProvider_,t),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(n=>{r.server_.refreshAuthToken(n)}),r.appCheckProvider_.addTokenChangeListener(n=>{r.server_.refreshAppCheckToken(n.token)}),r.statsReporter_=$C(r.repoInfo_,()=>new j6(r.stats_,r.server_)),r.infoData_=new G6,r.infoSyncTree_=new $y({startListening:(n,i,a,o)=>{let u=[];const l=r.infoData_.getNode(n._path);return l.isEmpty()||(u=ql(r.infoSyncTree_,n._path,l),setTimeout(()=>{o("ok")},0)),u},stopListening:()=>{}}),Nd(r,"connected",!1),r.serverSyncTree_=new $y({startListening:(n,i,a,o)=>(r.server_.listen(n,a,i,(u,l)=>{const c=o(u,l);wi(r.eventQueue_,n._path,c)}),[]),stopListening:(n,i)=>{r.server_.unlisten(n,i)}})}function jS(r){const t=r.infoData_.getNode(new Tt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Rd(r){return TS({timestamp:jS(r)})}function Ky(r,e,t,n,i){r.dataUpdateCount++;const a=new Tt(e);t=r.interceptServerDataCallback_?r.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(n){const l=Dl(t,c=>Ar(c));o=IS(r.serverSyncTree_,a,l,i)}else{const l=Ar(t);o=SS(r.serverSyncTree_,a,l,i)}else if(n){const l=Dl(t,c=>Ar(c));o=CS(r.serverSyncTree_,a,l)}else{const l=Ar(t);o=ql(r.serverSyncTree_,a,l)}let u=a;o.length>0&&(u=ec(r,a)),wi(r.eventQueue_,u,o)}function qy(r,e){Nd(r,"connected",e),e===!1&&KS(r)}function $S(r,e){Tn(e,(t,n)=>{Nd(r,t,n)})}function Nd(r,e,t){const n=new Tt("/.info/"+e),i=Ar(t);r.infoData_.updateSnapshot(n,i);const a=ql(r.infoSyncTree_,n,i);wi(r.eventQueue_,n,a)}function sm(r){return r.nextWriteId_++}function ZS(r,e,t,n,i){Md(r,"set",{path:e.toString(),value:t,priority:n});const a=Rd(r),o=Ar(t,n),u=Cd(r.serverSyncTree_,e),l=J3(o,u,a),c=sm(r),d=j3(r.serverSyncTree_,e,l,c,!0);um(r.eventQueue_,d),r.server_.put(e.toString(),o.val(!0),(g,y)=>{const m=g==="ok";m||qr("set at "+e+" failed: "+g);const A=ka(r.serverSyncTree_,c,!m);wi(r.eventQueue_,e,A),QS(r,i,g,y)});const v=dm(r,e);ec(r,v),wi(r.eventQueue_,v,[])}function KS(r){Md(r,"onDisconnectEvents");const e=Rd(r),t=kl();xh(r.onDisconnect_,dt(),(i,a)=>{const o=DS(i,a,r.serverSyncTree_,e);N3(t,i,o)});let n=[];xh(t,dt(),(i,a)=>{n=n.concat(ql(r.serverSyncTree_,i,a));const o=dm(r,i);ec(r,o)}),r.onDisconnect_=kl(),wi(r.eventQueue_,dt(),n)}function qS(r){r.persistentConnection_&&r.persistentConnection_.interrupt(zS)}function Md(r,...e){let t="";r.persistentConnection_&&(t=r.persistentConnection_.id+":"),Dr(t,...e)}function QS(r,e,t,n){e&&tu(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let a=i;n&&(a+=": "+n);const o=new Error(a);o.code=i,e(o)}})}function fm(r,e,t){return Cd(r.serverSyncTree_,e,t)||tt.EMPTY_NODE}function Bd(r,e=r.transactionQueueTree_){if(e||tc(r,e),ru(e)){const t=cm(r,e);ae(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&JS(r,Vs(e),t)}else tm(e)&&Jl(e,t=>{Bd(r,t)})}function JS(r,e,t){const n=t.map(c=>c.currentWriteId),i=fm(r,e,n);let a=i;const o=i.hash();for(let c=0;c<t.length;c++){const d=t[c];ae(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const v=En(e,d.path);a=a.updateChild(v,d.currentOutputSnapshotRaw)}const u=a.val(!0),l=e;r.server_.put(l.toString(),u,c=>{Md(r,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const v=[];for(let g=0;g<t.length;g++)t[g].status=2,d=d.concat(ka(r.serverSyncTree_,t[g].currentWriteId)),t[g].onComplete&&v.push(()=>t[g].onComplete(null,!0,t[g].currentOutputSnapshotResolved)),t[g].unwatcher();tc(r,Od(r.transactionQueueTree_,e)),Bd(r,r.transactionQueueTree_),wi(r.eventQueue_,e,d);for(let g=0;g<v.length;g++)tu(v[g])}else{if(c==="datastale")for(let v=0;v<t.length;v++)t[v].status===3?t[v].status=4:t[v].status=0;else{qr("transaction at "+l.toString()+" failed: "+c);for(let v=0;v<t.length;v++)t[v].status=4,t[v].abortReason=c}ec(r,e)}},o)}function ec(r,e){const t=lm(r,e),n=Vs(t),i=cm(r,t);return eI(r,i,n),n}function eI(r,e,t){if(e.length===0)return;const n=[];let i=[];const o=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const l=e[u],c=En(t,l.path);let d=!1,v;if(ae(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,v=l.abortReason,i=i.concat(ka(r.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=XS)d=!0,v="maxretry",i=i.concat(ka(r.serverSyncTree_,l.currentWriteId,!0));else{const g=fm(r,l.path,o);l.currentInputSnapshot=g;const y=e[u].update(g.val());if(y!==void 0){Dd("transaction failed: Data returned ",y,l.path);let m=Ar(y);typeof y=="object"&&y!=null&&Ci(y,".priority")||(m=m.updatePriority(g.getPriority()));const E=l.currentWriteId,w=Rd(r),C=J3(m,g,w);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=C,l.currentWriteId=sm(r),o.splice(o.indexOf(E),1),i=i.concat(j3(r.serverSyncTree_,l.path,C,l.currentWriteId,l.applyLocally)),i=i.concat(ka(r.serverSyncTree_,E,!0))}else d=!0,v="nodata",i=i.concat(ka(r.serverSyncTree_,l.currentWriteId,!0))}wi(r.eventQueue_,t,i),i=[],d&&(e[u].status=2,function(g){setTimeout(g,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(v==="nodata"?n.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):n.push(()=>e[u].onComplete(new Error(v),!1,null))))}tc(r,r.transactionQueueTree_);for(let u=0;u<n.length;u++)tu(n[u]);Bd(r,r.transactionQueueTree_)}function lm(r,e){let t,n=r.transactionQueueTree_;for(t=Be(e);t!==null&&ru(n)===void 0;)n=Od(n,t),e=St(e),t=Be(e);return n}function cm(r,e){const t=[];return hm(r,e,t),t.sort((n,i)=>n.order-i.order),t}function hm(r,e,t){const n=ru(e);if(n)for(let i=0;i<n.length;i++)t.push(n[i]);Jl(e,i=>{hm(r,i,t)})}function tc(r,e){const t=ru(e);if(t){let n=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[n]=t[i],n++);t.length=n,em(e,t.length>0?t:void 0)}Jl(e,n=>{tc(r,n)})}function dm(r,e){const t=Vs(lm(r,e)),n=Od(r.transactionQueueTree_,e);return NS(n,i=>{V0(r,i)}),V0(r,n),rm(n,i=>{V0(r,i)}),t}function V0(r,e){const t=ru(e);if(t){const n=[];let i=[],a=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(ae(a===o-1,"All SENT items should be at beginning of queue."),a=o,t[o].status=3,t[o].abortReason="set"):(ae(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(ka(r.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?em(e,void 0):t.length=a+1,wi(r.eventQueue_,Vs(e),i);for(let o=0;o<n.length;o++)tu(n[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r){let e="";const t=r.split("/");for(let n=0;n<t.length;n++)if(t[n].length>0){let i=t[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function rI(r){const e={};r.charAt(0)==="?"&&(r=r.substring(1));for(const t of r.split("&")){if(t.length===0)continue;const n=t.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):qr(`Invalid query segment '${t}' in query '${r}'`)}return e}const Qy=function(r,e){const t=nI(r),n=t.namespace;t.domain==="firebase.com"&&Ei(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&t.domain!=="localhost"&&Ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||PC();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new d3(t.host,t.secure,n,i,e,"",n!==t.subdomain),path:new Tt(t.pathString)}},nI=function(r){let e="",t="",n="",i="",a="",o=!0,u="https",l=443;if(typeof r=="string"){let c=r.indexOf("//");c>=0&&(u=r.substring(0,c-1),r=r.substring(c+2));let d=r.indexOf("/");d===-1&&(d=r.length);let v=r.indexOf("?");v===-1&&(v=r.length),e=r.substring(0,Math.min(d,v)),d<v&&(i=tI(r.substring(d,v)));const g=rI(r.substring(Math.min(r.length,v)));c=e.indexOf(":"),c>=0?(o=u==="https"||u==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if(y.toLowerCase()==="localhost")t="localhost";else if(y.split(".").length<=2)t=y;else{const m=e.indexOf(".");n=e.substring(0,m).toLowerCase(),t=e.substring(m+1),a=n}"ns"in g&&(a=g.ns)}return{host:e,port:l,domain:t,subdomain:n,secure:o,scheme:u,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return Pe(this._path)?null:E3(this._path)}get ref(){return new ja(this._repo,this._path)}get _queryIdentifier(){const e=Fy(this._queryParams),t=hd(e);return t==="{}"?"default":t}get _queryObject(){return Fy(this._queryParams)}isEqual(e){if(e=Fs(e),!(e instanceof Pd))return!1;const t=this._repo===e._repo,n=S3(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+y6(this._path)}}class ja extends Pd{constructor(e,t){super(e,t,new xd,!1)}get parent(){const e=C3(this._path);return e===null?null:new ja(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function Jy(r,e){return r=Fs(r),r._checkNotDeleted("ref"),e!==void 0?iI(r._root,e):r._root}function iI(r,e){return r=Fs(r),Be(r._path)===null?kS("child","path",e):am("child","path",e),new ja(r._repo,Zt(r._path,e))}function aI(r){return om("remove",r._path),vm(r,null)}function vm(r,e){r=Fs(r),om("set",r._path),FS("set",e,r._path);const t=new $l;return ZS(r._repo,r._path,e,null,t.wrapCallback(()=>{})),t.promise}ES(ja);wS(ja);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FIREBASE_DATABASE_EMULATOR_HOST",Ih={};let uI=!1;function sI(r,e,t,n){r.repoInfo_=new d3(e,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,t),n&&(r.authTokenProvider_=n)}function fI(r,e,t,n,i){let a=n||r.options.databaseURL;a===void 0&&(r.options.projectId||Ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dr("Using default host for project ",r.options.projectId),a=`${r.options.projectId}-default-rtdb.firebaseio.com`);let o=Qy(a,i),u=o.repoInfo,l;typeof process<"u"&&xy&&(l=xy[oI]),l?(a=`http://${l}?ns=${u.namespace}`,o=Qy(a,i),u=o.repoInfo):o.repoInfo.secure;const c=new WC(r.name,r.options,e);US("Invalid Firebase Database URL",o),Pe(o.path)||Ei("Database URL must point to the root of a Firebase Database (not including a child path).");const d=cI(u,r,c,new XC(r,t));return new hI(d,r)}function lI(r,e){const t=Ih[e];(!t||t[r.key]!==r)&&Ei(`Database ${e}(${r.repoInfo_}) has already been deleted.`),qS(r),delete t[r.key]}function cI(r,e,t,n){let i=Ih[e.name];i||(i={},Ih[e.name]=i);let a=i[r.toURLString()];return a&&Ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new WS(r,uI,t,n),i[r.toURLString()]=a,a}class hI{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(YS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ja(this._repo,dt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ei("Cannot call "+e+" on a deleted database.")}}function dI(r=xC(),e){const t=dC(r,"database").getImmediate({identifier:e});if(!t._instanceStarted){const n=r4("database");n&&vI(t,...n)}return t}function vI(r,e,t,n={}){r=Fs(r),r._checkNotDeleted("useEmulator");const i=`${e}:${t}`,a=r._repoInternal;if(r._instanceStarted){if(i===r._repoInternal.repoInfo_.host&&Rl(n,a.repoInfo_.emulatorOptions))return;Ei("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(a.repoInfo_.nodeAdmin)n.mockUserToken&&Ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Al(Al.OWNER);else if(n.mockUserToken){const u=typeof n.mockUserToken=="string"?n.mockUserToken:n4(n.mockUserToken,r.app.options.projectId);o=new Al(u)}sI(a,i,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r){OC(yC),Ml(new Ds("database",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return fI(n,i,a,t)},"PUBLIC").setMultipleInstances(!0)),Go(_y,my,r),Go(_y,my,"esm2017")}_i.prototype.simpleListen=function(r,e){this.sendRequest("q",{p:r},e)};_i.prototype.echo=function(r,e){this.sendRequest("echo",{d:r},e)};pI();var gI="firebase",yI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go(gI,yI,"app");const xI={apiKey:"AIzaSyBCl9pvQeNCxhwXqu4FLFnzHoGbTVNKSBY",authDomain:"medical-erp-scanner.firebaseapp.com",projectId:"medical-erp-scanner",storageBucket:"medical-erp-scanner.firebasestorage.app",messagingSenderId:"237601848141",appId:"1:237601848141:web:5ed358cef196a8256f9504"},_I=Z_(xI),ex=dI(_I);function mI(r,e){var t=Object.setPrototypeOf;t?t(r,e):r.__proto__=e}function AI(r,e){e===void 0&&(e=r.constructor);var t=Error.captureStackTrace;t&&t(r,e)}var EI=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pm=function(r){EI(e,r);function e(t,n){var i=this.constructor,a=r.call(this,t,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),mI(a,i.prototype),AI(a),a}return e}(Error),wI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qr=function(r){wI(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(pm),CI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mn=function(r){CI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Qr),SI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ye=function(r){SI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Qr),II=function(){function r(e){if(this.binarizer=e,e===null)throw new ye("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var a=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(a))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r}(),TI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lr=function(r){TI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Qr),bI=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}(),xt=function(){function r(){}return r.arraycopy=function(e,t,n,i,a){for(;a--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}(),OI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ld=function(r){OI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Qr),DI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tx=function(r){DI(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Ld),RI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kt=function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var a=t;a<n;a++)e[a]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new ye("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new tx(t);if(n>e)throw new tx(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var a=RI(e),o=a.next();!o.done;o=a.next()){var u=o.value;i=31*i+u}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,a=new Int32Array(i);return xt.arraycopy(e,t,a,0,i),a},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,u=n(t,e[o]);if(u>0)i=o+1;else if(u<0)a=o-1;else return o}return-i-1},r.numberComparator=function(e,t){return e-t},r}(),De=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),hr=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);xt.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=n[i]}var u=i*32+De.numberOfTrailingZeros(a);return u>t?t:u},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=~n[i]}var u=i*32+De.numberOfTrailingZeros(a);return u>t?t:u},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new ye;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,o=n;o<=i;o++){var u=o>n?0:e&31,l=o<i?31:t&31,c=(2<<l)-(1<<u);a[o]|=c}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new ye;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,u=i;u<=a;u++){var l=u>i?0:e&31,c=u<a?31:t&31,d=(2<<c)-(1<<l)&4294967295;if((o[u]&d)!==(n?d:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new ye("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new ye("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var a=0;a<i;a++){for(var o=0,u=0;u<8;u++)this.get(e)&&(o|=1<<7-u),e++;t[n+a]=o}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-a]=o}if(this.size!==n*32){for(var u=n*32-this.size,l=e[0]>>>u,a=1;a<n;a++){var c=e[a];l|=c<<32-u,e[a-1]=l,l=c>>>u}e[n-1]=l}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&Kt.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+Kt.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r}(),Th;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ASSUME_GS1=7]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Th||(Th={}));const Nt=Th;var NI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),re=function(r){NI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Qr),MI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},it;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(it||(it={}));var jt=function(){function r(e,t,n){for(var i,a,o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=o,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,d=l.length;c!==d;c++){var v=l[c];r.VALUES_TO_ECI.set(v,this)}try{for(var g=MI(o),y=g.next();!y.done;y=g.next()){var m=y.value;r.NAME_TO_ECI.set(m,this)}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new re("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new re("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new re("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(it.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(it.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(it.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(it.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(it.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(it.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(it.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(it.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(it.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(it.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(it.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(it.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(it.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(it.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(it.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(it.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(it.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(it.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(it.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(it.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(it.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(it.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(it.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(it.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(it.Big5,28,"Big5"),r.GB18030=new r(it.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(it.EUC_KR,30,"EUC_KR","EUC-KR"),r}(),BI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),El=function(r){BI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Qr),Sn=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof jt?e:jt.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(n.equals(jt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new El("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(jt.UTF8)||e.equals(jt.ISO8859_1)||e.equals(jt.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},r}(),ke=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return Sn.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(Nt.CHARACTER_SET)!==void 0)return t.get(Nt.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,u=0,l=0,c=0,d=0,v=0,g=0,y=0,m=0,A=0,E=0,w=0,C=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,I=0;I<n&&(i||a||o);I++){var b=e[I]&255;o&&(u>0?(b&128)===0?o=!1:u--:(b&128)!==0&&((b&64)===0?o=!1:(u++,(b&32)===0?l++:(u++,(b&16)===0?c++:(u++,(b&8)===0?d++:o=!1))))),i&&(b>127&&b<160?i=!1:b>159&&(b<192||b===215||b===247)&&w++),a&&(v>0?b<64||b===127||b>252?a=!1:v--:b===128||b===160||b>239?a=!1:b>160&&b<224?(g++,m=0,y++,y>A&&(A=y)):b>127?(v++,y=0,m++,m>E&&(E=m)):(y=0,m=0))}return o&&u>0&&(o=!1),a&&v>0&&(a=!1),o&&(C||l+c+d>0)?r.UTF8:a&&(r.ASSUME_SHIFT_JIS||A>=3||E>=3)?r.SHIFT_JIS:i&&a?A===2&&g===2||w*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:a?r.SHIFT_JIS:o?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function a(u,l,c,d,v,g){if(u==="%%")return"%";if(t[++i]!==void 0){u=d?parseInt(d.substr(1)):void 0;var y=v?parseInt(v.substr(1)):void 0,m;switch(g){case"s":m=t[i];break;case"c":m=t[i][0];break;case"f":m=parseFloat(t[i]).toFixed(u);break;case"p":m=parseFloat(t[i]).toPrecision(u);break;case"e":m=parseFloat(t[i]).toExponential(u);break;case"x":m=parseInt(t[i]).toString(y||16);break;case"d":m=parseFloat(parseInt(t[i],y||10).toPrecision(u)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(y);for(var A=parseInt(c),E=c&&c[0]+""=="0"?"0":" ";m.length<A;)m=l!==void 0?m+E:E+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},r.getBytes=function(e,t){return Sn.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=jt.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=jt.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=jt.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}(),Te=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ke.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r}(),Jn=function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new ye("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),a=0;a<t;a++)for(var o=e[a],u=0;u<n;u++)o[u]&&i.set(u,a);return i},r.parseFromString=function(e,t,n){if(e===null)throw new ye("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,u=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(a>o){if(u===-1)u=a-o;else if(a-o!==u)throw new ye("row lengths do not match");o=a,l++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,i[a]=!0,a++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[a]=!1,a++;else throw new ye("illegal character encountered: "+e.substring(c));if(a>o){if(u===-1)u=a-o;else if(a-o!==u)throw new ye("row lengths do not match");l++}for(var d=new r(u,l),v=0;v<a;v++)i[v]&&d.set(Math.floor(v%u),Math.floor(v/u));return d},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ye("input matrix dimensions do not match");for(var t=new hr(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var u=a*n,l=e.getRow(a,t).getBitArray(),c=0;c<n;c++)i[u+c]^=l[c]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new ye("Left and top must be nonnegative");if(i<1||n<1)throw new ye("Height and width must be at least 1");var a=e+n,o=t+i;if(o>this.height||a>this.width)throw new ye("The region must fit inside the matrix");for(var u=this.rowSize,l=this.bits,c=t;c<o;c++)for(var d=c*u,v=e;v<a;v++)l[d+Math.floor(v/32)]|=1<<(v&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new hr(this.width):t.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)t.setBulk(o*32,i[a+o]);return t},r.prototype.setRow=function(e,t){xt.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new hr(e),i=new hr(e),a=0,o=Math.floor((t+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(t-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,a=e,o=t,u=-1,l=-1,c=0;c<t;c++)for(var d=0;d<n;d++){var v=i[c*n+d];if(v!==0){if(c<o&&(o=c),c>l&&(l=c),d*32<a){for(var g=0;(v<<31-g&4294967295)===0;)g++;d*32+g<a&&(a=d*32+g)}if(d*32+31>u){for(var g=31;!(v>>>g);)g--;d*32+g>u&&(u=d*32+g)}}}return u<a||l<o?null:Int32Array.from([a,o,u-a+1,l-o+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,a=n%e*32,o=t[n],u=0;(o<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=t[n],u=31;!(o>>>u);)u--;return a+=u,Int32Array.from([a,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Kt.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Kt.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new Te,a=0,o=this.height;a<o;a++){for(var u=0,l=this.width;u<l;u++)i.append(this.get(u,a)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}(),PI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j=function(r){PI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Qr),LI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FI=function(r){LI(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new hr(a):n.clear(),this.initArrays(a);for(var o=i.getRow(t,this.luminances),u=this.buckets,l=0;l<a;l++)u[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(u);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<c&&n.set(l);else for(var d=o[0]&255,v=o[1]&255,l=1;l<a-1;l++){var g=o[l+1]&255;(v*4-d-g)/2<c&&n.set(l),d=v,v=g}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),a=new Jn(n,i);this.initArrays(n);for(var o=this.buckets,u=1;u<5;u++)for(var l=Math.floor(i*u/5),c=t.getRow(l,this.luminances),d=Math.floor(n*4/5),v=Math.floor(n/5);v<d;v++){var g=c[v]&255;o[g>>e.LUMINANCE_SHIFT]++}for(var y=e.estimateBlackPoint(o),m=t.getMatrix(),u=0;u<i;u++)for(var A=u*n,v=0;v<n;v++){var g=m[A+v]&255;g<y&&a.set(v,u)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,a=0,o=0,u=0;u<n;u++)t[u]>o&&(a=u,o=t[u]),t[u]>i&&(i=t[u]);for(var l=0,c=0,u=0;u<n;u++){var d=u-a,v=t[u]*d*d;v>c&&(l=u,c=v)}if(a>l){var g=a;a=l,l=g}if(l-a<=n/16)throw new j;for(var y=l-1,m=-1,u=l-1;u>a;u--){var A=u-a,v=A*A*(l-u)*(i-t[u]);v>m&&(y=u,m=v)}return y<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(bI),kI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UI=function(r){kI(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var l=e.calculateBlackPoints(a,o,u,n,i),c=new Jn(n,i);e.calculateThresholdForBlock(a,o,u,n,i,l,c),this.matrix=c}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,a,o,u,l){for(var c=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,v=0;v<i;v++){var g=v<<e.BLOCK_SIZE_POWER;g>c&&(g=c);for(var y=e.cap(v,2,i-3),m=0;m<n;m++){var A=m<<e.BLOCK_SIZE_POWER;A>d&&(A=d);for(var E=e.cap(m,2,n-3),w=0,C=-2;C<=2;C++){var I=u[y+C];w+=I[E-2]+I[E-1]+I[E]+I[E+1]+I[E+2]}var b=w/25;e.thresholdBlock(t,A,g,b,a,l)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,a,o,u){for(var l=0,c=i*o+n;l<e.BLOCK_SIZE;l++,c+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(t[c+d]&255)<=a&&u.set(n+d,i+l)},e.calculateBlackPoints=function(t,n,i,a,o){for(var u=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,c=new Array(i),d=0;d<i;d++){c[d]=new Int32Array(n);var v=d<<e.BLOCK_SIZE_POWER;v>u&&(v=u);for(var g=0;g<n;g++){var y=g<<e.BLOCK_SIZE_POWER;y>l&&(y=l);for(var m=0,A=255,E=0,w=0,C=v*a+y;w<e.BLOCK_SIZE;w++,C+=a){for(var I=0;I<e.BLOCK_SIZE;I++){var b=t[C+I]&255;m+=b,b<A&&(A=b),b>E&&(E=b)}if(E-A>e.MIN_DYNAMIC_RANGE)for(w++,C+=a;w<e.BLOCK_SIZE;w++,C+=a)for(var I=0;I<e.BLOCK_SIZE;I++)m+=t[C+I]&255}var R=m>>e.BLOCK_SIZE_POWER*2;if(E-A<=e.MIN_DYNAMIC_RANGE&&(R=A/2,d>0&&g>0)){var M=(c[d-1][g]+2*c[d][g-1]+c[d-1][g-1])/4;A<M&&(R=M)}c[d][g]=R}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(FI),rc=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new El("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new El("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new El("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Te,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,u=void 0;o<64?u="#":o<128?u="+":o<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()},r}(),HI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fd=function(r){HI(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,a){return new e(this.delegate.crop(t,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(rc),VI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GI=function(r){VI(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var o=0,u=0,l=t.length;o<l;o+=4,u++){var c=void 0,d=t[o+3];if(d===0)c=255;else{var v=t[o],g=t[o+1],y=t[o+2];c=306*v+601*g+117*y+512>>10}a[u]=c}else for(var o=0,u=0,m=t.length;o<m;o+=4,u++){var c=void 0,d=t[o+3];if(d===0)c=255;else{var v=t[o],g=t[o+1],y=t[o+2];c=306*v+601*g+117*y+512>>10}a[u]=255-c}return a},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ye("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return r.prototype.crop.call(this,t,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,u=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*u),c=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*u);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(a),i.drawImage(this.canvas,o/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Fd(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(rc),zI=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}(),Pr=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(d){try{c(n.next(d))}catch(v){o(v)}}function l(d){try{c(n.throw(d))}catch(v){o(v)}}function c(d){d.done?a(d.value):i(d.value).then(u,l)}c((n=n.apply(r,e||[])).next())})},Lr=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},XI=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nu=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return Pr(this,void 0,void 0,function(){var e,t,n,i,a,o,u,l,c,d,v,g;return Lr(this,function(y){switch(y.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),t=[];try{for(n=XI(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(u=a.deviceId||a.id,l=a.label||"Video device "+(t.length+1),c=a.groupId,d={deviceId:u,label:l,kind:o,groupId:c},t.push(d))}catch(m){v={error:m}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(v)throw v.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return Pr(this,void 0,void 0,function(){var e;return Lr(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new zI(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return Pr(this,void 0,void 0,function(){var t;return Lr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return Pr(this,void 0,void 0,function(){return Lr(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return Pr(this,void 0,void 0,function(){var n,i;return Lr(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return Pr(this,void 0,void 0,function(){var n;return Lr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return Pr(this,void 0,void 0,function(){var n,i;return Lr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return Pr(this,void 0,void 0,function(){return Lr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return Pr(this,void 0,void 0,function(){var i,a;return Lr(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,n)];case 1:return[2,o.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return Pr(this,void 0,void 0,function(){var i;return Lr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,a.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return Pr(this,void 0,void 0,function(){var i;return Lr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return Pr(this,void 0,void 0,function(){var n;return Lr(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return Pr(this,void 0,void 0,function(){return Lr(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new Mn("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new Mn("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Mn("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Mn("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new Mn("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new Mn("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Mn("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new Mn("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Mn("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Mn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return Pr(this,void 0,void 0,function(){return Lr(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return Pr(this,void 0,void 0,function(){return Lr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,u){if(i._stopAsyncDecode){u(new j("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(g){var c=t&&g instanceof j,d=g instanceof lr||g instanceof re,v=d&&n;if(c||v)return setTimeout(a,i._timeBetweenDecodingAttempts,o,u);u(g)}};return new Promise(function(o,u){return a(o,u)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);t(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){t(null,l);var o=l instanceof lr||l instanceof re,u=l instanceof j;(o||u)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var t=this.getCaptureCanvas(e),n=new GI(t),i=new UI(n);return new II(i)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r}(),Nr=function(){function r(e,t,n,i,a,o){n===void 0&&(n=t==null?0:8*t.length),o===void 0&&(o=xt.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=xt.currentTimeMillis():this.timestamp=o}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);xt.arraycopy(t,0,n,0,t.length),xt.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}(),bh;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(bh||(bh={}));const ge=bh;var Oh;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Oh||(Oh={}));const wr=Oh;var nc=function(){function r(e,t,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}(),gs=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ye;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}(),aa=function(){function r(e,t){if(t.length===0)throw new ye;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),xt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,a=t.length;i!==a;i++){var o=t[i];n=gs.addOrSubtract(n,o)}return n}n=t[0];for(var u=t.length,l=this.field,i=1;i<u;i++)n=gs.addOrSubtract(l.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ye("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;xt.arraycopy(n,0,a,0,o);for(var u=o;u<n.length;u++)a[u]=gs.addOrSubtract(t[u-o],n[u]);return new r(this.field,a)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ye("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),u=this.field,l=0;l<n;l++)for(var c=t[l],d=0;d<a;d++)o[l+d]=gs.addOrSubtract(o[l+d],u.multiply(c,i[d]));return new r(u,o)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),a=this.coefficients,o=0;o<t;o++)i[o]=n.multiply(a[o],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ye;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,u=0;u<i;u++)a[u]=o.multiply(n[u],t);return new r(o,a)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ye("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ye("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),l=t.multiply(i.getCoefficient(i.getDegree()),o),c=e.multiplyByMonomial(u,l),d=t.buildMonomial(u,l);n=n.addOrSubtract(d),i=i.addOrSubtract(c)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}(),WI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gm=function(r){WI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Qr),YI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$r=function(r){YI(e,r);function e(t,n,i){var a=r.call(this)||this;a.primitive=t,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),u=1,l=0;l<n;l++)o[l]=u,u*=2,u>=n&&(u^=t,u&=n-1);a.expTable=o;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[o[l]]=l;return a.logTable=c,a.zero=new aa(a,Int32Array.from([0])),a.one=new aa(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ye;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new aa(this,i)},e.prototype.inverse=function(t){if(t===0)throw new gm;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+De.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(gs),jI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fl=function(r){jI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Qr),$I=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gs=function(r){$I(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Qr),ic=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new aa(n,e),a=new Int32Array(t),o=!0,u=0;u<t;u++){var l=i.evaluateAt(n.exp(u+n.getGeneratorBase()));a[a.length-1-u]=l,l!==0&&(o=!1)}if(!o)for(var c=new aa(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),v=d[0],g=d[1],y=this.findErrorLocations(v),m=this.findErrorMagnitudes(g,y),u=0;u<y.length;u++){var A=e.length-1-n.log(y[u]);if(A<0)throw new fl("Bad error location");e[A]=$r.addOrSubtract(e[A],m[u])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,o=e,u=t,l=a.getZero(),c=a.getOne();u.getDegree()>=(n/2|0);){var d=o,v=l;if(o=u,l=c,o.isZero())throw new fl("r_{i-1} was zero");u=d;for(var g=a.getZero(),y=o.getCoefficient(o.getDegree()),m=a.inverse(y);u.getDegree()>=o.getDegree()&&!u.isZero();){var A=u.getDegree()-o.getDegree(),E=a.multiply(u.getCoefficient(u.getDegree()),m);g=g.addOrSubtract(a.buildMonomial(A,E)),u=u.addOrSubtract(o.multiplyByMonomial(A,E))}if(c=g.multiply(l).addOrSubtract(v),u.getDegree()>=o.getDegree())throw new Gs("Division algorithm failed to reduce polynomial?")}var w=c.getCoefficient(0);if(w===0)throw new fl("sigmaTilde(0) was zero");var C=a.inverse(w),I=c.multiplyScalar(C),b=u.multiplyScalar(C);return[I,b]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,a=this.field,o=1;o<a.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==t)throw new fl("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var u=a.inverse(t[o]),l=1,c=0;c<n;c++)if(o!==c){var d=a.multiply(t[c],u),v=(d&1)===0?d|1:d&-2;l=a.multiply(l,v)}i[o]=a.multiply(e.evaluateAt(u),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],u))}return i},r}(),yr;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(yr||(yr={}));var rx=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),a=r.convertBoolArrayToByteArray(i),o=r.getEncodedData(i),u=new nc(a,o,null,null);return u.setNumBits(i.length),u},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=yr.UPPER,i=yr.UPPER,a="",o=0;o<t;)if(i===yr.BINARY){if(t-o<5)break;var u=r.readCode(e,o,5);if(o+=5,u===0){if(t-o<11)break;u=r.readCode(e,o,11)+31,o+=11}for(var l=0;l<u;l++){if(t-o<8){o=t;break}var c=r.readCode(e,o,8);a+=ke.castAsNonUtf8Char(c),o+=8}i=n}else{var d=i===yr.DIGIT?4:5;if(t-o<d)break;var c=r.readCode(e,o,d);o+=d;var v=r.getCharacter(i,c);v.startsWith("CTRL_")?(n=i,i=r.getTable(v.charAt(5)),v.charAt(6)==="L"&&(n=i)):(a+=v,i=n)}return a},r.getTable=function(e){switch(e){case"L":return yr.LOWER;case"P":return yr.PUNCT;case"M":return yr.MIXED;case"D":return yr.DIGIT;case"B":return yr.BINARY;case"U":default:return yr.UPPER}},r.getCharacter=function(e,t){switch(e){case yr.UPPER:return r.UPPER_TABLE[t];case yr.LOWER:return r.LOWER_TABLE[t];case yr.MIXED:return r.MIXED_TABLE[t];case yr.PUNCT:return r.PUNCT_TABLE[t];case yr.DIGIT:return r.DIGIT_TABLE[t];default:throw new Gs("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=$r.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=$r.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=$r.AZTEC_DATA_10):(n=12,t=$r.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new re;for(var o=e.length%n,u=new Int32Array(a),l=0;l<a;l++,o+=n)u[l]=r.readCode(e,o,n);try{var c=new ic(t);c.decode(u,a-i)}catch(E){throw new re(E)}for(var d=(1<<n)-1,v=0,l=0;l<i;l++){var g=u[l];if(g===0||g===d)throw new re;(g===1||g===d-1)&&v++}for(var y=new Array(i*n-v),m=0,l=0;l<i;l++){var g=u[l];if(g===1||g===d-1)y.fill(g>1,m,m+n-1),m+=n-1;else for(var A=n-1;A>=0;--A)y[m++]=(g&1<<A)!==0}return y},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,t));if(t)for(var u=0;u<a.length;u++)a[u]=u;else for(var l=i+1+2*De.truncDivision(De.truncDivision(i,2)-1,15),c=i/2,d=De.truncDivision(l,2),u=0;u<c;u++){var v=u+De.truncDivision(u,15);a[c-u-1]=d-v-1,a[c+u]=d+v+1}for(var u=0,g=0;u<n;u++){for(var y=(n-u)*4+(t?9:12),m=u*2,A=i-1-m,E=0;E<y;E++)for(var w=E*2,C=0;C<2;C++)o[g+w+C]=e.get(a[m+C],a[m+E]),o[g+2*y+w+C]=e.get(a[m+E],a[A-C]),o[g+4*y+w+C]=e.get(a[A-C],a[A-E]),o[g+6*y+w+C]=e.get(a[A-E],a[m+C]);g+=y*8}return o},r.readCode=function(e,t,n){for(var i=0,a=t;a<t+n;a++)i<<=1,e[a]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}(),Ye=function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var a=e-n,o=t-i;return Math.sqrt(a*a+o*o)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var a=e[n];t+=a}return t},r}(),Dh=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),ce=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*Dh.floatToIntBits(this.x)+Dh.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,u;if(n>=t&&n>=i?(o=e[0],a=e[1],u=e[2]):i>=n&&i>=t?(o=e[1],a=e[0],u=e[2]):(o=e[2],a=e[0],u=e[1]),this.crossProductZ(a,o,u)<0){var l=a;a=u,u=l}e[0]=a,e[1]=o,e[2]=u},r.distance=function(e,t){return Ye.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,a=t.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},r}(),kd=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),ZI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KI=function(r){ZI(e,r);function e(t,n,i,a,o){var u=r.call(this,t,n)||this;return u.compact=i,u.nbDatablocks=a,u.nbLayers=o,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(kd),Rh=function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,u=!1,l=!1,c=!1,d=!1,v=!1,g=this.width,y=this.height;o;){o=!1;for(var m=!0;(m||!l)&&t<g;)m=this.containsBlackPoint(n,i,t,!1),m?(t++,o=!0,l=!0):l||t++;if(t>=g){a=!0;break}for(var A=!0;(A||!c)&&i<y;)A=this.containsBlackPoint(e,t,i,!0),A?(i++,o=!0,c=!0):c||i++;if(i>=y){a=!0;break}for(var E=!0;(E||!d)&&e>=0;)E=this.containsBlackPoint(n,i,e,!1),E?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var w=!0;(w||!v)&&n>=0;)w=this.containsBlackPoint(e,t,n,!0),w?(n--,o=!0,v=!0):v||n--;if(n<0){a=!0;break}o&&(u=!0)}if(!a&&u){for(var C=t-e,I=null,b=1;I===null&&b<C;b++)I=this.getBlackPointOnSegment(e,i-b,e+b,i);if(I==null)throw new j;for(var R=null,b=1;R===null&&b<C;b++)R=this.getBlackPointOnSegment(e,n+b,e+b,n);if(R==null)throw new j;for(var M=null,b=1;M===null&&b<C;b++)M=this.getBlackPointOnSegment(t,n+b,t-b,n);if(M==null)throw new j;for(var L=null,b=1;L===null&&b<C;b++)L=this.getBlackPointOnSegment(t,i-b,t-b,i);if(L==null)throw new j;return this.centerEdges(L,I,M,R)}else throw new j},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var a=Ye.round(Ye.distance(e,t,n,i)),o=(n-e)/a,u=(i-t)/a,l=this.image,c=0;c<a;c++){var d=Ye.round(e+c*o),v=Ye.round(t+c*u);if(l.get(d,v))return new ce(d,v)}return null},r.prototype.centerEdges=function(e,t,n,i){var a=e.getX(),o=e.getY(),u=t.getX(),l=t.getY(),c=n.getX(),d=n.getY(),v=i.getX(),g=i.getY(),y=r.CORR;return a<this.width/2?[new ce(v-y,g+y),new ce(u+y,l+y),new ce(c-y,d-y),new ce(a+y,o-y)]:[new ce(v+y,g+y),new ce(u+y,l-y),new ce(c-y,d+y),new ce(a-y,o-y)]},r.prototype.containsBlackPoint=function(e,t,n,i){var a=this.image;if(i){for(var o=e;o<=t;o++)if(a.get(o,n))return!0}else for(var u=e;u<=t;u++)if(a.get(n,u))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}(),nx=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var u=Math.floor(t[o]),l=Math.floor(t[o+1]);if(u<-1||u>n||l<-1||l>i)throw new j;a=!1,u===-1?(t[o]=0,a=!0):u===n&&(t[o]=n-1,a=!0),l===-1?(t[o+1]=0,a=!0):l===i&&(t[o+1]=i-1,a=!0)}a=!0;for(var o=t.length-2;o>=0&&a;o-=2){var u=Math.floor(t[o]),l=Math.floor(t[o+1]);if(u<-1||u>n||l<-1||l>i)throw new j;a=!1,u===-1?(t[o]=0,a=!0):u===n&&(t[o]=n-1,a=!0),l===-1?(t[o+1]=0,a=!0):l===i&&(t[o+1]=i-1,a=!0)}},r}(),ym=function(){function r(e,t,n,i,a,o,u,l,c){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=u,this.a23=l,this.a33=c}return r.quadrilateralToQuadrilateral=function(e,t,n,i,a,o,u,l,c,d,v,g,y,m,A,E){var w=r.quadrilateralToSquare(e,t,n,i,a,o,u,l),C=r.squareToQuadrilateral(c,d,v,g,y,m,A,E);return C.times(w)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,u=this.a22,l=this.a23,c=this.a31,d=this.a32,v=this.a33,g=0;g<t;g+=2){var y=e[g],m=e[g+1],A=a*y+l*m+v;e[g]=(n*y+o*m+c)/A,e[g+1]=(i*y+u*m+d)/A}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,u=this.a22,l=this.a23,c=this.a31,d=this.a32,v=this.a33,g=e.length,y=0;y<g;y++){var m=e[y],A=t[y],E=a*m+l*A+v;e[y]=(n*m+o*A+c)/E,t[y]=(i*m+u*A+d)/E}},r.squareToQuadrilateral=function(e,t,n,i,a,o,u,l){var c=e-n+a-u,d=t-i+o-l;if(c===0&&d===0)return new r(n-e,a-n,e,i-t,o-i,t,0,0,1);var v=n-a,g=u-a,y=i-o,m=l-o,A=v*m-g*y,E=(c*m-g*d)/A,w=(v*d-c*y)/A;return new r(n-e+E*n,u-e+w*u,e,i-t+E*i,l-t+w*l,t,E,w,1)},r.quadrilateralToSquare=function(e,t,n,i,a,o,u,l){return r.squareToQuadrilateral(e,t,n,i,a,o,u,l).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}(),qI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QI=function(r){qI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,a,o,u,l,c,d,v,g,y,m,A,E,w,C,I,b){var R=ym.quadrilateralToQuadrilateral(a,o,u,l,c,d,v,g,y,m,A,E,w,C,I,b);return this.sampleGridWithTransform(t,n,i,R)},e.prototype.sampleGridWithTransform=function(t,n,i,a){if(n<=0||i<=0)throw new j;for(var o=new Jn(n,i),u=new Float32Array(2*n),l=0;l<i;l++){for(var c=u.length,d=l+.5,v=0;v<c;v+=2)u[v]=v/2+.5,u[v+1]=d;a.transformPoints(u),nx.checkAndNudgePoints(t,u);try{for(var v=0;v<c;v+=2)t.get(Math.floor(u[v]),Math.floor(u[v+1]))&&o.set(v/2,l)}catch{throw new j}}return o},e}(nx),Ud=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new QI,r}(),Yr=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new ce(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}(),JI=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new KI(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new j;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(a,o,u){var l=(a>>t-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(De.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new j},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),u=n-1;u>=0;--u)o[u]=e&15,e>>=4;try{var l=new ic($r.AZTEC_PARAM);l.decode(o,a)}catch{throw new j}for(var c=0,u=0;u<i;u++)c=(c<<4)+o[u];return c},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,o,1,-1),l=this.getFirstDifferent(n,o,1,1),c=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var v=this.distancePoint(d,u)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(v<.75||v>1.25||!this.isWhiteOrBlackRectangle(u,l,c,d))break}t=u,n=l,i=c,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;var g=new ce(t.getX()+.5,t.getY()-.5),y=new ce(n.getX()+.5,n.getY()+.5),m=new ce(i.getX()-.5,i.getY()+.5),A=new ce(a.getX()-.5,a.getY()-.5);return this.expandSquare([g,y,m,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var a=new Rh(this.image).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new Yr(o+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Yr(o+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Yr(o-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Yr(o-7,u-7),!1,-1,-1).toResultPoint()}var l=Ye.round((e.getX()+i.getX()+t.getX()+n.getX())/4),c=Ye.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var a=new Rh(this.image,15,l,c).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Yr(l+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Yr(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Yr(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Yr(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Ye.round((e.getX()+i.getX()+t.getX()+n.getX())/4),c=Ye.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new Yr(l,c)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,a){var o=Ud.getInstance(),u=this.getDimension(),l=u/2-this.nbCenterLayers,c=u/2+this.nbCenterLayers;return o.sampleGrid(e,u,u,l,l,c,l,c,c,l,c,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,a=this.distanceResultPoint(e,t),o=a/n,u=e.getX(),l=e.getY(),c=o*(t.getX()-e.getX())/a,d=o*(t.getY()-e.getY())/a,v=0;v<n;v++)this.image.get(Ye.round(u+v*c),Ye.round(l+v*d))&&(i|=1<<n-v-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var a=3;e=new Yr(e.getX()-a,e.getY()+a),t=new Yr(t.getX()-a,t.getY()-a),n=new Yr(n.getX()+a,n.getY()-a),i=new Yr(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var u=this.getColor(e,t);return u!==o||(u=this.getColor(t,n),u!==o)?!1:(u=this.getColor(n,i),u===o)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,o=0,u=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),v=0;v<d;v++)u+=i,l+=a,this.image.get(Ye.round(u),Ye.round(l))!==c&&o++;var g=o/n;return g>.1&&g<.9?0:g<=.1===c?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=i;return o-=i,new Yr(a,o)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new ce(u+i*a,l+i*o),d=new ce(u-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var v=new ce(u+i*a,l+i*o),g=new ce(u-i*a,l-i*o),y=[c,v,d,g];return y},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=Ye.round(e.getX()),n=Ye.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return Ye.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return Ye.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(De.truncDivision(this.nbLayers-4,8)+1)+15},r}(),Nh=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new JI(e.getBlackMatrix()),a=null,o=null;try{var u=i.detectMirror(!1);a=u.getPoints(),this.reportFoundResultPoints(t,a),o=new rx().decode(u)}catch(v){n=v}if(o==null)try{var u=i.detectMirror(!0);a=u.getPoints(),this.reportFoundResultPoints(t,a),o=new rx().decode(u)}catch(v){throw n??v}var l=new Nr(o.getText(),o.getRawBytes(),o.getNumBits(),a,ge.AZTEC,xt.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(wr.BYTE_SEGMENTS,c);var d=o.getECLevel();return d!=null&&l.putMetadata(wr.ERROR_CORRECTION_LEVEL,d),l},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(Nt.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r}(),eT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){eT(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Nh,t)||this}return e})(nu);var Qt=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(Nt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),o=a.getResultMetadata(),u=270;o!==null&&o.get(wr.ORIENTATION)===!0&&(u=u+o.get(wr.ORIENTATION)%360),a.putMetadata(wr.ORIENTATION,u);var l=a.getResultPoints();if(l!==null)for(var c=i.getHeight(),d=0;d<l.length;d++)l[d]=new ce(c-l[d].getY()-1,l[d].getX());return a}else throw new j}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),a=new hr(n),o=t&&t.get(Nt.TRY_HARDER)===!0,u=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var c=Math.trunc(i/2),d=0;d<l;d++){var v=Math.trunc((d+1)/2),g=(d&1)===0,y=c+u*(g?v:-v);if(y<0||y>=i)break;try{a=e.getBlackRow(y,a)}catch{continue}for(var m=function(C){if(C===1&&(a.reverse(),t&&t.get(Nt.NEED_RESULT_POINT_CALLBACK)===!0)){var I=new Map;t.forEach(function(M,L){return I.set(L,M)}),I.delete(Nt.NEED_RESULT_POINT_CALLBACK),t=I}try{var b=A.decodeRow(y,a,t);if(C===1){b.putMetadata(wr.ORIENTATION,180);var R=b.getResultPoints();R!==null&&(R[0]=new ce(n-R[0].getX()-1,R[0].getY()),R[1]=new ce(n-R[1].getX()-1,R[1].getY()))}return{value:b}}catch{}},A=this,E=0;E<2;E++){var w=m(E);if(typeof w=="object")return w.value}}throw new j},r.recordPattern=function(e,t,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(t>=o)throw new j;for(var u=!e.get(t),l=0,c=t;c<o;){if(e.get(c)!==u)n[l]++;else{if(++l===i)break;n[l]=1,u=!u}c++}if(!(l===i||l===i-1&&c===o))throw new j},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new j;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,u=0;u<i;u++)a+=e[u],o+=t[u];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var c=0,d=0;d<i;d++){var v=e[d],g=t[d]*l,y=v>g?v-g:g-v;if(y>n)return Number.POSITIVE_INFINITY;c+=y}return c/a},r}(),tT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ix=function(r){tT(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),u=i,l=!1,c=6,d=i;d<n;d++)if(t.get(d)!==l)o[a]++;else{if(a===c-1){for(var v=e.MAX_AVG_VARIANCE,g=-1,y=e.CODE_START_A;y<=e.CODE_START_C;y++){var m=Qt.patternMatchVariance(o,e.CODE_PATTERNS[y],e.MAX_INDIVIDUAL_VARIANCE);m<v&&(v=m,g=y)}if(g>=0&&t.isRange(Math.max(0,u-(d-u)/2),u,!1))return Int32Array.from([u,d,g]);u+=o[0]+o[1],o=o.slice(2,o.length-1),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new j},e.decodeCode=function(t,n,i){Qt.recordPattern(t,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,u=0;u<e.CODE_PATTERNS.length;u++){var l=e.CODE_PATTERNS[u],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<a&&(a=c,o=u)}if(o>=0)return o;throw new j},e.prototype.decodeRow=function(t,n,i){var a=i&&i.get(Nt.ASSUME_GS1)===!0,o=e.findStartPattern(n),u=o[2],l=0,c=new Uint8Array(20);c[l++]=u;var d;switch(u){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new re}for(var v=!1,g=!1,y="",m=o[0],A=o[1],E=Int32Array.from([0,0,0,0,0,0]),w=0,C=0,I=u,b=0,R=!0,M=!1,L=!1;!v;){var z=g;switch(g=!1,w=C,C=e.decodeCode(n,E,A),c[l++]=C,C!==e.CODE_STOP&&(R=!0),C!==e.CODE_STOP&&(b++,I+=b*C),m=A,A+=E.reduce(function(ie,ve){return ie+ve},0),C){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new re}switch(d){case e.CODE_CODE_A:if(C<64)L===M?y+=String.fromCharCode(32+C):y+=String.fromCharCode(32+C+128),L=!1;else if(C<96)L===M?y+=String.fromCharCode(C-64):y+=String.fromCharCode(C+64),L=!1;else switch(C!==e.CODE_STOP&&(R=!1),C){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!M&&L?(M=!0,L=!1):M&&L?(M=!1,L=!1):L=!0;break;case e.CODE_SHIFT:g=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_B:if(C<96)L===M?y+=String.fromCharCode(32+C):y+=String.fromCharCode(32+C+128),L=!1;else switch(C!==e.CODE_STOP&&(R=!1),C){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!M&&L?(M=!0,L=!1):M&&L?(M=!1,L=!1):L=!0;break;case e.CODE_SHIFT:g=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_C:if(C<100)C<10&&(y+="0"),y+=C;else switch(C!==e.CODE_STOP&&(R=!1),C){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:v=!0;break}break}z&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var K=A-m;if(A=n.getNextUnset(A),!n.isRange(A,Math.min(n.getSize(),A+(A-m)/2),!1))throw new j;if(I-=b*w,I%103!==w)throw new lr;var Z=y.length;if(Z===0)throw new j;Z>0&&R&&(d===e.CODE_CODE_C?y=y.substring(0,Z-2):y=y.substring(0,Z-1));for(var le=(o[1]+o[0])/2,te=m+K/2,fe=c.length,Ve=new Uint8Array(fe),Le=0;Le<fe;Le++)Ve[Le]=c[Le];var Y=[new ce(le,t),new ce(te,t)];return new Nr(y,Ve,0,Y,ge.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Qt),rT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),G0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ax=function(r){rT(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var a,o,u,l,c=this.counters;c.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,c),v=n.getNextSet(d[1]),g=n.getSize(),y,m;do{e.recordPattern(n,v,c);var A=e.toNarrowWidePattern(c);if(A<0)throw new j;y=e.patternToChar(A),this.decodeRowResult+=y,m=v;try{for(var E=(a=void 0,G0(c)),w=E.next();!w.done;w=E.next()){var C=w.value;v+=C}}catch(fe){a={error:fe}}finally{try{w&&!w.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}v=n.getNextSet(v)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var b=G0(c),R=b.next();!R.done;R=b.next()){var C=R.value;I+=C}}catch(fe){u={error:fe}}finally{try{R&&!R.done&&(l=b.return)&&l.call(b)}finally{if(u)throw u.error}}var M=v-m-I;if(v!==g&&M*2<I)throw new j;if(this.usingCheckDigit){for(var L=this.decodeRowResult.length-1,z=0,K=0;K<L;K++)z+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(L)!==e.ALPHABET_STRING.charAt(z%43))throw new lr;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new j;var Z;this.extendedMode?Z=e.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;var le=(d[1]+d[0])/2,te=m+I/2;return new Nr(Z,null,0,[new ce(le,t),new ce(te,t)],ge.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),a=t.getNextSet(0),o=0,u=a,l=!1,c=n.length,d=a;d<i;d++)if(t.get(d)!==l)n[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((d-u)/2)),u,!1))return[u,d];u+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new j},e.toNarrowWidePattern=function(t){var n,i,a=t.length,o=0,u;do{var l=2147483647;try{for(var c=(n=void 0,G0(t)),d=c.next();!d.done;d=c.next()){var v=d.value;v<l&&v>o&&(l=v)}}catch(A){n={error:A}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o=l,u=0;for(var g=0,y=0,m=0;m<a;m++){var v=t[m];v>o&&(y|=1<<a-1-m,u++,g+=v)}if(u===3){for(var m=0;m<a&&u>0;m++){var v=t[m];if(v>o&&(u--,v*2>=g))return-1}return y}}while(u>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new j},e.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var u=t.charAt(a+1),l="\0";switch(o){case"+":if(u>="A"&&u<="Z")l=String.fromCharCode(u.charCodeAt(0)+32);else throw new re;break;case"$":if(u>="A"&&u<="Z")l=String.fromCharCode(u.charCodeAt(0)-64);else throw new re;break;case"%":if(u>="A"&&u<="E")l=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")l=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")l=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")l=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")l="\0";else if(u==="V")l="@";else if(u==="W")l="`";else if(u==="X"||u==="Y"||u==="Z")l="";else throw new re;break;case"/":if(u>="A"&&u<="O")l=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")l=":";else throw new re;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Qt),nT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ox=function(r){nT(e,r);function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,n,i){var a,o,u,l,c=this.findAsteriskPattern(n),d=n.getNextSet(c[1]),v=n.getSize(),g=this.counters;g.fill(0),this.decodeRowResult="";var y,m;do{e.recordPattern(n,d,g);var A=this.toPattern(g);if(A<0)throw new j;y=this.patternToChar(A),this.decodeRowResult+=y,m=d;try{for(var E=(a=void 0,z0(g)),w=E.next();!w.done;w=E.next()){var C=w.value;d+=C}}catch(K){a={error:K}}finally{try{w&&!w.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var b=z0(g),R=b.next();!R.done;R=b.next()){var C=R.value;I+=C}}catch(K){u={error:K}}finally{try{R&&!R.done&&(l=b.return)&&l.call(b)}finally{if(u)throw u.error}}if(d===v||!n.get(d))throw new j;if(this.decodeRowResult.length<2)throw new j;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var M=this.decodeExtended(this.decodeRowResult),L=(c[1]+c[0])/2,z=m+I/2;return new Nr(M,null,0,[new ce(L,t),new ce(z,t)],ge.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,u=!1,l=a.length,c=0,d=i;d<n;d++)if(t.get(d)!==u)a[c]++;else{if(c===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,u=!u}throw new j},e.prototype.toPattern=function(t){var n,i,a=0;try{for(var o=z0(t),u=o.next();!u.done;u=o.next()){var l=u.value;a+=l}}catch(m){n={error:m}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var c=0,d=t.length,v=0;v<d;v++){var g=Math.round(t[v]*9/a);if(g<1||g>4)return-1;if((v&1)===0)for(var y=0;y<g;y++)c=c<<1|1;else c<<=g}return c},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new j},e.prototype.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new re;var u=t.charAt(a+1),l="\0";switch(o){case"d":if(u>="A"&&u<="Z")l=String.fromCharCode(u.charCodeAt(0)+32);else throw new re;break;case"a":if(u>="A"&&u<="Z")l=String.fromCharCode(u.charCodeAt(0)-64);else throw new re;break;case"b":if(u>="A"&&u<="E")l=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")l=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")l=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")l=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")l="\0";else if(u==="V")l="@";else if(u==="W")l="`";else if(u>="X"&&u<="Z")l="";else throw new re;break;case"c":if(u>="A"&&u<="O")l=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")l=":";else throw new re;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,i){for(var a=1,o=0,u=n-1;u>=0;u--)o+=a*e.ALPHABET_STRING.indexOf(t.charAt(u)),++a>i&&(a=1);if(t.charAt(n)!==e.ALPHABET_STRING[o%47])throw new lr},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Qt),iT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ux=function(r){iT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var a,o,u=this.decodeStart(n),l=this.decodeEnd(n),c=new Te;e.decodeMiddle(n,u[1],l[0],c);var d=c.toString(),v=null;i!=null&&(v=i.get(Nt.ALLOWED_LENGTHS)),v==null&&(v=e.DEFAULT_ALLOWED_LENGTHS);var g=d.length,y=!1,m=0;try{for(var A=aT(v),E=A.next();!E.done;E=A.next()){var w=E.value;if(g===w){y=!0;break}w>m&&(m=w)}}catch(b){a={error:b}}finally{try{E&&!E.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}if(!y&&g>m&&(y=!0),!y)throw new re;var C=[new ce(u[1],t),new ce(l[0],t)],I=new Nr(d,null,0,C,ge.ITF,new Date().getTime());return I},e.decodeMiddle=function(t,n,i,a){var o=new Int32Array(10),u=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),u.fill(0),l.fill(0);n<i;){Qt.recordPattern(t,n,o);for(var c=0;c<5;c++){var d=2*c;u[c]=o[d],l[c]=o[d+1]}var v=e.decodeDigit(u);a.append(v.toString()),v=this.decodeDigit(l),a.append(v.toString()),o.forEach(function(g){n+=g})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new j},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new j;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof j&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var a=i.length,o=new Int32Array(a),u=t.getSize(),l=!1,c=0,d=n;o.fill(0);for(var v=n;v<u;v++)if(t.get(v)!==l)o[c]++;else{if(c===a-1){if(Qt.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,v];d+=o[0]+o[1],xt.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new j},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var u=e.PATTERNS[o],l=Qt.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new j},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Qt),oT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$o=function(r){oT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,o);var u=i[0];a=i[1];var l=u-(a-u);l>=0&&(n=t.isRange(l,u,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new re;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new re;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,a){return this.findGuardPattern(t,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,n,i,a,o){var u=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var l=0,c=n,d=a.length,v=i,g=n;g<u;g++)if(t.get(g)!==v)o[l]++;else{if(l===d-1){if(Qt.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,g]);c+=o[0]+o[1];for(var y=o.slice(2,o.length),m=0;m<l-1;m++)o[m]=y[m];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,v=!v}throw new j},e.decodeDigit=function(t,n,i,a){this.recordPattern(t,i,n);for(var o=this.MAX_AVG_VARIANCE,u=-1,l=a.length,c=0;c<l;c++){var d=a[c],v=Qt.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);v<o&&(o=v,u=c)}if(u>=0)return u;throw new j},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Qt),uT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sT=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),u=r.parseExtensionString(o),l=[new ce((n[0]+n[1])/2,e),new ce(a,e)],c=new Nr(o,null,0,l,ge.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&c.putAllMetadata(u),c},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var u=e.getSize(),l=t[1],c=0,d=0;d<5&&l<u;d++){var v=$o.decodeDigit(e,o,l,$o.L_AND_G_PATTERNS);n+=String.fromCharCode(48+v%10);try{for(var g=(i=void 0,uT(o)),y=g.next();!y.done;y=g.next()){var m=y.value;l+=m}}catch(E){i={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}v>=10&&(c|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new j;var A=this.determineCheckDigit(c);if(r.extensionChecksum(n.toString())!==A)throw new j;return l},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new j},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[wr.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return t+i+"."+o},r}(),fT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lT=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),u=r.parseExtensionString(o),l=[new ce((n[0]+n[1])/2,e),new ce(a,e)],c=new Nr(o,null,0,l,ge.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&c.putAllMetadata(u),c},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var u=e.getSize(),l=t[1],c=0,d=0;d<2&&l<u;d++){var v=$o.decodeDigit(e,o,l,$o.L_AND_G_PATTERNS);n+=String.fromCharCode(48+v%10);try{for(var g=(i=void 0,fT(o)),y=g.next();!y.done;y=g.next()){var m=y.value;l+=m}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}v>=10&&(c|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new j;if(parseInt(n.toString())%4!==c)throw new j;return l},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[wr.ISSUE_NUMBER,parseInt(e)]])},r}(),cT=function(){function r(){}return r.decodeRow=function(e,t,n){var i=$o.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new sT;return a.decodeRow(e,t,i)}catch{var o=new lT;return o.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}(),hT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wt=function(r){hT(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return t}return e.prototype.decodeRow=function(t,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Nt.NEED_RESULT_POINT_CALLBACK);if(o!=null){var u=new ce((a[0]+a[1])/2,t);o.foundPossibleResultPoint(u)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),c=l.rowOffset,d=l.resultString;if(o!=null){var v=new ce(c,t);o.foundPossibleResultPoint(v)}var g=e.decodeEnd(n,c);if(o!=null){var y=new ce((g[0]+g[1])/2,t);o.foundPossibleResultPoint(y)}var m=g[1],A=m+(m-g[0]);if(A>=n.getSize()||!n.isRange(m,A,!1))throw new j;var E=d.toString();if(E.length<8)throw new re;if(!e.checkChecksum(E))throw new lr;var w=(a[1]+a[0])/2,C=(g[1]+g[0])/2,I=this.getBarcodeFormat(),b=[new ce(w,t),new ce(C,t)],R=new Nr(E,null,0,b,I,new Date().getTime()),M=0;try{var L=cT.decodeRow(t,n,g[1]);R.putMetadata(wr.UPC_EAN_EXTENSION,L.getText()),R.putAllMetadata(L.getResultMetadata()),R.addResultPoints(L.getResultPoints()),M=L.getText().length}catch{}var z=i==null?null:i.get(Nt.ALLOWED_EAN_EXTENSIONS);if(z!=null){var K=!1;for(var Z in z)if(M.toString()===Z){K=!0;break}if(!K)throw new j}return I===ge.EAN_13||ge.UPC_A,R},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new re;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new re;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}($o),dT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mh=function(r){dT(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,u,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=t.getSize(),v=n[1],g=0,y=0;y<6&&v<d;y++){var m=Wt.decodeDigit(t,c,v,Wt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var A=(a=void 0,sx(c)),E=A.next();!E.done;E=A.next()){var w=E.value;v+=w}}catch(R){a={error:R}}finally{try{E&&!E.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}m>=10&&(g|=1<<5-y)}i=e.determineFirstDigit(i,g);var C=Wt.findGuardPattern(t,v,!0,Wt.MIDDLE_PATTERN,new Int32Array(Wt.MIDDLE_PATTERN.length).fill(0));v=C[1];for(var y=0;y<6&&v<d;y++){var m=Wt.decodeDigit(t,c,v,Wt.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var I=(u=void 0,sx(c)),b=I.next();!b.done;b=I.next()){var w=b.value;v+=w}}catch(L){u={error:L}}finally{try{b&&!b.done&&(l=I.return)&&l.call(I)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:i}},e.prototype.getBarcodeFormat=function(){return ge.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new j},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Wt),vT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lx=function(r){vT(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,u,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=t.getSize(),v=n[1],g=0;g<4&&v<d;g++){var y=Wt.decodeDigit(t,c,v,Wt.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var m=(a=void 0,fx(c)),A=m.next();!A.done;A=m.next()){var E=A.value;v+=E}}catch(b){a={error:b}}finally{try{A&&!A.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}var w=Wt.findGuardPattern(t,v,!0,Wt.MIDDLE_PATTERN,new Int32Array(Wt.MIDDLE_PATTERN.length).fill(0));v=w[1];for(var g=0;g<4&&v<d;g++){var y=Wt.decodeDigit(t,c,v,Wt.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var C=(u=void 0,fx(c)),I=C.next();!I.done;I=C.next()){var E=I.value;v+=E}}catch(M){u={error:M}}finally{try{I&&!I.done&&(l=C.return)&&l.call(C)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:i}},e.prototype.getBarcodeFormat=function(){return ge.EAN_8},e}(Wt),pT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cx=function(r){pT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new Mh,t}return e.prototype.getBarcodeFormat=function(){return ge.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new Nr(n.substring(1),null,null,t.getResultPoints(),ge.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new j},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Wt),gT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hx=function(r){gT(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,u=this.decodeMiddleCounters.map(function(E){return E});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var l=t.getSize(),c=n[1],d=0,v=0;v<6&&c<l;v++){var g=e.decodeDigit(t,u,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var y=(a=void 0,yT(u)),m=y.next();!m.done;m=y.next()){var A=m.value;c+=A}}catch(E){a={error:E}}finally{try{m&&!m.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}g>=10&&(d|=1<<5-v)}return e.determineNumSysAndCheckDigit(new Te(i),d),c},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Wt.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw j.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ge.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Te;i.append(t.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Wt),xT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X0=function(r){xT(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(Nt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(ge.EAN_13)>-1&&a.push(new Mh),i.indexOf(ge.UPC_A)>-1&&a.push(new cx),i.indexOf(ge.EAN_8)>-1&&a.push(new lx),i.indexOf(ge.UPC_E)>-1&&a.push(new hx)),a.length===0&&(a.push(new Mh),a.push(new cx),a.push(new lx),a.push(new hx)),n.readers=a,n}return e.prototype.decodeRow=function(t,n,i){var a,o;try{for(var u=dx(this.readers),l=u.next();!l.done;l=u.next()){var c=l.value;try{var d=c.decodeRow(t,n,i),v=d.getBarcodeFormat()===ge.EAN_13&&d.getText().charAt(0)==="0",g=i==null?null:i.get(Nt.POSSIBLE_FORMATS),y=g==null||g.includes(ge.UPC_A);if(v&&y){var m=d.getRawBytes(),A=new Nr(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),ge.UPC_A);return A.putAllMetadata(d.getResultMetadata()),A}return d}catch{}}}catch(E){a={error:E}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}throw new j},e.prototype.reset=function(){var t,n;try{for(var i=dx(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}(Qt),_T=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mT=function(r){_T(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,n,i){var a=this.getValidRowData(n);if(!a)throw new j;var o=this.codaBarDecodeRow(a.row);if(!o)throw new j;return new Nr(o,null,0,[new ce(a.left,t),new ce(a.right,t)],ge.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],u=n[0],l=1,c=1;c<n.length;c++)n[c]===u?l++:(u=n[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],i=Math.ceil(t.reduce(function(l,c){return(l+c)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var u=n.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(t){var n=/^[A-D].{1,}[A-D]$/;return n.test(t)},e}(Qt),AT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ET=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pa=function(r){AT(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(Qt.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new j},e.count=function(t){return Ye.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]>a&&(a=n[o],i=o);t[i]++},e.decrement=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]<a&&(a=n[o],i=o);t[i]--},e.isFinderPattern=function(t){var n,i,a=t[0]+t[1],o=a+t[2]+t[3],u=a/o;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var d=ET(t),v=d.next();!v.done;v=d.next()){var g=v.value;g>c&&(c=g),g<l&&(l=g)}}catch(y){n={error:y}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Qt),Gl=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}(),xm=function(){function r(e,t,n,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new ce(n,a)),this.resultPoints.push(new ce(i,a))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}(),wT=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ko=function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,a,o=0;try{for(var u=wT(e),l=u.next();!l.done;l=u.next()){var c=l.value;o+=c}}catch(C){i={error:C}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}for(var d=0,v=0,g=e.length,y=0;y<g-1;y++){var m=void 0;for(m=1,v|=1<<y;m<e[y];m++,v&=~(1<<y)){var A=r.combins(o-m-1,g-y-2);if(n&&v===0&&o-m-(g-y-1)>=g-y-1&&(A-=r.combins(o-m-(g-y),g-y-2)),g-y-1>1){for(var E=0,w=o-m-(g-y-2);w>t;w--)E+=r.combins(o-m-w-1,g-y-3);A-=E*(g-1-y)}else o-m>t&&A--;d+=A}o-=m}return d},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var a=1,o=1,u=e;u>n;u--)a*=u,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},r}(),CT=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new hr(n),a=0,o=e[0],u=o.getRightChar().getValue(),l=11;l>=0;--l)(u&1<<l)!==0&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var c=e[l],d=c.getLeftChar().getValue(),v=11;v>=0;--v)(d&1<<v)!==0&&i.set(a),a++;if(c.getRightChar()!==null)for(var g=c.getRightChar().getValue(),v=11;v>=0;--v)(g&1<<v)!==0&&i.set(a),a++}return i},r}(),Oa=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}(),Hd=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}(),ST=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rn=function(r){ST(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Hd),IT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Da=function(r){IT(e,r);function e(t,n,i){var a=r.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Hd),TT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Po=function(r){TT(e,r);function e(t,n,i){var a=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new re;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Hd),ll=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bT=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,a,o,u,l,c;if(!e)return null;if(e.length<2)throw new j;var d=e.substring(0,2);try{for(var v=ll(r.TWO_DIGIT_DATA_LENGTH),g=v.next();!g.done;g=v.next()){var y=g.value;if(y[0]===d)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,y[2],e):r.processFixedAI(2,y[1],e)}}catch(M){t={error:M}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}if(e.length<3)throw new j;var m=e.substring(0,3);try{for(var A=ll(r.THREE_DIGIT_DATA_LENGTH),E=A.next();!E.done;E=A.next()){var y=E.value;if(y[0]===m)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,y[2],e):r.processFixedAI(3,y[1],e)}}catch(M){i={error:M}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}try{for(var w=ll(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),C=w.next();!C.done;C=w.next()){var y=C.value;if(y[0]===m)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,y[2],e):r.processFixedAI(4,y[1],e)}}catch(M){o={error:M}}finally{try{C&&!C.done&&(u=w.return)&&u.call(w)}finally{if(o)throw o.error}}if(e.length<4)throw new j;var I=e.substring(0,4);try{for(var b=ll(r.FOUR_DIGIT_DATA_LENGTH),R=b.next();!R.done;R=b.next()){var y=R.value;if(y[0]===I)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,y[2],e):r.processFixedAI(4,y[1],e)}}catch(M){l={error:M}}finally{try{R&&!R.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}throw new j},r.processFixedAI=function(e,t,n){if(n.length<e)throw new j;var i=n.substring(0,e);if(n.length<e+t)throw new j;var a=n.substring(e,e+t),o=n.substring(e+t),u="("+i+")"+a,l=r.parseFieldsInGeneralPurpose(o);return l==null?u:u+l},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),a;n.length<e+t?a=n.length:a=e+t;var o=n.substring(e,a),u=n.substring(a),l="("+i+")"+o,c=r.parseFieldsInGeneralPurpose(u);return c==null?l:l+c},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}(),wl=function(){function r(e){this.buffer=new Te,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=bT.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Po(this.information.getSize(),Po.FNC1,Po.FNC1):new Po(this.information.getSize(),t-1,Po.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Po(e+7,i,a)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,a=0;a<n;++a)e.get(t+a)&&(i|=1<<n-a-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Da(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Da(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new Da(this.current.getPosition(),this.buffer.toString()):t=new Da(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Oa(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new Da(this.current.getPosition(),this.buffer.toString());return new Oa(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Oa(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Da(this.current.getPosition(),this.buffer.toString());return new Oa(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Oa(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Da(this.current.getPosition(),this.buffer.toString());return new Oa(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Oa(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Rn(e+5,Rn.FNC1);if(t>=5&&t<15)return new Rn(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Rn(e+7,""+(n+1));if(n>=90&&n<116)return new Rn(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new re}return new Rn(e+8,a)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Rn(e+5,Rn.FNC1);if(t>=5&&t<15)return new Rn(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Rn(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Gs("Decoding invalid alphanumeric value: "+n)}return new Rn(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}(),_m=function(){function r(e){this.information=e,this.generalDecoder=new wl(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}(),OT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ln=function(r){OT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,a=0;a<13;a++){var o=t.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(_m),DT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RT=function(r){DT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Te;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Ln),NT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MT=function(r){NT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Te;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(_m),BT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cl=function(r){BT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,a);for(var o=this.checkWeight(a),u=1e5,l=0;l<5;++l)o/u===0&&t.append("0"),u/=10;t.append(o)},e}(Ln),PT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mm=function(r){PT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Cl.GTIN_SIZE+e.WEIGHT_SIZE)throw new j;var t=new Te;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Cl.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Cl),LT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FT=function(r){LT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(mm),kT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UT=function(r){kT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(mm),HT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VT=function(r){HT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ln.GTIN_SIZE)throw new j;var t=new Te;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ln.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ln.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Ln),GT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zT=function(r){GT(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ln.GTIN_SIZE)throw new j;var t=new Te;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ln.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ln.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ln.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Ln),XT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ki=function(r){XT(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new j;var t=new Te;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var u=i;u/10===0&&t.append("0"),t.append(u),o/10===0&&t.append("0"),t.append(o),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Cl);function WT(r){try{if(r.get(1))return new RT(r);if(!r.get(2))return new MT(r);var e=wl.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new FT(r);case 5:return new UT(r)}var t=wl.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new VT(r);case 13:return new zT(r)}var n=wl.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new Ki(r,"310","11");case 57:return new Ki(r,"320","11");case 58:return new Ki(r,"310","13");case 59:return new Ki(r,"320","13");case 60:return new Ki(r,"310","15");case 61:return new Ki(r,"320","15");case 62:return new Ki(r,"310","17");case 63:return new Ki(r,"320","17")}}catch(i){throw console.log(i),new Gs("unknown decoder: "+r)}}var vx=function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}(),YT=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,a){t.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},r}(),jT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qi=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$T=function(r){jT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(u){if(u instanceof j){if(!this.pairs.length)throw new j;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new j},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,a,o=n;o<this.rows.length;o++){var u=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,qi(t)),c=l.next();!c.done;c=l.next()){var d=c.value;this.pairs.push(d.getPairs())}}catch(g){i={error:g}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var v=new Array(t);v.push(u);try{return this.checkRows(v,o+1)}catch(g){console.log(g)}}}throw new j},e.isValidSequence=function(t){var n,i;try{for(var a=qi(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var u=o.value;if(!(t.length>u.length)){for(var l=!0,c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!==u[c]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>t){o=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new YT(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,a,o,u,l,c;try{for(var d=qi(n),v=d.next();!v.done;v=d.next()){var g=v.value;if(g.getPairs().length!==t.length){var y=!0;try{for(var m=(o=void 0,qi(g.getPairs())),A=m.next();!A.done;A=m.next()){var E=A.value,w=!1;try{for(var C=(l=void 0,qi(t)),I=C.next();!I.done;I=C.next()){var b=I.value;if(vx.equals(E,b)){w=!0;break}}}catch(R){l={error:R}}finally{try{I&&!I.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}w||(y=!1)}}catch(R){o={error:R}}finally{try{A&&!A.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}}}}catch(R){i={error:R}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,a,o,u,l,c;try{for(var d=qi(n),v=d.next();!v.done;v=d.next()){var g=v.value,y=!0;try{for(var m=(o=void 0,qi(t)),A=m.next();!A.done;A=m.next()){var E=A.value,w=!1;try{for(var C=(l=void 0,qi(g.getPairs())),I=C.next();!I.done;I=C.next()){var b=I.value;if(E.equals(b)){w=!0;break}}}catch(R){l={error:R}}finally{try{I&&!I.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}if(!w){y=!1;break}}}catch(R){o={error:R}}finally{try{A&&!A.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}if(y)return!0}}catch(R){i={error:R}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=CT.buildBitArray(t),i=WT(n),a=i.parseInformation(),o=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],u[0],u[1]];return new Nr(a,null,null,l,ge.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,u=1;u<this.pairs.size();++u){var l=this.pairs.get(u);a+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(a+=c.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,u=!0,l=-1;do this.findNextPair(t,n,l),o=this.parseFoundFinderPattern(t,i,a),o===null?l=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var c=this.decodeDataCharacter(t,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new j;var d;try{d=this.decodeDataCharacter(t,o,a,!1)}catch(v){d=null,console.log(v)}return new vx(c,d,o,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=t.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(n))u=0;else{var l=n[n.length-1];u=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var d=!1;u<o&&(d=!t.get(u),!!d);)u++;for(var v=0,g=u,y=u;y<o;y++)if(t.get(y)!==d)a[v]++;else{if(v===3){if(c&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=g,this.startEnd[1]=y;return}c&&e.reverseCounters(a),g+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,v--}else v++;a[v]=1,d=!d}throw new j},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var a=t[i];t[i]=t[n-i-1],t[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,n,i){var a,o,u;if(i){for(var l=this.startEnd[0]-1;l>=0&&!t.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,u=this.startEnd[1]}else o=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];var c=this.getDecodeFinderCounters();xt.arraycopy(c,0,c,1,c.length-1),c[0]=a;var d;try{d=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new xm(d,[o,u],o,u,n)},e.prototype.decodeDataCharacter=function(t,n,i,a){for(var o=this.getDataCharacterCounters(),u=0;u<o.length;u++)o[u]=0;if(a)e.recordPatternInReverse(t,n.getStartEnd()[0],o);else{e.recordPattern(t,n.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var d=o[l];o[l]=o[c],o[c]=d}}var v=17,g=Ye.sum(new Int32Array(o))/v,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new j;for(var m=this.getOddCounts(),A=this.getEvenCounts(),E=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var C=1*o[l]/g,I=C+.5;if(I<1){if(C<.3)throw new j;I=1}else if(I>8){if(C>8.7)throw new j;I=8}var b=l/2;(l&1)===0?(m[b]=I,E[b]=C-I):(A[b]=I,w[b]=C-I)}this.adjustOddEvenCounts(v);for(var R=4*n.getValue()+(i?0:2)+(a?0:1)-1,M=0,L=0,l=m.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var z=e.WEIGHTS[R][2*l];L+=m[l]*z}M+=m[l]}for(var K=0,l=A.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var z=e.WEIGHTS[R][2*l+1];K+=A[l]*z}var Z=L+K;if((M&1)!==0||M>13||M<4)throw new j;var le=(13-M)/2,te=e.SYMBOL_WIDEST[le],fe=9-te,Ve=ko.getRSSvalue(m,te,!0),Le=ko.getRSSvalue(A,fe,!1),Y=e.EVEN_TOTAL_SUBSET[le],ie=e.GSUM[le],ve=Ve*Y+Le+ie;return new Gl(ve,Z)},e.isNotA1left=function(t,n,i){return!(t.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=Ye.sum(new Int32Array(this.getOddCounts())),i=Ye.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var u=!1,l=!1;i>13?l=!0:i<4&&(u=!0);var c=n+i-t,d=(n&1)===1,v=(i&1)===0;if(c===1)if(d){if(v)throw new j;o=!0}else{if(!v)throw new j;l=!0}else if(c===-1)if(d){if(v)throw new j;a=!0}else{if(!v)throw new j;u=!0}else if(c===0){if(d){if(!v)throw new j;n<i?(a=!0,l=!0):(o=!0,u=!0)}else if(v)throw new j}else throw new j;if(a){if(o)throw new j;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(l)throw new j;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Pa),ZT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KT=function(r){ZT(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Gl),qT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),W0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},px=function(r){qT(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var a,o,u,l,c=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var d=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var v=W0(this.possibleLeftPairs),g=v.next();!g.done;g=v.next()){var y=g.value;if(y.getCount()>1)try{for(var m=(u=void 0,W0(this.possibleRightPairs)),A=m.next();!A.done;A=m.next()){var E=A.value;if(E.getCount()>1&&e.checkChecksum(y,E))return e.constructResult(y,E)}}catch(w){u={error:w}}finally{try{A&&!A.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}}}catch(w){a={error:w}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}throw new j},e.addOrTally=function(t,n){var i,a;if(n!=null){var o=!1;try{for(var u=W0(t),l=u.next();!l.done;l=u.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}o||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),a=new String(i).toString(),o=new Te,u=13-a.length;u>0;u--)o.append("0");o.append(a);for(var l=0,u=0;u<13;u++){var c=o.charAt(u).charCodeAt(0)-48;l+=(u&1)===0?3*c:c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var d=t.getFinderPattern().getResultPoints(),v=n.getFinderPattern().getResultPoints();return new Nr(o.toString(),null,0,[d[0],d[1],v[0],v[1]],ge.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,n,i,a){try{var o=this.findFinderPattern(t,n),u=this.parseFoundFinderPattern(t,i,n,o),l=a==null?null:a.get(Nt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;n&&(c=t.getSize()-1-c),l.foundPossibleResultPoint(new ce(c,i))}var d=this.decodeDataCharacter(t,u,!0),v=this.decodeDataCharacter(t,u,!1);return new KT(1597*d.getValue()+v.getValue(),d.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Qt.recordPatternInReverse(t,n.getStartEnd()[0],a);else{Qt.recordPattern(t,n.getStartEnd()[1]+1,a);for(var u=0,l=a.length-1;u<l;u++,l--){var c=a[u];a[u]=a[l],a[l]=c}}for(var d=i?16:15,v=Ye.sum(new Int32Array(a))/d,g=this.getOddCounts(),y=this.getEvenCounts(),m=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var E=a[u]/v,w=Math.floor(E+.5);w<1?w=1:w>8&&(w=8);var C=Math.floor(u/2);(u&1)===0?(g[C]=w,m[C]=E-w):(y[C]=w,A[C]=E-w)}this.adjustOddEvenCounts(i,d);for(var I=0,b=0,u=g.length-1;u>=0;u--)b*=9,b+=g[u],I+=g[u];for(var R=0,M=0,u=y.length-1;u>=0;u--)R*=9,R+=y[u],M+=y[u];var L=b+3*R;if(i){if((I&1)!==0||I>12||I<4)throw new j;var z=(12-I)/2,K=e.OUTSIDE_ODD_WIDEST[z],Z=9-K,le=ko.getRSSvalue(g,K,!1),te=ko.getRSSvalue(y,Z,!0),fe=e.OUTSIDE_EVEN_TOTAL_SUBSET[z],Ve=e.OUTSIDE_GSUM[z];return new Gl(le*fe+te+Ve,L)}else{if((M&1)!==0||M>10||M<4)throw new j;var z=(10-M)/2,K=e.INSIDE_ODD_WIDEST[z],Z=9-K,le=ko.getRSSvalue(g,K,!0),te=ko.getRSSvalue(y,Z,!1),Le=e.INSIDE_ODD_TOTAL_SUBSET[z],Ve=e.INSIDE_GSUM[z];return new Gl(te*Le+le+Ve,L)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),o=!1,u=0;u<a&&(o=!t.get(u),n!==o);)u++;for(var l=0,c=u,d=u;d<a;d++)if(t.get(d)!==o)i[l]++;else{if(l===3){if(Pa.isFinderPattern(i))return[c,d];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new j},e.prototype.parseFoundFinderPattern=function(t,n,i,a){for(var o=t.get(a[0]),u=a[0]-1;u>=0&&o!==t.get(u);)u--;u++;var l=a[0]-u,c=this.getDecodeFinderCounters(),d=new Int32Array(c.length);xt.arraycopy(c,0,d,1,c.length-1),d[0]=l;var v=this.parseFinderValue(d,e.FINDER_PATTERNS),g=u,y=a[1];return i&&(g=t.getSize()-1-g,y=t.getSize()-1-y),new xm(v,[u,a[1]],g,y,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=Ye.sum(new Int32Array(this.getOddCounts())),a=Ye.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1,l=!1,c=!1;t?(i>12?u=!0:i<4&&(o=!0),a>12?c=!0:a<4&&(l=!0)):(i>11?u=!0:i<5&&(o=!0),a>10?c=!0:a<4&&(l=!0));var d=i+a-n,v=(i&1)===(t?1:0),g=(a&1)===1;if(d===1)if(v){if(g)throw new j;u=!0}else{if(!g)throw new j;c=!0}else if(d===-1)if(v){if(g)throw new j;o=!0}else{if(!g)throw new j;l=!0}else if(d===0){if(v){if(!g)throw new j;i<a?(o=!0,c=!0):(u=!0,l=!0)}else if(g)throw new j}else throw new j;if(o){if(u)throw new j;Pa.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Pa.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new j;Pa.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Pa.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Pa),QT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ys=function(r){QT(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(Nt.POSSIBLE_FORMATS):null,a=t&&t.get(Nt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(ge.EAN_13)||i.includes(ge.UPC_A)||i.includes(ge.EAN_8)||i.includes(ge.UPC_E))&&n.readers.push(new X0(t)),i.includes(ge.CODE_39)&&n.readers.push(new ax(a)),i.includes(ge.CODE_93)&&n.readers.push(new ox),i.includes(ge.CODE_128)&&n.readers.push(new ix),i.includes(ge.ITF)&&n.readers.push(new ux),i.includes(ge.CODABAR)&&n.readers.push(new mT),i.includes(ge.RSS_14)&&n.readers.push(new px),i.includes(ge.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new $T))),n.readers.length===0&&(n.readers.push(new X0(t)),n.readers.push(new ax),n.readers.push(new ox),n.readers.push(new X0(t)),n.readers.push(new ix),n.readers.push(new ux),n.readers.push(new px)),n}return e.prototype.decodeRow=function(t,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,n,i)}catch{}throw new j},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Qt),JT=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){JT(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new ys(n),t,n)||this}return e})(nu);var gx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Je=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),Ze=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),e5=function(){function r(e,t,n,i,a,o){var u,l;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var c=0,d=o.getECCodewords(),v=o.getECBlocks();try{for(var g=gx(v),y=g.next();!y.done;y=g.next()){var m=y.value;c+=m.getCount()*(m.getDataCodewords()+d)}}catch(A){u={error:A}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(u)throw u.error}}this.totalCodewords=c}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if((e&1)!==0||(t&1)!==0)throw new re;try{for(var a=gx(r.VERSIONS),o=a.next();!o.done;o=a.next()){var u=o.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new re},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new Je(5,new Ze(1,3))),new r(2,12,12,10,10,new Je(7,new Ze(1,5))),new r(3,14,14,12,12,new Je(10,new Ze(1,8))),new r(4,16,16,14,14,new Je(12,new Ze(1,12))),new r(5,18,18,16,16,new Je(14,new Ze(1,18))),new r(6,20,20,18,18,new Je(18,new Ze(1,22))),new r(7,22,22,20,20,new Je(20,new Ze(1,30))),new r(8,24,24,22,22,new Je(24,new Ze(1,36))),new r(9,26,26,24,24,new Je(28,new Ze(1,44))),new r(10,32,32,14,14,new Je(36,new Ze(1,62))),new r(11,36,36,16,16,new Je(42,new Ze(1,86))),new r(12,40,40,18,18,new Je(48,new Ze(1,114))),new r(13,44,44,20,20,new Je(56,new Ze(1,144))),new r(14,48,48,22,22,new Je(68,new Ze(1,174))),new r(15,52,52,24,24,new Je(42,new Ze(2,102))),new r(16,64,64,14,14,new Je(56,new Ze(2,140))),new r(17,72,72,16,16,new Je(36,new Ze(4,92))),new r(18,80,80,18,18,new Je(48,new Ze(4,114))),new r(19,88,88,20,20,new Je(56,new Ze(4,144))),new r(20,96,96,22,22,new Je(68,new Ze(4,174))),new r(21,104,104,24,24,new Je(56,new Ze(6,136))),new r(22,120,120,18,18,new Je(68,new Ze(6,175))),new r(23,132,132,20,20,new Je(62,new Ze(8,163))),new r(24,144,144,22,22,new Je(62,new Ze(8,156),new Ze(2,155))),new r(25,8,18,6,16,new Je(7,new Ze(1,5))),new r(26,8,32,6,14,new Je(11,new Ze(1,10))),new r(27,12,26,10,24,new Je(14,new Ze(1,16))),new r(28,12,36,10,16,new Je(18,new Ze(1,22))),new r(29,16,36,14,16,new Je(24,new Ze(1,32))),new r(30,16,48,14,22,new Je(28,new Ze(1,49)))]},r.VERSIONS=r.buildVersions(),r}(),t5=function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new re;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Jn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return e5.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),u=!1,l=!1,c=!1,d=!1;do if(n===a&&i===0&&!u)e[t++]=this.readCorner1(a,o)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!l)e[t++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&(o&7)===0&&!c)e[t++]=this.readCorner3(a,o)&255,n-=2,i+=2,c=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[t++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(t!==this.version.getTotalCodewords())throw new re;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var a=0;return this.readModule(e-2,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t,n,i)&&(a|=1),a<<=1,this.readModule(e,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e,t,n,i)&&(a|=1),a},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new ye("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/i|0,u=n/a|0,l=o*i,c=u*a,d=new Jn(c,l),v=0;v<o;++v)for(var g=v*i,y=0;y<u;++y)for(var m=y*a,A=0;A<i;++A)for(var E=v*(i+2)+1+A,w=g+A,C=0;C<a;++C){var I=y*(a+2)+1+C;if(e.get(I,E)){var b=m+C;d.set(b,w)}}return d},r}(),yx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r5=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,a,o,u=t.getECBlocks(),l=0,c=u.getECBlocks();try{for(var d=yx(c),v=d.next();!v.done;v=d.next()){var g=v.value;l+=g.getCount()}}catch(Ve){n={error:Ve}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var y=new Array(l),m=0;try{for(var A=yx(c),E=A.next();!E.done;E=A.next())for(var g=E.value,w=0;w<g.getCount();w++){var C=g.getDataCodewords(),I=u.getECCodewords()+C;y[m++]=new r(C,new Uint8Array(I))}}catch(Ve){a={error:Ve}}finally{try{E&&!E.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}for(var b=y[0].codewords.length,R=b-u.getECCodewords(),M=R-1,L=0,w=0;w<M;w++)for(var z=0;z<m;z++)y[z].codewords[w]=e[L++];for(var K=t.getVersionNumber()===24,Z=K?8:m,z=0;z<Z;z++)y[z].codewords[R-1]=e[L++];for(var le=y[0].codewords.length,w=R;w<le;w++)for(var z=0;z<m;z++){var te=K?(z+8)%m:z,fe=K&&te>7?w-1:w;y[te].codewords[fe]=e[L++]}if(L!==e.length)throw new ye;return y},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),Am=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ye(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,u=e<o?e:o,l=o-u,c=255>>8-u<<l;t=(a[i]&c)>>l,e-=u,n+=u,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;t=t<<e|(a[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}(),Vt;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vt||(Vt={}));var n5=function(){function r(){}return r.decode=function(e){var t=new Am(e),n=new Te,i=new Te,a=new Array,o=Vt.ASCII_ENCODE;do if(o===Vt.ASCII_ENCODE)o=this.decodeAsciiSegment(t,n,i);else{switch(o){case Vt.C40_ENCODE:this.decodeC40Segment(t,n);break;case Vt.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case Vt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case Vt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case Vt.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new re}o=Vt.ASCII_ENCODE}while(o!==Vt.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new nc(e,n.toString(),a.length===0?null:a,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new re;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),Vt.ASCII_ENCODE;if(a===129)return Vt.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return Vt.C40_ENCODE;case 231:return Vt.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return Vt.ANSIX12_ENCODE;case 239:return Vt.TEXT_ENCODE;case 240:return Vt.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new re;break}}while(e.available()>0);return Vt.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var u=0;u<3;u++){var l=i[u];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else throw new re;break;case 1:n?(t.append(String.fromCharCode(l+128)),n=!1):t.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:n=!0;break;default:throw new re}a=0;break;case 3:n?(t.append(String.fromCharCode(l+224)),n=!1):t.append(String.fromCharCode(l+96)),a=0;break;default:throw new re}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var u=0;u<3;u++){var l=i[u];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else throw new re;break;case 1:n?(t.append(String.fromCharCode(l+128)),n=!1):t.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:n=!0;break;default:throw new re}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c),a=0}else throw new re;break;default:throw new re}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new re;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new re;for(var u=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new re;u[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(u);try{t.append(Sn.decode(u,ke.ISO88591))}catch(c){throw new Gs("Platform does not support required encoding: "+c.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r}(),i5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a5=function(){function r(){this.rsDecoder=new ic($r.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new t5(e),a=i.getVersion(),o=i.readCodewords(),u=r5.getDataBlocks(o,a),l=0;try{for(var c=i5(u),d=c.next();!d.done;d=c.next()){var v=d.value;l+=v.getNumDataCodewords()}}catch(I){t={error:I}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}for(var g=new Uint8Array(l),y=u.length,m=0;m<y;m++){var A=u[m],E=A.getCodewords(),w=A.getNumDataCodewords();this.correctErrors(E,w);for(var C=0;C<w;C++)g[C*y+m]=E[C]}return n5.decode(g)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new lr}for(var i=0;i<t;i++)e[i]=n[i]},r}(),o5=function(){function r(e){this.image=e,this.rectangleDetector=new Rh(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new j;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],a=t[2],o=t[3],u=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(u&1)===1&&(u+=1),(l&1)===1&&(l+=1),4*u<7*l&&4*l<7*u&&(u=l=Math.max(u,l));var c=r.sampleGrid(this.image,n,i,a,o,u,l);return new kd(c,[n,i,a,o])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new ce(e.getX()+i,e.getY()+a)},r.moveAway=function(e,t,n){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<n?a-=1:a+=1,new ce(i,a)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(t,n),u=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),c=this.transitionsBetween(a,t),d=o,v=[a,t,n,i];return d>u&&(d=u,v[0]=t,v[1]=n,v[2]=i,v[3]=a),d>l&&(d=l,v[0]=n,v[1]=i,v[2]=a,v[3]=t),d>c&&(v[0]=i,v[1]=a,v[2]=t,v[3]=n),v},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),u=r.shiftPoint(n,i,(o+1)*4),l=r.shiftPoint(i,n,(o+1)*4),c=this.transitionsBetween(u,t),d=this.transitionsBetween(l,a);return c<d?(e[0]=t,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),u=this.transitionsBetween(n,a),l=r.shiftPoint(t,n,(u+1)*4),c=r.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),u=this.transitionsBetween(c,a);var d=new ce(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),v=new ce(a.getX()+(t.getX()-n.getX())/(u+1),a.getY()+(t.getY()-n.getY())/(u+1));if(!this.isValid(d))return this.isValid(v)?v:null;if(!this.isValid(v))return d;var g=this.transitionsBetween(l,d)+this.transitionsBetween(c,d),y=this.transitionsBetween(l,v)+this.transitionsBetween(c,v);return g>y?d:v},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,u=this.transitionsBetween(i,a)+1,l=r.shiftPoint(t,n,u*4),c=r.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,u=this.transitionsBetween(c,a)+1,(o&1)===1&&(o+=1),(u&1)===1&&(u+=1);var d=(t.getX()+n.getX()+i.getX()+a.getX())/4,v=(t.getY()+n.getY()+i.getY()+a.getY())/4;t=r.moveAway(t,d,v),n=r.moveAway(n,d,v),i=r.moveAway(i,d,v),a=r.moveAway(a,d,v);var g,y;return l=r.shiftPoint(t,n,u*4),l=r.shiftPoint(l,a,o*4),g=r.shiftPoint(n,t,u*4),g=r.shiftPoint(g,i,o*4),c=r.shiftPoint(i,a,u*4),c=r.shiftPoint(c,n,o*4),y=r.shiftPoint(a,i,u*4),y=r.shiftPoint(y,t,o*4),[l,g,c,y]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,a,o,u){var l=Ud.getInstance();return l.sampleGrid(e,o,u,.5,.5,o-.5,.5,o-.5,u-.5,.5,u-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),u=Math.abs(o-i)>Math.abs(a-n);if(u){var l=n;n=i,i=l,l=a,a=o,o=l}for(var c=Math.abs(a-n),d=Math.abs(o-i),v=-c/2,g=i<o?1:-1,y=n<a?1:-1,m=0,A=this.image.get(u?i:n,u?n:i),E=n,w=i;E!==a;E+=y){var C=this.image.get(u?w:E,u?E:w);if(C!==A&&(m++,A=C),v+=d,v>0){if(w===o)break;w+=g,v-=c}}return m},r}(),Bh=function(){function r(){this.decoder=new a5}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(Nt.PURE_BARCODE)){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=r.NO_POINTS}else{var o=new o5(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var u=n.getRawBytes(),l=new Nr(n.getText(),u,8*u.length,i,ge.DATA_MATRIX,xt.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(wr.BYTE_SEGMENTS,c);var d=n.getECLevel();return d!=null&&l.putMetadata(wr.ERROR_CORRECTION_LEVEL,d),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new j;var i=this.moduleSize(t,e),a=t[1],o=n[1],u=t[0],l=n[0],c=(l-u+1)/i,d=(o-a+1)/i;if(c<=0||d<=0)throw new j;var v=i/2;a+=v,u+=v;for(var g=new Jn(c,d),y=0;y<d;y++)for(var m=a+y*i,A=0;A<c;A++)e.get(u+A*i,m)&&g.set(A,y);return g},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],a=e[1];i<n&&t.get(i,a);)i++;if(i===n)throw new j;var o=i-e[0];if(o===0)throw new j;return o},r.NO_POINTS=[],r}(),u5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){u5(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Bh,t)||this}return e})(nu);var Uo;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Uo||(Uo={}));var s5=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new Mn(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new ye;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Uo.L,"L",1),r.M=new r(Uo.M,"M",0),r.Q=new r(Uo.Q,"Q",3),r.H=new r(Uo.H,"H",2),r}(),f5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Em=function(){function r(e){this.errorCorrectionLevel=s5.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return De.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var u=f5(r.FORMAT_INFO_DECODE_LOOKUP),l=u.next();!l.done;l=u.next()){var c=l.value,d=c[0];if(d===e||d===t)return new r(c[1]);var v=r.numBitsDiffering(e,d);v<a&&(o=c[1],a=v),e!==t&&(v=r.numBitsDiffering(t,d),v<a&&(o=c[1],a=v))}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return a<=3?new r(o):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}(),l5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var a=l5(i),o=a.next();!o.done;o=a.next()){var u=o.value;n+=u.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),O=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),c5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Va=function(){function r(e,t){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var u=0,l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();try{for(var d=c5(c),v=d.next();!v.done;v=d.next()){var g=v.value;u+=g.getCount()*(g.getDataCodewords()+l)}}catch(y){n={error:y}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=u}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new re;try{return this.getVersionForNumber((e-17)/4)}catch{throw new re}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new ye;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var a=r.VERSION_DECODE_INFO[i];if(a===e)return r.getVersionForNumber(i+7);var o=Em.numBitsDiffering(e,a);o<t&&(n=i+7,t=o)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Jn(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new H(7,new O(1,19)),new H(10,new O(1,16)),new H(13,new O(1,13)),new H(17,new O(1,9))),new r(2,Int32Array.from([6,18]),new H(10,new O(1,34)),new H(16,new O(1,28)),new H(22,new O(1,22)),new H(28,new O(1,16))),new r(3,Int32Array.from([6,22]),new H(15,new O(1,55)),new H(26,new O(1,44)),new H(18,new O(2,17)),new H(22,new O(2,13))),new r(4,Int32Array.from([6,26]),new H(20,new O(1,80)),new H(18,new O(2,32)),new H(26,new O(2,24)),new H(16,new O(4,9))),new r(5,Int32Array.from([6,30]),new H(26,new O(1,108)),new H(24,new O(2,43)),new H(18,new O(2,15),new O(2,16)),new H(22,new O(2,11),new O(2,12))),new r(6,Int32Array.from([6,34]),new H(18,new O(2,68)),new H(16,new O(4,27)),new H(24,new O(4,19)),new H(28,new O(4,15))),new r(7,Int32Array.from([6,22,38]),new H(20,new O(2,78)),new H(18,new O(4,31)),new H(18,new O(2,14),new O(4,15)),new H(26,new O(4,13),new O(1,14))),new r(8,Int32Array.from([6,24,42]),new H(24,new O(2,97)),new H(22,new O(2,38),new O(2,39)),new H(22,new O(4,18),new O(2,19)),new H(26,new O(4,14),new O(2,15))),new r(9,Int32Array.from([6,26,46]),new H(30,new O(2,116)),new H(22,new O(3,36),new O(2,37)),new H(20,new O(4,16),new O(4,17)),new H(24,new O(4,12),new O(4,13))),new r(10,Int32Array.from([6,28,50]),new H(18,new O(2,68),new O(2,69)),new H(26,new O(4,43),new O(1,44)),new H(24,new O(6,19),new O(2,20)),new H(28,new O(6,15),new O(2,16))),new r(11,Int32Array.from([6,30,54]),new H(20,new O(4,81)),new H(30,new O(1,50),new O(4,51)),new H(28,new O(4,22),new O(4,23)),new H(24,new O(3,12),new O(8,13))),new r(12,Int32Array.from([6,32,58]),new H(24,new O(2,92),new O(2,93)),new H(22,new O(6,36),new O(2,37)),new H(26,new O(4,20),new O(6,21)),new H(28,new O(7,14),new O(4,15))),new r(13,Int32Array.from([6,34,62]),new H(26,new O(4,107)),new H(22,new O(8,37),new O(1,38)),new H(24,new O(8,20),new O(4,21)),new H(22,new O(12,11),new O(4,12))),new r(14,Int32Array.from([6,26,46,66]),new H(30,new O(3,115),new O(1,116)),new H(24,new O(4,40),new O(5,41)),new H(20,new O(11,16),new O(5,17)),new H(24,new O(11,12),new O(5,13))),new r(15,Int32Array.from([6,26,48,70]),new H(22,new O(5,87),new O(1,88)),new H(24,new O(5,41),new O(5,42)),new H(30,new O(5,24),new O(7,25)),new H(24,new O(11,12),new O(7,13))),new r(16,Int32Array.from([6,26,50,74]),new H(24,new O(5,98),new O(1,99)),new H(28,new O(7,45),new O(3,46)),new H(24,new O(15,19),new O(2,20)),new H(30,new O(3,15),new O(13,16))),new r(17,Int32Array.from([6,30,54,78]),new H(28,new O(1,107),new O(5,108)),new H(28,new O(10,46),new O(1,47)),new H(28,new O(1,22),new O(15,23)),new H(28,new O(2,14),new O(17,15))),new r(18,Int32Array.from([6,30,56,82]),new H(30,new O(5,120),new O(1,121)),new H(26,new O(9,43),new O(4,44)),new H(28,new O(17,22),new O(1,23)),new H(28,new O(2,14),new O(19,15))),new r(19,Int32Array.from([6,30,58,86]),new H(28,new O(3,113),new O(4,114)),new H(26,new O(3,44),new O(11,45)),new H(26,new O(17,21),new O(4,22)),new H(26,new O(9,13),new O(16,14))),new r(20,Int32Array.from([6,34,62,90]),new H(28,new O(3,107),new O(5,108)),new H(26,new O(3,41),new O(13,42)),new H(30,new O(15,24),new O(5,25)),new H(28,new O(15,15),new O(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new H(28,new O(4,116),new O(4,117)),new H(26,new O(17,42)),new H(28,new O(17,22),new O(6,23)),new H(30,new O(19,16),new O(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new H(28,new O(2,111),new O(7,112)),new H(28,new O(17,46)),new H(30,new O(7,24),new O(16,25)),new H(24,new O(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new H(30,new O(4,121),new O(5,122)),new H(28,new O(4,47),new O(14,48)),new H(30,new O(11,24),new O(14,25)),new H(30,new O(16,15),new O(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new H(30,new O(6,117),new O(4,118)),new H(28,new O(6,45),new O(14,46)),new H(30,new O(11,24),new O(16,25)),new H(30,new O(30,16),new O(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new H(26,new O(8,106),new O(4,107)),new H(28,new O(8,47),new O(13,48)),new H(30,new O(7,24),new O(22,25)),new H(30,new O(22,15),new O(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new H(28,new O(10,114),new O(2,115)),new H(28,new O(19,46),new O(4,47)),new H(28,new O(28,22),new O(6,23)),new H(30,new O(33,16),new O(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new H(30,new O(8,122),new O(4,123)),new H(28,new O(22,45),new O(3,46)),new H(30,new O(8,23),new O(26,24)),new H(30,new O(12,15),new O(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new H(30,new O(3,117),new O(10,118)),new H(28,new O(3,45),new O(23,46)),new H(30,new O(4,24),new O(31,25)),new H(30,new O(11,15),new O(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new H(30,new O(7,116),new O(7,117)),new H(28,new O(21,45),new O(7,46)),new H(30,new O(1,23),new O(37,24)),new H(30,new O(19,15),new O(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new H(30,new O(5,115),new O(10,116)),new H(28,new O(19,47),new O(10,48)),new H(30,new O(15,24),new O(25,25)),new H(30,new O(23,15),new O(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new H(30,new O(13,115),new O(3,116)),new H(28,new O(2,46),new O(29,47)),new H(30,new O(42,24),new O(1,25)),new H(30,new O(23,15),new O(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new H(30,new O(17,115)),new H(28,new O(10,46),new O(23,47)),new H(30,new O(10,24),new O(35,25)),new H(30,new O(19,15),new O(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new H(30,new O(17,115),new O(1,116)),new H(28,new O(14,46),new O(21,47)),new H(30,new O(29,24),new O(19,25)),new H(30,new O(11,15),new O(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new H(30,new O(13,115),new O(6,116)),new H(28,new O(14,46),new O(23,47)),new H(30,new O(44,24),new O(7,25)),new H(30,new O(59,16),new O(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new H(30,new O(12,121),new O(7,122)),new H(28,new O(12,47),new O(26,48)),new H(30,new O(39,24),new O(14,25)),new H(30,new O(22,15),new O(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new H(30,new O(6,121),new O(14,122)),new H(28,new O(6,47),new O(34,48)),new H(30,new O(46,24),new O(10,25)),new H(30,new O(2,15),new O(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new H(30,new O(17,122),new O(4,123)),new H(28,new O(29,46),new O(14,47)),new H(30,new O(49,24),new O(10,25)),new H(30,new O(24,15),new O(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new H(30,new O(4,122),new O(18,123)),new H(28,new O(13,46),new O(32,47)),new H(30,new O(48,24),new O(14,25)),new H(30,new O(42,15),new O(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new H(30,new O(20,117),new O(4,118)),new H(28,new O(40,47),new O(7,48)),new H(30,new O(43,24),new O(22,25)),new H(30,new O(10,15),new O(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new H(30,new O(19,118),new O(6,119)),new H(28,new O(18,47),new O(31,48)),new H(30,new O(34,24),new O(34,25)),new H(30,new O(20,15),new O(61,16)))],r}(),ir;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(ir||(ir={}));var xx=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[ir.DATA_MASK_000,new r(ir.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[ir.DATA_MASK_001,new r(ir.DATA_MASK_001,function(e,t){return(e&1)===0})],[ir.DATA_MASK_010,new r(ir.DATA_MASK_010,function(e,t){return t%3===0})],[ir.DATA_MASK_011,new r(ir.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[ir.DATA_MASK_100,new r(ir.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[ir.DATA_MASK_101,new r(ir.DATA_MASK_101,function(e,t){return e*t%6===0})],[ir.DATA_MASK_110,new r(ir.DATA_MASK_110,function(e,t){return e*t%6<3})],[ir.DATA_MASK_111,new r(ir.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}(),h5=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new re;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=Em.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new re},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Va.getVersionForNumber(t);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var u=Va.decodeVersionInformation(n);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(u=Va.decodeVersionInformation(n),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new re},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=xx.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),o=!0,u=new Uint8Array(t.getTotalCodewords()),l=0,c=0,d=0,v=i-1;v>0;v-=2){v===6&&v--;for(var g=0;g<i;g++)for(var y=o?i-1-g:g,m=0;m<2;m++)a.get(v-m,y)||(d++,c<<=1,this.bitMatrix.get(v-m,y)&&(c|=1),d===8&&(u[l++]=c,d=0,c=0));o=!o}if(l!==t.getTotalCodewords())throw new re;return u},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=xx.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r}(),_x=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d5=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,a,o,u;if(e.length!==t.getTotalCodewords())throw new ye;var l=t.getECBlocksForLevel(n),c=0,d=l.getECBlocks();try{for(var v=_x(d),g=v.next();!g.done;g=v.next()){var y=g.value;c+=y.getCount()}}catch(fe){i={error:fe}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}var m=new Array(c),A=0;try{for(var E=_x(d),w=E.next();!w.done;w=E.next())for(var y=w.value,C=0;C<y.getCount();C++){var I=y.getDataCodewords(),b=l.getECCodewordsPerBlock()+I;m[A++]=new r(I,new Uint8Array(b))}}catch(fe){o={error:fe}}finally{try{w&&!w.done&&(u=E.return)&&u.call(E)}finally{if(o)throw o.error}}for(var R=m[0].codewords.length,M=m.length-1;M>=0;){var L=m[M].codewords.length;if(L===R)break;M--}M++;for(var z=R-l.getECCodewordsPerBlock(),K=0,C=0;C<z;C++)for(var Z=0;Z<A;Z++)m[Z].codewords[C]=e[K++];for(var Z=M;Z<A;Z++)m[Z].codewords[z]=e[K++];for(var le=m[0].codewords.length,C=z;C<le;C++)for(var Z=0;Z<A;Z++){var te=Z<M?C:C+1;m[Z].codewords[te]=e[K++]}return m},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),mn;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(mn||(mn={}));var Et=function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new ye;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(mn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(mn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(mn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(mn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(mn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(mn.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(mn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(mn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(mn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(mn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}(),v5=function(){function r(){}return r.decode=function(e,t,n,i){var a=new Am(e),o=new Te,u=new Array,l=-1,c=-1;try{var d=null,v=!1,g=void 0;do{if(a.available()<4)g=Et.TERMINATOR;else{var y=a.readBits(4);g=Et.forBits(y)}switch(g){case Et.TERMINATOR:break;case Et.FNC1_FIRST_POSITION:case Et.FNC1_SECOND_POSITION:v=!0;break;case Et.STRUCTURED_APPEND:if(a.available()<16)throw new re;l=a.readBits(8),c=a.readBits(8);break;case Et.ECI:var m=r.parseECIValue(a);if(d=jt.getCharacterSetECIByValue(m),d===null)throw new re;break;case Et.HANZI:var A=a.readBits(4),E=a.readBits(g.getCharacterCountBits(t));A===r.GB2312_SUBSET&&r.decodeHanziSegment(a,o,E);break;default:var w=a.readBits(g.getCharacterCountBits(t));switch(g){case Et.NUMERIC:r.decodeNumericSegment(a,o,w);break;case Et.ALPHANUMERIC:r.decodeAlphanumericSegment(a,o,w,v);break;case Et.BYTE:r.decodeByteSegment(a,o,w,d,u,i);break;case Et.KANJI:r.decodeKanjiSegment(a,o,w);break;default:throw new re}break}}while(g!==Et.TERMINATOR)}catch{throw new re}return new nc(e,o.toString(),u.length===0?null:u,n===null?null:n.toString(),l,c)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new re;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),u=o/96<<8&4294967295|o%96;u<959?u+=41377:u+=42657,i[a]=u>>8&255,i[a+1]=u&255,a+=2,n--}try{t.append(Sn.decode(i,ke.GB2312))}catch(l){throw new re(l)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new re;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),u=o/192<<8&4294967295|o%192;u<7936?u+=33088:u+=49472,i[a]=u>>8,i[a+1]=u,a+=2,n--}try{t.append(Sn.decode(i,ke.SHIFT_JIS))}catch(l){throw new re(l)}},r.decodeByteSegment=function(e,t,n,i,a,o){if(8*n>e.available())throw new re;for(var u=new Uint8Array(n),l=0;l<n;l++)u[l]=e.readBits(8);var c;i===null?c=ke.guessEncoding(u,o):c=i.getName();try{t.append(Sn.decode(u,c))}catch(d){throw new re(d)}a.push(u)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new re;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var a=t.length();n>1;){if(e.available()<11)throw new re;var o=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(o/45))),t.append(r.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new re;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new re;var i=e.readBits(10);if(i>=1e3)throw new re;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new re;var a=e.readBits(7);if(a>=100)throw new re;t.append(r.toAlphaNumericChar(Math.floor(a/10))),t.append(r.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new re;var o=e.readBits(4);if(o>=10)throw new re;t.append(r.toAlphaNumericChar(o))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new re},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}(),wm=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}(),mx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p5=function(){function r(){this.rsDecoder=new ic($r.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Jn.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new h5(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,t);return a.setOther(new wm(!0)),a}catch(o){throw i!==null?i:o}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,a,o,u=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),d=d5.getDataBlocks(c,u,l),v=0;try{for(var g=mx(d),y=g.next();!y.done;y=g.next()){var m=y.value;v+=m.getNumDataCodewords()}}catch(M){n={error:M}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var A=new Uint8Array(v),E=0;try{for(var w=mx(d),C=w.next();!C.done;C=w.next()){var m=C.value,I=m.getCodewords(),b=m.getNumDataCodewords();this.correctErrors(I,b);for(var R=0;R<b;R++)A[E++]=I[R]}}catch(M){a={error:M}}finally{try{C&&!C.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}return v5.decode(A,u,l,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new lr}for(var i=0;i<t;i++)e[i]=n[i]},r}(),g5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),y5=function(r){g5(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=(this.getX()+n)/2,o=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new e(a,o,u)},e}(ce),x5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_5=function(){function r(e,t,n,i,a,o,u){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,a=this.startY+t/2,o=new Int32Array(3),u=this.image,l=0;l<t;l++){var c=a+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!u.get(d,c);)d++;for(var v=0;d<i;){if(u.get(d,c))if(v===1)o[1]++;else if(v===2){if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,c,d);if(g!==null)return g}o[0]=o[2],o[1]=1,o[2]=0,v=1}else o[++v]++;else v===1&&v++,o[v]++;d++}if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,c,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var a=this.image,o=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var l=e;l>=0&&a.get(t,l)&&u[1]<=n;)u[1]++,l--;if(l<0||u[1]>n)return NaN;for(;l>=0&&!a.get(t,l)&&u[0]<=n;)u[0]++,l--;if(u[0]>n)return NaN;for(l=e+1;l<o&&a.get(t,l)&&u[1]<=n;)u[1]++,l++;if(l===o||u[1]>n)return NaN;for(;l<o&&!a.get(t,l)&&u[2]<=n;)u[2]++,l++;if(u[2]>n)return NaN;var c=u[0]+u[1]+u[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(u)?r.centerFromEnd(u,l):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,a,o=e[0]+e[1]+e[2],u=r.centerFromEnd(e,n),l=this.crossCheckVertical(t,u,2*e[1],o);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var d=x5(this.possibleCenters),v=d.next();!v.done;v=d.next()){var g=v.value;if(g.aboutEquals(c,l,u))return g.combineEstimate(l,u,c)}}catch(m){i={error:m}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var y=new y5(u,l,c);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null},r}(),m5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),A5=function(r){m5(e,r);function e(t,n,i,a){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,u=(this.count*this.getY()+t)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,u,l,a)},e}(ce),E5=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}(),ls=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w5=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(Nt.TRY_HARDER)!==void 0,n=e!=null&&e.get(Nt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),u=Math.floor(3*a/(4*r.MAX_MODULES));(u<r.MIN_SKIP||t)&&(u=r.MIN_SKIP);for(var l=!1,c=new Int32Array(5),d=u-1;d<a&&!l;d+=u){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var v=0,g=0;g<o;g++)if(i.get(g,d))(v&1)===1&&v++,c[v]++;else if((v&1)===0)if(v===4)if(r.foundPatternCross(c)){var y=this.handlePossibleCenter(c,d,g,n);if(y===!0)if(u=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>c[2]&&(d+=m-c[2]-u,g=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,v=3;continue}v=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,v=3;else c[++v]++;else c[v]++;if(r.foundPatternCross(c)){var y=this.handlePossibleCenter(c,d,o,n);y===!0&&(u=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var A=this.selectBestPatterns();return ce.orderBestPatterns(A),new E5(A)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var a=this.getCrossCheckStateCount(),o=0,u=this.image;e>=o&&t>=o&&u.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!u.get(t-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||t<o||a[1]>n)return!1;for(;e>=o&&t>=o&&u.get(t-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=u.getHeight(),c=u.getWidth();for(o=1;e+o<l&&t+o<c&&u.get(t+o,e+o);)a[2]++,o++;if(e+o>=l||t+o>=c)return!1;for(;e+o<l&&t+o<c&&!u.get(t+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||t+o>=c||a[3]>=n)return!1;for(;e+o<l&&t+o<c&&u.get(t+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&r.foundPatternCross(a)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var a=this.image,o=a.getHeight(),u=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(t,l);)u[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(t,l)&&u[1]<=n;)u[1]++,l--;if(l<0||u[1]>n)return NaN;for(;l>=0&&a.get(t,l)&&u[0]<=n;)u[0]++,l--;if(u[0]>n)return NaN;for(l=e+1;l<o&&a.get(t,l);)u[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(t,l)&&u[3]<n;)u[3]++,l++;if(l===o||u[3]>=n)return NaN;for(;l<o&&a.get(t,l)&&u[4]<n;)u[4]++,l++;if(u[4]>=n)return NaN;var c=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(c-i)>=2*i?NaN:r.foundPatternCross(u)?r.centerFromEnd(u,l):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var a=this.image,o=a.getWidth(),u=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,t);)u[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,t)&&u[1]<=n;)u[1]++,l--;if(l<0||u[1]>n)return NaN;for(;l>=0&&a.get(l,t)&&u[0]<=n;)u[0]++,l--;if(u[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,t);)u[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,t)&&u[3]<n;)u[3]++,l++;if(l===o||u[3]>=n)return NaN;for(;l<o&&a.get(l,t)&&u[4]<n;)u[4]++,l++;if(u[4]>=n)return NaN;var c=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(c-i)>=i?NaN:r.foundPatternCross(u)?r.centerFromEnd(u,l):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=r.centerFromEnd(e,n),u=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(u)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(u),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(o),e[2],a)))){for(var l=a/7,c=!1,d=this.possibleCenters,v=0,g=d.length;v<g;v++){var y=d[v];if(y.aboutEquals(l,u,o)){d[v]=y.combineEstimate(u,o,l),c=!0;break}}if(!c){var m=new A5(o,u,l);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=ls(this.possibleCenters),o=a.next();!o.done;o=a.next()){var u=o.value;if(u.getCount()>=r.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,a=0,o=0,u=this.possibleCenters.length;try{for(var l=ls(this.possibleCenters),c=l.next();!c.done;c=l.next()){var d=c.value;d.getCount()>=r.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(A){e={error:A}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var v=o/u,g=0;try{for(var y=ls(this.possibleCenters),m=y.next();!m.done;m=y.next()){var d=m.value;g+=Math.abs(d.getEstimatedModuleSize()-v)}}catch(A){n={error:A}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}return g<=.05*o},r.prototype.selectBestPatterns=function(){var e,t,n,i,a=this.possibleCenters.length;if(a<3)throw new j;var o=this.possibleCenters,u;if(a>3){var l=0,c=0;try{for(var d=ls(this.possibleCenters),v=d.next();!v.done;v=d.next()){var g=v.value,y=g.getEstimatedModuleSize();l+=y,c+=y*y}}catch(R){e={error:R}}finally{try{v&&!v.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}u=l/a;var m=Math.sqrt(c/a-u*u);o.sort(function(R,M){var L=Math.abs(M.getEstimatedModuleSize()-u),z=Math.abs(R.getEstimatedModuleSize()-u);return L<z?-1:L>z?1:0});for(var A=Math.max(.2*u,m),E=0;E<o.length&&o.length>3;E++){var w=o[E];Math.abs(w.getEstimatedModuleSize()-u)>A&&(o.splice(E,1),E--)}}if(o.length>3){var l=0;try{for(var C=ls(o),I=C.next();!I.done;I=C.next()){var b=I.value;l+=b.getEstimatedModuleSize()}}catch(M){n={error:M}}finally{try{I&&!I.done&&(i=C.return)&&i.call(C)}finally{if(n)throw n.error}}u=l/o.length,o.sort(function(M,L){if(L.getCount()===M.getCount()){var z=Math.abs(L.getEstimatedModuleSize()-u),K=Math.abs(M.getEstimatedModuleSize()-u);return z<K?1:z>K?-1:0}else return L.getCount()-M.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}(),C5=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Nt.NEED_RESULT_POINT_CALLBACK);var t=new w5(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,n,i);if(a<1)throw new j("No pattern found in proccess finder.");var o=r.computeDimension(t,n,i,a),u=Va.getProvisionalVersionForDimension(o),l=u.getDimensionForVersion()-7,c=null;if(u.getAlignmentPatternCenters().length>0)for(var d=n.getX()-t.getX()+i.getX(),v=n.getY()-t.getY()+i.getY(),g=1-3/l,y=Math.floor(t.getX()+g*(d-t.getX())),m=Math.floor(t.getY()+g*(v-t.getY())),A=4;A<=16;A<<=1)try{c=this.findAlignmentInRegion(a,y,m,A);break}catch(I){if(!(I instanceof j))throw I}var E=r.createTransform(t,n,i,c,o),w=r.sampleGrid(this.image,E,o),C;return c===null?C=[i,t,n]:C=[i,t,n,c],new kd(w,C)},r.createTransform=function(e,t,n,i,a){var o=a-3.5,u,l,c,d;return i!==null?(u=i.getX(),l=i.getY(),c=o-3,d=c):(u=t.getX()-e.getX()+n.getX(),l=t.getY()-e.getY()+n.getY(),c=o,d=o),ym.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,d,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),u,l,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=Ud.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var a=Ye.round(ce.distance(e,t)/i),o=Ye.round(ce.distance(e,n)/i),u=Math.floor((a+o)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new j("Dimensions could be not found.")}return u},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,n,i),o=1,u=e-(n-e);u<0?(o=e/(e-u),u=0):u>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var l=Math.floor(t-(i-t)*o);return o=1,l<0?(o=t/(t-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(l-t),l=this.image.getHeight()-1),u=Math.floor(e+(u-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,u,l),a-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var a=Math.abs(i-t)>Math.abs(n-e);if(a){var o=e;e=t,t=o,o=n,n=i,i=o}for(var u=Math.abs(n-e),l=Math.abs(i-t),c=-u/2,d=e<n?1:-1,v=t<i?1:-1,g=0,y=n+d,m=e,A=t;m!==y;m+=d){var E=a?A:m,w=a?m:A;if(g===1===this.image.get(E,w)){if(g===2)return Ye.distance(m,A,e,t);g++}if(c+=l,c>0){if(A===i)break;A+=v,c-=u}}return g===2?Ye.distance(n+d,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var a=Math.floor(i*e),o=Math.max(0,t-a),u=Math.min(this.image.getWidth()-1,t+a);if(u-o<e*3)throw new j("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),c=Math.min(this.image.getHeight()-1,n+a);if(c-l<e*3)throw new j("Alignment bottom exceeds estimated module size.");var d=new _5(this.image,o,l,u-o,c-l,e,this.resultPointCallback);return d.find()},r}(),Ph=function(){function r(){this.decoder=new p5}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(Nt.PURE_BARCODE)!==void 0){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,t),i=r.NO_POINTS}else{var o=new C5(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}n.getOther()instanceof wm&&n.getOther().applyMirroredCorrection(i);var u=new Nr(n.getText(),n.getRawBytes(),void 0,i,ge.QR_CODE,void 0),l=n.getByteSegments();l!==null&&u.putMetadata(wr.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&u.putMetadata(wr.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(u.putMetadata(wr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),u.putMetadata(wr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new j;var i=this.moduleSize(t,e),a=t[1],o=n[1],u=t[0],l=n[0];if(u>=l||a>=o)throw new j;if(o-a!==l-u&&(l=u+(o-a),l>=e.getWidth()))throw new j;var c=Math.round((l-u+1)/i),d=Math.round((o-a+1)/i);if(c<=0||d<=0)throw new j;if(d!==c)throw new j;var v=Math.floor(i/2);a+=v,u+=v;var g=u+Math.floor((c-1)*i)-l;if(g>0){if(g>v)throw new j;u-=g}var y=a+Math.floor((d-1)*i)-o;if(y>0){if(y>v)throw new j;a-=y}for(var m=new Jn(c,d),A=0;A<d;A++)for(var E=a+Math.floor(A*i),w=0;w<c;w++)e.get(u+Math.floor(w*i),E)&&m.set(w,A);return m},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),a=e[0],o=e[1],u=!0,l=0;a<i&&o<n;){if(u!==t.get(a,o)){if(++l===5)break;u=!u}a++,o++}if(a===i||o===n)throw new j;return(a-e[0])/7},r.NO_POINTS=new Array,r}(),S5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ge=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return Ye.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=S5(e),u=o.next();!u.done;u=o.next()){var l=u.value;i[a++]=l}}catch(c){t={error:c}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=Kt.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}(),I5=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),T5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b5=function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),a=r.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=r.detect(n,i)),new I5(i,a)},r.detect=function(e,t){for(var n,i,a=new Array,o=0,u=0,l=!1;o<t.getHeight();){var c=r.findVertices(t,o,u);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,u=0;try{for(var d=(n=void 0,T5(a)),v=d.next();!v.done;v=d.next()){var g=v.value;g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())))}}catch(y){n={error:y}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=r.ROW_STEP;continue}if(l=!0,a.push(c),!e)break;c[2]!=null?(u=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(u=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return a},r.findVertices=function(e,t,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),o},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,a,o){for(var u=new Array(4),l=!1,c=new Int32Array(o.length);i<t;i+=r.ROW_STEP){var d=r.findGuardPattern(e,a,i,n,!1,o,c);if(d!=null){for(;i>0;){var v=r.findGuardPattern(e,a,--i,n,!1,o,c);if(v!=null)d=v;else{i++;break}}u[0]=new ce(d[0],i),u[1]=new ce(d[1],i),l=!0;break}}var g=i+1;if(l){for(var y=0,v=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);g<t;g++){var d=r.findGuardPattern(e,v[0],g,n,!1,o,c);if(d!=null&&Math.abs(v[0]-d[0])<r.MAX_PATTERN_DRIFT&&Math.abs(v[1]-d[1])<r.MAX_PATTERN_DRIFT)v=d,y=0;else{if(y>r.SKIPPED_ROW_COUNT_MAX)break;y++}}g-=y+1,u[2]=new ce(v[0],g),u[3]=new ce(v[1],g)}return g-i<r.BARCODE_MIN_HEIGHT&&Kt.fill(u,null),u},r.findGuardPattern=function(e,t,n,i,a,o,u){Kt.fillWithin(u,0,u.length,0);for(var l=t,c=0;e.get(l,n)&&l>0&&c++<r.MAX_PIXEL_DRIFT;)l--;for(var d=l,v=0,g=o.length,y=a;d<i;d++){var m=e.get(d,n);if(m!==y)u[v]++;else{if(v===g-1){if(r.patternMatchVariance(u,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=u[0]+u[1],xt.arraycopy(u,2,u,0,v-1),u[v-1]=0,u[v]=0,v--}else v++;u[v]=1,y=!y}}return v===g-1&&r.patternMatchVariance(u,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,u=0;u<i;u++)a+=e[u],o+=t[u];if(a<o)return 1/0;var l=a/o;n*=l;for(var c=0,d=0;d<i;d++){var v=e[d],g=t[d]*l,y=v>g?v-g:g-v;if(y>n)return 1/0;c+=y}return c/a},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}(),O5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ua=function(){function r(e,t){if(t.length===0)throw new ye;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),xt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=O5(this.coefficients),o=a.next();!o.done;o=a.next()){var u=o.value;i=this.field.add(i,u)}}catch(v){t={error:v}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,d=1;d<c;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new ye("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;xt.arraycopy(n,0,a,0,o);for(var u=o;u<n.length;u++)a[u]=this.field.add(t[u-o],n[u]);return new r(this.field,a)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ye("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ye("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),u=0;u<n;u++)for(var l=t[u],c=0;c<a;c++)o[u+c]=this.field.add(o[u+c],this.field.multiply(l,i[c]));return new r(this.field,o)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ye;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new Te,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}(),D5=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ye;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new gm;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}(),R5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),N5=function(r){R5(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)i.expTable[o]=a,a=a*n%t;for(var o=0;o<t-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Ua(i,new Int32Array([0])),i.one=new Ua(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ye;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new Ua(this,i)},e.PDF417_GF=new e(Ge.NUMBER_OF_CODEWORDS,3),e}(D5),M5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B5=function(){function r(){this.field=N5.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,a,o=new Ua(this.field,e),u=new Int32Array(t),l=!1,c=t;c>0;c--){var d=o.evaluateAt(this.field.exp(c));u[t-c]=d,d!==0&&(l=!0)}if(!l)return 0;var v=this.field.getOne();if(n!=null)try{for(var g=M5(n),y=g.next();!y.done;y=g.next()){var m=y.value,A=this.field.exp(e.length-1-m),E=new Ua(this.field,new Int32Array([this.field.subtract(0,A),1]));v=v.multiply(E)}}catch(z){i={error:z}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}for(var w=new Ua(this.field,u),C=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),w,t),I=C[0],b=C[1],R=this.findErrorLocations(I),M=this.findErrorMagnitudes(b,I,R),c=0;c<R.length;c++){var L=e.length-1-this.field.log(R[c]);if(L<0)throw lr.getChecksumInstance();e[L]=this.field.subtract(e[L],M[c])}return R.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,o=t,u=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var c=a,d=u;if(a=o,u=l,a.isZero())throw lr.getChecksumInstance();o=c;for(var v=this.field.getZero(),g=a.getCoefficient(a.getDegree()),y=this.field.inverse(g);o.getDegree()>=a.getDegree()&&!o.isZero();){var m=o.getDegree()-a.getDegree(),A=this.field.multiply(o.getCoefficient(o.getDegree()),y);v=v.add(this.field.buildMonomial(m,A)),o=o.subtract(a.multiplyByMonomial(m,A))}l=v.multiply(u).subtract(d).negative()}var E=l.getCoefficient(0);if(E===0)throw lr.getChecksumInstance();var w=this.field.inverse(E),C=l.multiply(w),I=o.multiply(w);return[C,I]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==t)throw lr.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,t.getCoefficient(o));for(var u=new Ua(this.field,a),l=n.length,c=new Int32Array(l),o=0;o<l;o++){var d=this.field.inverse(n[o]),v=this.field.subtract(0,e.evaluateAt(d)),g=this.field.inverse(u.evaluateAt(d));c[o]=this.field.multiply(v,g)}return c},r}(),Lh=function(){function r(e,t,n,i,a){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,a)}return r.prototype.constructor_1=function(e,t,n,i,a){var o=t==null||n==null,u=i==null||a==null;if(o&&u)throw new j;o?(t=new ce(0,i.getY()),n=new ce(0,a.getY())):u&&(i=new ce(e.getWidth()-1,t.getY()),a=new ce(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,u=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var d=new ce(l.getX(),c);n?i=d:o=d}if(t>0){var v=n?this.bottomLeft:this.bottomRight,g=Math.trunc(v.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var y=new ce(v.getX(),g);n?a=y:u=y}return new r(this.image,i,a,o,u)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}(),P5=function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}(),Vd=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(o,u,l,c,d,v){if(o==="%%")return"%";if(t[++n]!==void 0){o=c?parseInt(c.substr(1)):void 0;var g=d?parseInt(d.substr(1)):void 0,y;switch(v){case"s":y=t[n];break;case"c":y=t[n][0];break;case"f":y=parseFloat(t[n]).toFixed(o);break;case"p":y=parseFloat(t[n]).toPrecision(o);break;case"e":y=parseFloat(t[n]).toExponential(o);break;case"x":y=parseInt(t[n]).toString(g||16);break;case"d":y=parseFloat(parseInt(t[n],g||10).toPrecision(o)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(g);for(var m=parseInt(l),A=l&&l[0]+""=="0"?"0":" ";y.length<m;)y=u!==void 0?y+A:A+y;return y}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}(),L5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cm=function(){function r(e){this.boundingBox=new Lh(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new Vd,i=0;try{for(var a=L5(this.codewords),o=a.next();!o.done;o=a.next()){var u=o.value;if(u==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}(),F5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k5=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},xs=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,a=function(v,g){var y={getKey:function(){return v},getValue:function(){return g}};y.getValue()>n?(n=y.getValue(),i=[],i.push(y.getKey())):y.getValue()===n&&i.push(y.getKey())};try{for(var o=F5(this.values.entries()),u=o.next();!u.done;u=o.next()){var l=k5(u.value,2),c=l[0],d=l[1];a(c,d)}}catch(v){e={error:v}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return Ge.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}(),U5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ax=function(r){U5(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=Y0(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,d=1,v=0,g=u;g<l;g++)if(n[g]!=null){var y=n[g],m=y.getRowNumber()-c;if(m===0)v++;else if(m===1)d=Math.max(d,v),v=1,c=y.getRowNumber();else if(m<0||y.getRowNumber()>=t.getRowCount()||m>g)n[g]=null;else{var A=void 0;d>2?A=(d-2)*m:A=m;for(var E=A>=g,w=1;w<=A&&!E;w++)E=n[g-w]!=null;E?n[g]=null:(c=y.getRowNumber(),v=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=Y0(this.getCodewords()),u=o.next();!u.done;u=o.next()){var l=u.value;if(l!=null){var c=l.getRowNumber();if(c>=a.length)continue;a[c]++}}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),c=-1,d=o;d<u;d++)if(l[d]!=null){var v=l[d];v.setRowNumberAsRowIndicatorColumn();var g=v.getRowNumber()-c;g===0||(g===1?c=v.getRowNumber():v.getRowNumber()>=t.getRowCount()?l[d]=null:c=v.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),a=new xs,o=new xs,u=new xs,l=new xs;try{for(var c=Y0(i),d=c.next();!d.done;d=c.next()){var v=d.value;if(v!=null){v.setRowNumberAsRowIndicatorColumn();var g=v.getValue()%30,y=v.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(g*3+1);break;case 1:l.setValue(g/3),u.setValue(g%3);break;case 2:a.setValue(g+1);break}}}}catch(A){t={error:A}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(a.getValue().length===0||o.getValue().length===0||u.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<Ge.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>Ge.MAX_ROWS_IN_BARCODE)return null;var m=new P5(a.getValue()[0],o.getValue()[0],u.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var o=a.getValue()%30,u=a.getRowNumber();if(u>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(Cm),H5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V5=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ge.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var u=this.detectionResultColumns[o].getCodewords()[n];u!=null&&(a=r.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var u=this.detectionResultColumns[o].getCodewords()[n];u!=null&&(a=r.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[t],u=this.detectionResultColumns[e-1].getCodewords(),l=u;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=u[t],c[3]=l[t],t>0&&(c[0]=n[t-1],c[4]=u[t-1],c[5]=l[t-1]),t>1&&(c[8]=n[t-2],c[10]=u[t-2],c[11]=l[t-2]),t<n.length-1&&(c[1]=n[t+1],c[6]=u[t+1],c[7]=l[t+1]),t<n.length-2&&(c[9]=n[t+2],c[12]=u[t+2],c[13]=l[t+2]);try{for(var d=H5(c),v=d.next();!v.done;v=d.next()){var g=v.value;if(r.adjustRowNumber(o,g))return}}catch(y){i={error:y}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Vd,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},r}(),G5=function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}(),z5=function(){function r(){}return r.initialize=function(){for(var e=0;e<Ge.SYMBOL_TABLE.length;e++)for(var t=Ge.SYMBOL_TABLE[e],n=t&1,i=0;i<Ge.BARS_IN_MODULE;i++){for(var a=0;(t&1)===n;)a+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Ge.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Ge.BARS_IN_MODULE-i-1]=Math.fround(a/Ge.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=Ye.sum(e),n=new Int32Array(Ge.BARS_IN_MODULE),i=0,a=0,o=0;o<Ge.MODULES_IN_CODEWORD;o++){var u=t/(2*Ge.MODULES_IN_CODEWORD)+o*t/Ge.MODULES_IN_CODEWORD;a+e[i]<=u&&(a+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return Ge.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=Ye.sum(e),n=new Array(Ge.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var a=Dh.MAX_VALUE,o=-1;this.bSymbolTableReady||r.initialize();for(var u=0;u<r.RATIOS_TABLE.length;u++){for(var l=0,c=r.RATIOS_TABLE[u],d=0;d<Ge.BARS_IN_MODULE;d++){var v=Math.fround(c[d]-n[d]);if(l+=Math.fround(v*v),l>=a)break}l<a&&(a=l,o=Ge.SYMBOL_TABLE[u])}return o},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Ge.SYMBOL_TABLE.length).map(function(e){return new Array(Ge.BARS_IN_MODULE)}),r}(),X5=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}(),Ex=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}(),W5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y5=function(r){W5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Qr),j5=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new Y5;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new Ld;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r}(),$5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Z5=function(r){$5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Qr),K5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),q5=function(r){K5(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new ye("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Z5;i=De.MAX_VALUE}this.buf=Kt.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new Ld;this.ensureCapacity(this.count+i),xt.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Kt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(j5),ct;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ct||(ct={}));function Sm(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var cl;function ea(r){if(typeof cl>"u"&&(cl=Sm()),cl===null)throw new Error("BigInt is not supported!");return cl(r)}function Q5(){var r=[];r[0]=ea(1);var e=ea(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var J5=function(){function r(){}return r.decode=function(e,t){var n=new Te(""),i=jt.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],u=new X5;a<e[0];){switch(o){case r.TEXT_COMPACTION_MODE_LATCH:a=r.textCompaction(e,a,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:a=r.byteCompaction(o,e,i,a,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:a=r.numericCompaction(e,a,n);break;case r.ECI_CHARSET:jt.getCharacterSetECIByValue(e[a++]);break;case r.ECI_GENERAL_PURPOSE:a+=2;break;case r.ECI_USER_DEFINED:a++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=r.decodeMacroBlock(e,a,u);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new re;default:a--,a=r.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw re.getFormatInstance()}if(n.length()===0)throw re.getFormatInstance();var l=new nc(null,n.toString(),null,t);return l.setOther(u),l},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw re.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<r.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];n.setSegmentIndex(De.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Te;t=r.textCompaction(e,t,o),n.setFileId(o.toString());var u=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Te;t=r.textCompaction(e,t+1,l),n.setFileName(l.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new Te;t=r.textCompaction(e,t+1,c),n.setSender(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Te;t=r.textCompaction(e,t+1,d),n.setAddressee(d.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var v=new Te;t=r.numericCompaction(e,t+1,v),n.setSegmentCount(De.parseInt(v.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new Te;t=r.numericCompaction(e,t+1,g),n.setTimestamp(Ex.parseLong(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var y=new Te;t=r.numericCompaction(e,t+1,y),n.setChecksum(De.parseInt(y.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new Te;t=r.numericCompaction(e,t+1,m),n.setFileSize(Ex.parseLong(m.toString()));break;default:throw re.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw re.getFormatInstance()}if(u!==-1){var A=t-u;n.isLastSegment()&&A--,n.setOptionalData(Kt.copyOfRange(e,u,u+A))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),o=0,u=!1;t<e[0]&&!u;){var l=e[t++];if(l<r.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:i[o++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[t++],a[o]=l,o++;break}}return r.decodeTextCompaction(i,a,o,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var a=ct.ALPHA,o=ct.ALPHA,u=0;u<n;){var l=e[u],c="";switch(a){case ct.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case r.LL:a=ct.LOWER;break;case r.ML:a=ct.MIXED;break;case r.PS:o=a,a=ct.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ct.ALPHA;break}break;case ct.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case r.AS:o=a,a=ct.ALPHA_SHIFT;break;case r.ML:a=ct.MIXED;break;case r.PS:o=a,a=ct.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ct.ALPHA;break}break;case ct.MIXED:if(l<r.PL)c=r.MIXED_CHARS[l];else switch(l){case r.PL:a=ct.PUNCT;break;case 26:c=" ";break;case r.LL:a=ct.LOWER;break;case r.AL:a=ct.ALPHA;break;case r.PS:o=a,a=ct.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ct.ALPHA;break}break;case ct.PUNCT:if(l<r.PAL)c=r.PUNCT_CHARS[l];else switch(l){case r.PAL:a=ct.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ct.ALPHA;break}break;case ct.ALPHA_SHIFT:if(a=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:a=ct.ALPHA;break}break;case ct.PUNCT_SHIFT:if(a=o,l<r.PAL)c=r.PUNCT_CHARS[l];else switch(l){case r.PAL:a=ct.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ct.ALPHA;break}break}c!==""&&i.append(c),u++}},r.byteCompaction=function(e,t,n,i,a){var o=new q5,u=0,l=0,c=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),v=t[i++];i<t[0]&&!c;)switch(d[u++]=v,l=900*l+v,v=t[i++],v){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(u%5===0&&u>0){for(var g=0;g<6;++g)o.write(Number(ea(l)>>ea(8*(5-g))));l=0,u=0}break}i===t[0]&&v<r.TEXT_COMPACTION_MODE_LATCH&&(d[u++]=v);for(var y=0;y<u;y++)o.write(d[y]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!c;){var m=t[i++];if(m<r.TEXT_COMPACTION_MODE_LATCH)u++,l=900*l+m;else switch(m){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(u%5===0&&u>0){for(var g=0;g<6;++g)o.write(Number(ea(l)>>ea(8*(5-g))));l=0,u=0}}break}return a.append(Sn.decode(o.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,a=!1,o=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var u=e[t++];if(t===e[0]&&(a=!0),u<r.TEXT_COMPACTION_MODE_LATCH)o[i]=u,i++;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||u===r.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(r.decodeBase900toBase10(o,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=ea(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*ea(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new re;return a.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=Sm()?Q5():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}(),cs=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eb=function(){function r(){}return r.decode=function(e,t,n,i,a,o,u){for(var l=new Lh(e,t,n,i,a),c=null,d=null,v,g=!0;;g=!1){if(t!=null&&(c=r.getRowIndicatorColumn(e,l,t,!0,o,u)),i!=null&&(d=r.getRowIndicatorColumn(e,l,i,!1,o,u)),v=r.merge(c,d),v==null)throw j.getNotFoundInstance();var y=v.getBoundingBox();if(g&&y!=null&&(y.getMinY()<l.getMinY()||y.getMaxY()>l.getMaxY()))l=y;else break}v.setBoundingBox(l);var m=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,c),v.setDetectionResultColumn(m,d);for(var A=c!=null,E=1;E<=m;E++){var w=A?E:m-E;if(v.getDetectionResultColumn(w)===void 0){var C=void 0;w===0||w===m?C=new Ax(l,w===0):C=new Cm(l),v.setDetectionResultColumn(w,C);for(var I=-1,b=I,R=l.getMinY();R<=l.getMaxY();R++){if(I=r.getStartColumn(v,w,R,A),I<0||I>l.getMaxX()){if(b===-1)continue;I=b}var M=r.detectCodeword(e,l.getMinX(),l.getMaxX(),A,I,R,o,u);M!=null&&(C.setCodeword(R,M),b=I,o=Math.min(o,M.getWidth()),u=Math.max(u,M.getWidth()))}}}return r.createDecoderResult(v)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=Lh.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new V5(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=r.getMax(i),o=0;try{for(var u=cs(i),l=u.next();!l.done;l=u.next()){var c=l.value;if(o+=a-c,c>0)break}}catch(y){t={error:y}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}for(var d=e.getCodewords(),v=0;o>0&&d[v]==null;v++)o--;for(var g=0,v=i.length-1;v>=0&&(g+=a-i[v],!(i[v]>0));v--);for(var v=d.length-1;g>0&&d[v]==null;v--)g--;return e.getBoundingBox().addMissingRows(o,g,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var a=cs(e),o=a.next();!o.done;o=a.next()){var u=o.value;i=Math.max(i,u)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,a,o){for(var u=new Ax(t,i),l=0;l<2;l++)for(var c=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),v=Math.trunc(Math.trunc(n.getY()));v<=t.getMaxY()&&v>=t.getMinY();v+=c){var g=r.detectCodeword(e,0,e.getWidth(),i,d,v,a,o);g!=null&&(u.setCodeword(v,g),i?d=g.getStartX():d=g.getEndX())}return u},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Ge.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=t[u][l+1].getValue(),d=u*e.getBarcodeColumnCount()+l;c.length===0?n.push(d):c.length===1?i[d]=c[0]:(o.push(d),a.push(c))}for(var v=new Array(a.length),g=0;g<v.length;g++)v[g]=a[g];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ge.toIntArray(n),Ge.toIntArray(o),v)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,a){for(var o=new Int32Array(i.length),u=100;u-- >0;){for(var l=0;l<o.length;l++)t[i[l]]=a[l][o[l]];try{return r.decodeCodewords(t,e,n)}catch(d){var c=d instanceof lr;if(!c)throw d}if(o.length===0)throw lr.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw lr.getChecksumInstance()}throw lr.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<o.length;u++)for(var l=0;l<o[u].length;l++)o[u][l]=new xs;var c=0;try{for(var d=cs(e.getDetectionResultColumns()),v=d.next();!v.done;v=d.next()){var g=v.value;if(g!=null)try{for(var y=(i=void 0,cs(g.getCodewords())),m=y.next();!m.done;m=y.next()){var A=m.value;if(A!=null){var E=A.getRowNumber();if(E>=0){if(E>=o.length)continue;o[E][c].setValue(A.getValue())}}}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}c++}}catch(w){t={error:w}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return o},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var a,o,u=i?1:-1,l=null;if(r.isValidBarcodeColumn(e,t-u)&&(l=e.getDetectionResultColumn(t-u).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(r.isValidBarcodeColumn(e,t-u)&&(l=e.getDetectionResultColumn(t-u).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;r.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var d=(a=void 0,cs(e.getDetectionResultColumn(t).getCodewords())),v=d.next();!v.done;v=d.next()){var g=v.value;if(g!=null)return(i?g.getEndX():g.getStartX())+u*c*(g.getEndX()-g.getStartX())}}catch(y){a={error:y}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,a,o,u,l){a=r.adjustCodewordStartColumn(e,t,n,i,a,o);var c=r.getModuleBitCount(e,t,n,i,a,o);if(c==null)return null;var d,v=Ye.sum(c);if(i)d=a+v;else{for(var g=0;g<c.length/2;g++){var y=c[g];c[g]=c[c.length-1-g],c[c.length-1-g]=y}d=a,a=d-v}if(!r.checkCodewordSkew(v,u,l))return null;var m=z5.getDecodedValue(c),A=Ge.getCodeword(m);return A===-1?null:new G5(a,d,r.getCodewordBucketNumber(m),A)},r.getModuleBitCount=function(e,t,n,i,a,o){for(var u=a,l=new Int32Array(8),c=0,d=i?1:-1,v=i;(i?u<n:u>=t)&&c<l.length;)e.get(u,o)===v?(l[c]++,u+=d):(c++,v=!v);return c===l.length||u===(i?n:t)&&c===l.length-1?l:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,a,o){for(var u=a,l=i?-1:1,c=0;c<2;c++){for(;(i?u>=t:u<n)&&i===e.get(u,o);){if(Math.abs(a-u)>r.CODEWORD_SKEW_SIZE)return a;u+=l}l=-l,i=!i}return u},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw re.getFormatInstance();var i=1<<t+1,a=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var o=J5.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(n.length),o},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw lr.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw re.getFormatInstance();var n=e[0];if(n>e.length)throw re.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw re.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new Vd,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new B5,r}(),tb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fh=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw j.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof re||n instanceof lr?j.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,a,o=new Array,u=b5.detectMultiple(e,t,n);try{for(var l=tb(u.getPoints()),c=l.next();!c.done;c=l.next()){var d=c.value,v=eb.decode(u.getBits(),d[4],d[5],d[6],d[7],r.getMinCodewordWidth(d),r.getMaxCodewordWidth(d)),g=new Nr(v.getText(),v.getRawBytes(),void 0,d,ge.PDF_417);g.putMetadata(wr.ERROR_CORRECTION_LEVEL,v.getECLevel());var y=v.getOther();y!=null&&g.putMetadata(wr.PDF417_EXTRA_METADATA,y),o.push(g)}}catch(m){i={error:m}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(m){return m})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?De.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}(),rb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wx=function(r){rb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(Qr),Cx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nb=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Nt.TRY_HARDER)!==void 0,n=e==null?null:e.get(Nt.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===ge.UPC_A||o===ge.UPC_E||o===ge.EAN_13||o===ge.EAN_8||o===ge.CODABAR||o===ge.CODE_39||o===ge.CODE_93||o===ge.CODE_128||o===ge.ITF||o===ge.RSS_14||o===ge.RSS_EXPANDED});a&&!t&&i.push(new ys(e)),n.includes(ge.QR_CODE)&&i.push(new Ph),n.includes(ge.DATA_MATRIX)&&i.push(new Bh),n.includes(ge.AZTEC)&&i.push(new Nh),n.includes(ge.PDF_417)&&i.push(new Fh),a&&t&&i.push(new ys(e))}i.length===0&&(t||i.push(new ys(e)),i.push(new Ph),i.push(new Bh),i.push(new Nh),i.push(new Fh),t&&i.push(new ys(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=Cx(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new wx("No readers where selected, nothing can be read.");try{for(var i=Cx(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(u){if(u instanceof wx)continue}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new j("No MultiFormat Readers were able to detect the code.")},r}(),ib=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ab=function(r){ib(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,a=new nb;return a.setHints(t),i=r.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(nu),ob=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){ob(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Fh,t)||this}return e})(nu);var ub=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){ub(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Ph,t)||this}return e})(nu);var kh;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(kh||(kh={}));const hl=kh;var Im=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new aa(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var o=n.multiply(new aa(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(o),n=o}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new ye("No error correction bytes");var n=e.length-t;if(n<=0)throw new ye("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(n);xt.arraycopy(e,0,a,0,n);var o=new aa(this.field,a);o=o.multiplyByMonomial(t,1);for(var u=o.divide(i)[1],l=u.getCoefficients(),c=t-l.length,d=0;d<c;d++)e[n+d]=0;xt.arraycopy(l,0,e,n+c,l.length)},r}(),_s=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var u=n[o],l=0;l<i-1;l++){var c=u[l];c===u[l+1]&&c===n[o+1][l]&&c===n[o+1][l+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var u=0;u<i;u++){var l=n[o];u+6<i&&l[u]===1&&l[u+1]===0&&l[u+2]===1&&l[u+3]===1&&l[u+4]===1&&l[u+5]===0&&l[u+6]===1&&(r.isWhiteHorizontal(l,u-4,u)||r.isWhiteHorizontal(l,u+7,u+11))&&t++,o+6<a&&n[o][u]===1&&n[o+1][u]===0&&n[o+2][u]===1&&n[o+3][u]===1&&n[o+4][u]===1&&n[o+5][u]===0&&n[o+6][u]===1&&(r.isWhiteVertical(n,u,o-4,o)||r.isWhiteVertical(n,u,o+7,o+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var u=n[o],l=0;l<i;l++)u[l]===1&&t++;var c=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(t*2-c)*10/c);return d*r.N4},r.getDataMaskBit=function(e,t,n){var i,a;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:a=n*t,i=(a&1)+a%3;break;case 6:a=n*t,i=(a&1)+a%3&1;break;case 7:a=n*t,i=a%3+(n+t&1)&1;break;default:throw new ye("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray(),u=0;u<i;u++){for(var l=0,c=-1,d=0;d<a;d++){var v=t?o[u][d]:o[d][u];v===c?l++:(l>=5&&(n+=r.N1+(l-5)),l=1,c=v)}l>=5&&(n+=r.N1+(l-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}(),sb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fb=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=sb(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Kt.fill(o,e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=t.bytes[n],u=0,l=this.width;u<l;++u)if(a[u]!==o[u])return!1;return!0},r.prototype.toString=function(){for(var e=new Te,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}(),Uh=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new Te;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}(),lb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mt=function(r){lb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(Qr),Sx=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,a){r.clearMatrix(a),r.embedBasicPatterns(n,a),r.embedTypeInfo(t,i,a),r.maybeEmbedVersionInfo(n,a),r.embedDataBits(e,i,a)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new hr;r.makeTypeInfoBits(e,t,i);for(var a=0,o=i.getSize();a<o;++a){var u=i.get(i.getSize()-1-a),l=r.TYPE_INFO_COORDINATES[a],c=l[0],d=l[1];if(n.setBoolean(c,d,u),a<8){var v=n.getWidth()-a-1,g=8;n.setBoolean(v,g,u)}else{var v=8,g=n.getHeight()-7+(a-8);n.setBoolean(v,g,u)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new hr;r.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var u=n.get(i);i--,t.setBoolean(a,t.getHeight()-11+o,u),t.setBoolean(t.getHeight()-11+o,a,u)}}},r.embedDataBits=function(e,t,n){for(var i=0,a=-1,o=n.getWidth()-1,u=n.getHeight()-1;o>0;){for(o===6&&(o-=1);u>=0&&u<n.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(r.isEmpty(n.get(c,u))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,t!==255&&_s.getDataMaskBit(t,c,u)&&(d=!d),n.setBoolean(c,u,d)}}u+=a}a=-a,u+=a,o-=2}if(i!==e.getSize())throw new mt("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-De.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new ye("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!Uh.isValidMaskPattern(t))throw new mt("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var a=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(a,10);var o=new hr;if(o.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new mt("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new mt("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new mt;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new mt;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new mt;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var a=r.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var a=r.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var u=i[a];if(u>=0)for(var l=0;l!==o;l++){var c=i[l];c>=0&&r.isEmpty(t.get(c,u))&&r.embedPositionAdjustmentPattern(c-2,u-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}(),cb=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}(),Ix=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return _s.applyMaskPenaltyRule1(e)+_s.applyMaskPenaltyRule2(e)+_s.applyMaskPenaltyRule3(e)+_s.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(hl.CHARACTER_SET)!==void 0;a&&(i=n.get(hl.CHARACTER_SET).toString());var o=this.chooseMode(e,i),u=new hr;if(o===Et.BYTE&&(a||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=jt.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,u)}this.appendModeInfo(o,u);var c=new hr;this.appendBytes(e,o,c,i);var d;if(n!==null&&n.get(hl.QR_VERSION)!==void 0){var v=Number.parseInt(n.get(hl.QR_VERSION).toString(),10);d=Va.getVersionForNumber(v);var g=this.calculateBitsNeeded(o,u,c,d);if(!this.willFit(g,d,t))throw new mt("Data too big for requested version")}else d=this.recommendVersion(t,o,u,c);var y=new hr;y.appendBitArray(u);var m=o===Et.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(m,d,o,y),y.appendBitArray(c);var A=d.getECBlocksForLevel(t),E=d.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(E,y);var w=this.interleaveWithECBytes(y,d.getTotalCodewords(),E,A.getNumBlocks()),C=new Uh;C.setECLevel(t),C.setMode(o),C.setVersion(d);var I=d.getDimensionForVersion(),b=new fb(I,I),R=this.chooseMaskPattern(w,t,d,b);return C.setMaskPattern(R),Sx.buildMatrix(w,t,d,R,b),C.setMatrix(b),C},r.recommendVersion=function(e,t,n,i){var a=this.calculateBitsNeeded(t,n,i,Va.getVersionForNumber(1)),o=this.chooseVersion(a,e),u=this.calculateBitsNeeded(t,n,i,o);return this.chooseVersion(u,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),jt.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Et.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var u=e.charAt(a);if(r.isDigit(u))n=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return Et.BYTE}return i?Et.ALPHANUMERIC:n?Et.NUMERIC:Et.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=Sn.encode(e,jt.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,u=0;u<Uh.NUM_MASK_PATTERNS;u++){Sx.buildMatrix(e,t,n,u,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=u)}return o},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=Va.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new mt("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n),o=a.getTotalECCodewords(),u=i-o,l=(e+7)/8;return u>=l},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new mt("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var o=e-t.getSizeInBytes(),i=0;i<o;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==n)throw new mt("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,a,o){if(i>=n)throw new mt("Block ID too large");var u=e%n,l=n-u,c=Math.floor(e/n),d=c+1,v=Math.floor(t/n),g=v+1,y=c-v,m=d-g;if(y!==m)throw new mt("EC bytes mismatch");if(n!==l+u)throw new mt("RS blocks mismatch");if(e!==(v+y)*l+(g+m)*u)throw new mt("Total bytes mismatch");i<l?(a[0]=v,o[0]=y):(a[0]=g,o[0]=m)},r.interleaveWithECBytes=function(e,t,n,i){var a,o,u,l;if(e.getSizeInBytes()!==n)throw new mt("Number of bits and data bytes does not match");for(var c=0,d=0,v=0,g=new Array,y=0;y<i;++y){var m=new Int32Array(1),A=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,y,m,A);var E=m[0],w=new Uint8Array(E);e.toBytes(8*c,w,0,E);var C=r.generateECBytes(w,A[0]);g.push(new cb(w,C)),d=Math.max(d,E),v=Math.max(v,C.length),c+=m[0]}if(n!==c)throw new mt("Data bytes does not match offset");for(var I=new hr,y=0;y<d;++y)try{for(var b=(a=void 0,Ix(g)),R=b.next();!R.done;R=b.next()){var M=R.value,w=M.getDataBytes();y<w.length&&I.appendBits(w[y],8)}}catch(Z){a={error:Z}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}for(var y=0;y<v;++y)try{for(var L=(u=void 0,Ix(g)),z=L.next();!z.done;z=L.next()){var M=z.value,C=M.getErrorCorrectionBytes();y<C.length&&I.appendBits(C[y],8)}}catch(Z){u={error:Z}}finally{try{z&&!z.done&&(l=L.return)&&l.call(L)}finally{if(u)throw u.error}}if(t!==I.getSizeInBytes())throw new mt("Interleaving error: "+t+" and "+I.getSizeInBytes()+" differ.");return I},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),a=0;a<n;a++)i[a]=e[a]&255;new Im($r.QR_CODE_FIELD_256).encode(i,t);for(var o=new Uint8Array(t),a=0;a<t;a++)o[a]=i[n+a];return o},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var a=n.getCharacterCountBits(t);if(e>=1<<a)throw new mt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},r.appendBytes=function(e,t,n,i){switch(t){case Et.NUMERIC:r.appendNumericBytes(e,n);break;case Et.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case Et.BYTE:r.append8BitBytes(e,n,i);break;case Et.KANJI:r.appendKanjiBytes(e,n);break;default:throw new mt("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getDigit(e.charAt(i));if(i+2<n){var o=r.getDigit(e.charAt(i+1)),u=r.getDigit(e.charAt(i+2));t.appendBits(a*100+o*10+u,10),i+=3}else if(i+1<n){var o=r.getDigit(e.charAt(i+1));t.appendBits(a*10+o,7),i+=2}else t.appendBits(a,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new mt;if(i+1<n){var o=r.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new mt;t.appendBits(a*45+o,11),i+=2}else t.appendBits(a,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=Sn.encode(e,n)}catch(l){throw new mt(l)}for(var a=0,o=i.length;a!==o;a++){var u=i[a];t.appendBits(u,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=Sn.encode(e,jt.SJIS)}catch(v){throw new mt(v)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,u=n[a+1]&255,l=o<<8&4294967295|u,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new mt("Invalid byte sequence");var d=(c>>8)*192+(c&255);t.appendBits(d,13)}},r.appendECI=function(e,t){t.appendBits(Et.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=jt.UTF8.getName(),r})();var hb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){hb(e,r);function e(t,n,i,a,o,u,l,c){var d=r.call(this,u,l)||this;if(d.yuvData=t,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+u>n||o+l>i)throw new ye("Crop rectangle does not fit within image data.");return c&&d.reverseHorizontal(u,l),d}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ye("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return xt.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return xt.arraycopy(this.yuvData,o,a,0,i),a;for(var u=0;u<n;u++){var l=u*t;xt.arraycopy(this.yuvData,o,a,l,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,u=0;u<n;u++){for(var l=u*t,c=0;c<t;c++){var d=a[o+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var u=o+t/2,l=o,c=o+t-1;l<u;l++,c--){var d=i[l];i[l]=i[c],i[c]=d}},e.prototype.invert=function(){return new Fd(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(rc);var db=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){db(e,r);function e(t,n,i,a,o,u,l){var c=r.call(this,n,i)||this;if(c.dataWidth=a,c.dataHeight=o,c.left=u,c.top=l,t.BYTES_PER_ELEMENT===4){for(var d=n*i,v=new Uint8ClampedArray(d),g=0;g<d;g++){var y=t[g],m=y>>16&255,A=y>>7&510,E=y&255;v[g]=(m+A+E)/4&255}c.luminances=v}else c.luminances=t;if(a===void 0&&(c.dataWidth=n),o===void 0&&(c.dataHeight=i),u===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new ye("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ye("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return xt.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return xt.arraycopy(this.luminances,o,a,0,i),a;for(var u=0;u<n;u++){var l=u*t;xt.arraycopy(this.luminances,o,a,l,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new Fd(this)},e})(rc);var vb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pb=function(r){vb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(jt),gb=function(){function r(){}return r.ISO_8859_1=jt.ISO8859_1,r}(),Hh,yb=301,xb=function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,t*=2,t>=256&&(t^=yb);return{LOG:r,ALOG:e}};Hh=xb([],[]),Hh.LOG;Hh.ALOG;var Tx;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Tx||(Tx={}));var bx=129,Tm=230,_b=231,mb=235,Ab=236,Eb=237,wb=238,Cb=239,Sb=240,j0=254,Ib=254,Ox="[)>05",Dx="[)>06",Rx="",ot=0,_r=1,Ur=2,zt=3,or=4,br=5,Tb=function(){function r(){}return r.prototype.getEncodingMode=function(){return ot},r.prototype.encode=function(e){var t=Fn.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Fn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case br:e.writeCodeword(_b),e.signalEncoderChange(br);return;case _r:e.writeCodeword(Tm),e.signalEncoderChange(_r);return;case zt:e.writeCodeword(wb),e.signalEncoderChange(zt);break;case Ur:e.writeCodeword(Cb),e.signalEncoderChange(Ur);break;case or:e.writeCodeword(Sb),e.signalEncoderChange(or);break;default:throw new Error("Illegal mode: "+i)}else Fn.isExtendedASCII(n)?(e.writeCodeword(mb),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(Fn.isDigit(e)&&Fn.isDigit(t)){var n=(e-48)*10+(t-48);return n+130}throw new Error("not digits: "+e+t)},r}(),bb=function(){function r(){}return r.prototype.getEncodingMode=function(){return br},r.prototype.encode=function(e){var t=new Te;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();t.append(n),e.pos++;var i=Fn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ot);break}}var a=t.length()-1,o=1,u=e.getCodewordCount()+a+o;e.updateSymbolInfo(u);var l=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||l)if(a<=249)t.setCharAt(0,ke.getCharAt(a));else if(a<=1555)t.setCharAt(0,ke.getCharAt(Math.floor(a/250)+249)),t.insert(1,ke.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var c=0,n=t.length();c<n;c++)e.writeCodeword(this.randomize255State(t.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=149*t%255+1,i=e+n;return i<=255?i:i-256},r}(),Gd=function(){function r(){}return r.prototype.getEncodingMode=function(){return _r},r.prototype.encodeMaximal=function(e){for(var t=new Te,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var u=Math.floor(t.length()/3*2),l=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(t.length()%3);(d===2&&c!==2||d===1&&(n>3||c!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(Tm),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new Te;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,t),a=Math.floor(t.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var u=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new Te;for(t.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,t,l,i));t.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,t,l,i);break}var c=t.length();if(c%3===0){var d=Fn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(ot);break}}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,i){var a=t.length(),o=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(o),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,n),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(j0)}else if(o===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(j0),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(o>0||e.hasMoreCharacters())&&e.writeCodeword(j0)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ot)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t),n},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,i=t%256,a=new Te;return a.append(n),a.append(i),a.toString()},r}(),Ob=function(){function r(){}return r.prototype.getEncodingMode=function(){return or},r.prototype.encode=function(e){for(var t=new Te;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var o=Fn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ot);break}}}t.append(ke.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,u=this.encodeToCodewords(t.toString()),l=!e.hasMoreCharacters(),c=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}c?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(u)}finally{e.signalEncoderChange(ot)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(ke.getCharAt(e-64)):Fn.illegalCharacter(ke.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,o=t>=4?e.charAt(3).charCodeAt(0):0,u=(n<<18)+(i<<12)+(a<<6)+o,l=u>>16&255,c=u>>8&255,d=u&255,v=new Te;return v.append(l),t>=2&&v.append(c),t>=3&&v.append(d),v.toString()},r}(),Db=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qe=function(){function r(e,t,n,i,a,o,u,l){u===void 0&&(u=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=u,this.rsBlockError=l}return r.lookup=function(e,t,n,i,a){var o,u;t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=Rb(Mb),c=l.next();!c.done;c=l.next()){var d=c.value;if(!(t===1&&d.rectangular)&&!(t===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(v){o={error:v}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r}(),Nb=function(r){Db(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(qe),Mb=[new qe(!1,3,5,8,8,1),new qe(!1,5,7,10,10,1),new qe(!0,5,7,16,6,1),new qe(!1,8,10,12,12,1),new qe(!0,10,11,14,6,2),new qe(!1,12,12,14,14,1),new qe(!0,16,14,24,10,1),new qe(!1,18,14,16,16,1),new qe(!1,22,18,18,18,1),new qe(!0,22,18,16,10,2),new qe(!1,30,20,20,20,1),new qe(!0,32,24,16,14,2),new qe(!1,36,24,22,22,1),new qe(!1,44,28,24,24,1),new qe(!0,49,28,22,14,2),new qe(!1,62,36,14,14,4),new qe(!1,86,42,16,16,4),new qe(!1,114,48,18,18,4),new qe(!1,144,56,20,20,4),new qe(!1,174,68,22,22,4),new qe(!1,204,84,24,24,4,102,42),new qe(!1,280,112,14,14,16,140,56),new qe(!1,368,144,16,16,16,92,36),new qe(!1,456,192,18,18,16,114,48),new qe(!1,576,224,20,20,16,144,56),new qe(!1,696,272,22,22,16,174,68),new qe(!1,816,336,24,24,16,136,56),new qe(!1,1050,408,18,18,36,175,68),new qe(!1,1304,496,20,20,36,163,62),new Nb],Bb=function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(u){return u.charCodeAt(0)}),n=new Te,i=0,a=t.length;i<a;i++){var o=String.fromCharCode(t[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Te,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=qe.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r}(),Pb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lb=function(r){Pb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return zt},e.prototype.encode=function(t){for(var n=new Te;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(t,n);var o=Fn.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(ot);break}}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):Fn.illegalCharacter(ke.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=n.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(Ib),t.getNewEncoding()<0&&t.signalEncoderChange(ot)},e}(Gd),Fb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kb=function(r){Fb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ur},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(t-128,n),i},e}(Gd),Fn=function(){function r(){}return r.randomize253State=function(e){var t=149*e%253+1,n=bx+t;return n<=254?n:n-254},r.encodeHighLevel=function(e,t,n,i,a){t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new Gd,u=[new Tb,o,new kb,new Lb,new Ob,new bb],l=new Bb(e);l.setSymbolShape(t),l.setSizeConstraints(n,i),e.startsWith(Ox)&&e.endsWith(Rx)?(l.writeCodeword(Ab),l.setSkipAtEnd(2),l.pos+=Ox.length):e.startsWith(Dx)&&e.endsWith(Rx)&&(l.writeCodeword(Eb),l.setSkipAtEnd(2),l.pos+=Dx.length);var c=ot;for(a&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)u[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var v=l.getSymbolInfo().getDataCapacity();d<v&&c!==ot&&c!==br&&c!==or&&l.writeCodeword("þ");var g=l.getCodewords();for(g.length()<v&&g.append(bx);g.length()<v;)g.append(this.randomize253State(g.length()+1));return l.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var i=this.lookAheadTestIntern(e,t,n);if(n===zt&&i===zt){for(var a=Math.min(t+3,e.length),o=t;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ot}else if(n===or&&i===or){for(var a=Math.min(t+4,e.length),o=t;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ot}return i},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var i;n===ot?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),u=[];;){if(t+a===e.length){Kt.fill(o,0),Kt.fill(u,0);var l=this.findMinimums(i,u,De.MAX_VALUE,o),c=this.getMinimumCount(o);if(u[ot]===l)return ot;if(c===1){if(o[br]>0)return br;if(o[or]>0)return or;if(o[Ur]>0)return Ur;if(o[zt]>0)return zt}return _r}var d=e.charCodeAt(t+a);if(a++,this.isDigit(d)?i[ot]+=.5:this.isExtendedASCII(d)?(i[ot]=Math.ceil(i[ot]),i[ot]+=2):(i[ot]=Math.ceil(i[ot]),i[ot]++),this.isNativeC40(d)?i[_r]+=2/3:this.isExtendedASCII(d)?i[_r]+=8/3:i[_r]+=4/3,this.isNativeText(d)?i[Ur]+=2/3:this.isExtendedASCII(d)?i[Ur]+=8/3:i[Ur]+=4/3,this.isNativeX12(d)?i[zt]+=2/3:this.isExtendedASCII(d)?i[zt]+=13/3:i[zt]+=10/3,this.isNativeEDIFACT(d)?i[or]+=3/4:this.isExtendedASCII(d)?i[or]+=17/4:i[or]+=13/4,this.isSpecialB256(d)?i[br]+=4:i[br]++,a>=4){if(Kt.fill(o,0),Kt.fill(u,0),this.findMinimums(i,u,De.MAX_VALUE,o),u[ot]<this.min(u[br],u[_r],u[Ur],u[zt],u[or]))return ot;if(u[br]<u[ot]||u[br]+1<this.min(u[_r],u[Ur],u[zt],u[or]))return br;if(u[or]+1<this.min(u[br],u[_r],u[Ur],u[zt],u[ot]))return or;if(u[Ur]+1<this.min(u[br],u[_r],u[or],u[zt],u[ot]))return Ur;if(u[zt]+1<this.min(u[br],u[_r],u[or],u[Ur],u[ot]))return zt;if(u[_r]+1<this.min(u[ot],u[br],u[or],u[Ur])){if(u[_r]<u[zt])return _r;if(u[_r]===u[zt]){for(var v=t+a+1;v<e.length;){var g=e.charCodeAt(v);if(this.isX12TermSep(g))return zt;if(!this.isNativeX12(g))break;v++}return _r}}}}},r.min=function(e,t,n,i,a){var o=Math.min(e,Math.min(t,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},r.findMinimums=function(e,t,n,i){for(var a=0;a<6;a++){var o=t[a]=Math.ceil(e[a]);n>o&&(n=o,Kt.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,i=t;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-t},r.illegalCharacter=function(e){var t=De.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r}(),$0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nx=function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return Sn.encode(e,this.charset)!=null}catch{return!1}},r}(),Ub=function(){function r(e,t,n){var i,a,o,u,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(K){return new Nx(pb.forName(K))}),this.encoders=[];var d=[];d.push(new Nx(gb.ISO_8859_1));for(var v=t!=null&&t.name.startsWith("UTF"),g=0;g<e.length;g++){var y=!1;try{for(var m=(i=void 0,$0(d)),A=m.next();!A.done;A=m.next()){var E=A.value,w=e.charAt(g),C=w.charCodeAt(0);if(C===n||E.canEncode(w)){y=!0;break}}}catch(K){i={error:K}}finally{try{A&&!A.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(!y)try{for(var I=(o=void 0,$0(this.ENCODERS)),b=I.next();!b.done;b=I.next()){var E=b.value;if(E.canEncode(e.charAt(g))){d.push(E),y=!0;break}}}catch(K){o={error:K}}finally{try{b&&!b.done&&(u=I.return)&&u.call(I)}finally{if(o)throw o.error}}y||(v=!0)}if(d.length===1&&!v)this.encoders=[d[0]];else{this.encoders=[];var R=0;try{for(var M=$0(d),L=M.next();!L.done;L=M.next()){var E=L.value;this.encoders[R++]=E}}catch(K){l={error:K}}finally{try{L&&!L.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}}var z=-1;if(t!=null){for(var g=0;g<this.encoders.length;g++)if(this.encoders[g]!=null&&t.name===this.encoders[g].name){z=g;break}}this.priorityEncoderIndex=z}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Sn.encode(ke.getCharAt(e),this.encoders[t].name)},r}(),Hb=3,Vb=function(){function r(e,t,n){this.fnc1=n;var i=new Ub(e,t,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new Te,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,i,a,o){var u=e.charAt(i).charCodeAt(0),l=0,c=t.length();t.getPriorityEncoderIndex()>=0&&(u===o||t.canEncode(u,t.getPriorityEncoderIndex()))&&(l=t.getPriorityEncoderIndex(),c=l+1);for(var d=l;d<c;d++)(u===o||t.canEncode(u,d))&&this.addEdge(n,i+1,new Mx(u,t,d,a,o))},r.prototype.encodeMinimally=function(e,t,n){var i=e.length,a=new Mx[i+1][t.length()];this.addEdges(e,t,a,0,null,n);for(var o=1;o<=i;o++){for(var u=0;u<t.length();u++)a[o][u]!=null&&o<i&&this.addEdges(e,t,a,o,a[o][u],n);for(var u=0;u<t.length();u++)a[o-1][u]=null}for(var l=-1,c=De.MAX_VALUE,u=0;u<t.length();u++)if(a[i][u]!=null){var d=a[i][u];d.cachedTotalSize<c&&(c=d.cachedTotalSize,l=u)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var v=[],g=a[i][l];g!=null;){if(g.isFNC1())v.unshift(1e3);else for(var y=t.encode(g.c,g.encoderIndex),o=y.length-1;o>=0;o--)v.unshift(y[o]&255);var m=g.previous===null?0:g.previous.encoderIndex;m!==g.encoderIndex&&v.unshift(256+t.getECIValue(g.encoderIndex)),g=g.previous}for(var A=[],o=0;o<A.length;o++)A[o]=v[o];return A},r}(),Mx=function(){function r(e,t,n,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:t.encode(e,n).length,u=i===null?0:i.encoderIndex;u!==n&&(o+=Hb),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return r.prototype.isFNC1=function(){return this.c===1e3},r}(),Gb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var Bx;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(Bx||(Bx={}));(function(r){Gb(e,r);function e(t,n,i,a,o){var u=r.call(this,t,n,i)||this;return u.shape=a,u.macroId=o,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Vb);var zb=function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r}(),Px=function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r}(),Xb=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}(),Wb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zd=function(r){Wb(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+De.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(Xb),Yb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jb=function(r){Yb(e,r);function e(t,n,i){var a=r.call(this,t,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(zd);function $b(r,e,t){return new jb(r,e,t)}function hs(r,e,t){return new zd(r,e,t)}var Zb=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oa=0,zl=1,wn=2,bm=3,qn=4,Kb=new zd(null,0,0),Z0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],qb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Qb(r){var e,t;try{for(var n=qb(r),i=n.next();!i.done;i=n.next()){var a=i.value;Kt.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[oa][qn]=0,r[zl][qn]=0,r[zl][oa]=28,r[bm][qn]=0,r[wn][qn]=0,r[wn][oa]=15,r}var Om=Qb(Kt.createInt32Array(6,6)),Jb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e7=function(){function r(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=Z0[this.mode][e];i=hs(i,a&65535,a>>16),n+=a>>16}var o=e===wn?4:5;return i=hs(i,t,o),new r(i,e,0,n+o)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,i=this.mode===wn?4:5;return n=hs(n,Om[this.mode][e],i),n=hs(n,t,5),new r(n,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,i=this.bitCount;if(this.mode===qn||this.mode===wn){var a=Z0[n][oa];t=hs(t,a&65535,a>>16),i+=a>>16,n=oa}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new r(t,n,this.binaryShiftByteCount+1,i+o);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=$b(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Z0[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new hr;try{for(var u=Jb(i),l=u.next();!l.done;l=u.next()){var c=l.value;c.appendTo(o,e)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o},r.prototype.toString=function(){return ke.format("%s bits=%d bytes=%d",Zb[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(Kb,oa,0,0),r}();function t7(r){var e=ke.getCharCode(" "),t=ke.getCharCode("."),n=ke.getCharCode(",");r[oa][e]=1;for(var i=ke.getCharCode("Z"),a=ke.getCharCode("A"),o=a;o<=i;o++)r[oa][o]=o-a+2;r[zl][e]=1;for(var u=ke.getCharCode("z"),l=ke.getCharCode("a"),o=l;o<=u;o++)r[zl][o]=o-l+2;r[wn][e]=1;for(var c=ke.getCharCode("9"),d=ke.getCharCode("0"),o=d;o<=c;o++)r[wn][o]=o-d+2;r[wn][n]=12,r[wn][t]=13;for(var v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],g=0;g<v.length;g++)r[bm][ke.getCharCode(v[g])]=g;for(var y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<y.length;g++)ke.getCharCode(y[g])>0&&(r[qn][ke.getCharCode(y[g])]=g);return r}var K0=t7(Kt.createInt32Array(5,256)),dl=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r7=function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=ke.getCharCode(" "),t=ke.getCharCode(`
`),n=Px.singletonList(e7.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ke.getCharCode("\r"):a=o===t?2:0;break;case ke.getCharCode("."):a=o===e?3:0;break;case ke.getCharCode(","):a=o===e?4:0;break;case ke.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=r.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var u=Px.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return u.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,i,a=[];try{for(var o=dl(e),u=o.next();!u.done;u=o.next()){var l=u.value;this.updateStateForChar(l,t,a)}}catch(c){n={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r.simplifyStates(a)},r.prototype.updateStateForChar=function(e,t,n){for(var i=this.text[t]&255,a=K0[e.getMode()][i]>0,o=null,u=0;u<=qn;u++){var l=K0[u][i];if(l>0){if(o==null&&(o=e.endBinaryShift(t)),!a||u===e.getMode()||u===wn){var c=o.latchAndAppend(u,l);n.push(c)}if(!a&&Om[e.getMode()][u]>=0){var d=o.shiftAndAppend(u,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||K0[e.getMode()][i]===0){var v=e.addBinaryShiftChar(t);n.push(v)}},r.updateStateListForPair=function(e,t,n){var i,a,o=[];try{for(var u=dl(e),l=u.next();!l.done;l=u.next()){var c=l.value;this.updateStateForPair(c,t,n,o)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(o)},r.updateStateForPair=function(e,t,n,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(qn,n)),e.getMode()!==qn&&i.push(a.shiftAndAppend(qn,n)),n===3||n===4){var o=a.latchAndAppend(wn,16-n).latchAndAppend(wn,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(u)}},r.simplifyStates=function(e){var t,n,i,a,o=[];try{for(var u=dl(e),l=u.next();!l.done;l=u.next()){var c=l.value,d=!0,v=function(E){if(E.isBetterThanOrEqualTo(c))return d=!1,"break";c.isBetterThanOrEqualTo(E)&&(o=o.filter(function(w){return w!==E}))};try{for(var g=(i=void 0,dl(o)),y=g.next();!y.done;y=g.next()){var m=y.value,A=v(m);if(A==="break")break}}catch(E){i={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}d&&o.push(c)}}catch(E){t={error:E}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o},r}(),n7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var i=new r7(e).encode(),a=De.truncDivision(i.getSize()*t,100)+11,o=i.getSize()+a,u,l,c,d,v;if(n!==r.DEFAULT_AZTEC_LAYERS){if(u=n<0,l=Math.abs(n),l>(u?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new ye(ke.format("Illegal value %s for layers",n));c=r.totalBitsInLayer(l,u),d=r.WORD_SIZE[l];var g=c-c%d;if(v=r.stuffBits(i,d),v.getSize()+a>g)throw new ye("Data to large for user specified layer");if(u&&v.getSize()>d*64)throw new ye("Data to large for user specified layer")}else{d=0,v=null;for(var y=0;;y++){if(y>r.MAX_NB_BITS)throw new ye("Data too large for an Aztec code");if(u=y<=3,l=u?y+1:y,c=r.totalBitsInLayer(l,u),!(o>c)){(v==null||d!==r.WORD_SIZE[l])&&(d=r.WORD_SIZE[l],v=r.stuffBits(i,d));var g=c-c%d;if(!(u&&v.getSize()>d*64)&&v.getSize()+a<=g)break}}}var m=r.generateCheckWords(v,c,d),A=v.getSize()/d,E=r.generateModeMessage(u,l,A),w=(u?11:14)+l*4,C=new Int32Array(w),I;if(u){I=w;for(var y=0;y<C.length;y++)C[y]=y}else{I=w+1+2*De.truncDivision(De.truncDivision(w,2)-1,15);for(var b=De.truncDivision(w,2),R=De.truncDivision(I,2),y=0;y<b;y++){var M=y+De.truncDivision(y,15);C[b-y-1]=R-M-1,C[b+y]=R+M+1}}for(var L=new Jn(I),y=0,z=0;y<l;y++){for(var K=(l-y)*4+(u?9:12),Z=0;Z<K;Z++)for(var le=Z*2,te=0;te<2;te++)m.get(z+le+te)&&L.set(C[y*2+te],C[y*2+Z]),m.get(z+K*2+le+te)&&L.set(C[y*2+Z],C[w-1-y*2-te]),m.get(z+K*4+le+te)&&L.set(C[w-1-y*2-te],C[w-1-y*2-Z]),m.get(z+K*6+le+te)&&L.set(C[w-1-y*2-Z],C[y*2+te]);z+=K*8}if(r.drawModeMessage(L,u,I,E),u)r.drawBullsEye(L,De.truncDivision(I,2),5);else{r.drawBullsEye(L,De.truncDivision(I,2),7);for(var y=0,Z=0;y<De.truncDivision(w,2)-1;y+=15,Z+=16)for(var te=De.truncDivision(I,2)&1;te<I;te+=2)L.set(De.truncDivision(I,2)-Z,te),L.set(De.truncDivision(I,2)+Z,te),L.set(te,De.truncDivision(I,2)-Z),L.set(te,De.truncDivision(I,2)+Z)}var fe=new zb;return fe.setCompact(u),fe.setSize(I),fe.setLayers(l),fe.setCodeWords(A),fe.setMatrix(L),fe},r.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var i=new hr;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,t,n,i){var a=De.truncDivision(n,2);if(t)for(var o=0;o<7;o++){var u=a-3+o;i.get(o)&&e.set(u,a-5),i.get(o+7)&&e.set(a+5,u),i.get(20-o)&&e.set(u,a+5),i.get(27-o)&&e.set(a-5,u)}else for(var o=0;o<10;o++){var u=a-5+o+De.truncDivision(o,5);i.get(o)&&e.set(u,a-7),i.get(o+10)&&e.set(a+7,u),i.get(29-o)&&e.set(u,a+7),i.get(39-o)&&e.set(a-7,u)}},r.generateCheckWords=function(e,t,n){var i,a,o=e.getSize()/n,u=new Im(r.getGF(n)),l=De.truncDivision(t,n),c=r.bitsToWords(e,n,l);u.encode(c,l-o);var d=t%n,v=new hr;v.appendBits(0,d);try{for(var g=n7(Array.from(c)),y=g.next();!y.done;y=g.next()){var m=y.value;v.appendBits(m,n)}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}return v},r.bitsToWords=function(e,t,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/t;a<o;a++){for(var u=0,l=0;l<t;l++)u|=e.get(a*t+l)?1<<t-l-1:0;i[a]=u}return i},r.getGF=function(e){switch(e){case 4:return $r.AZTEC_PARAM;case 6:return $r.AZTEC_DATA_6;case 8:return $r.AZTEC_DATA_8;case 10:return $r.AZTEC_DATA_10;case 12:return $r.AZTEC_DATA_12;default:throw new ye("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new hr,i=e.getSize(),a=(1<<t)-2,o=0;o<i;o+=t){for(var u=0,l=0;l<t;l++)(o+l>=i||e.get(o+l))&&(u|=1<<t-1-l);(u&a)===a?(n.appendBits(u&a,t),o--):(u&a)===0?(n.appendBits(u|1,t),o--):n.appendBits(u,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var i7={audio:!1,video:{facingMode:"environment"}},a7=300,o7=function(r){var e=r===void 0?{}:r,t=e.timeBetweenDecodingAttempts,n=t===void 0?a7:t,i=e.hints;return W.useMemo(function(){var a=new ab(i);return a.timeBetweenDecodingAttempts=n,a},[i,n])},Lx=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(d){try{c(n.next(d))}catch(v){o(v)}}function l(d){try{c(n.throw(d))}catch(v){o(v)}}function c(d){d.done?a(d.value):i(d.value).then(u,l)}c((n=n.apply(r,e||[])).next())})},Fx=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},u7=function(r){var e=r.resetStream,t=W.useState(!1),n=t[0],i=t[1],a=W.useState(null),o=a[0],u=a[1],l=W.useRef(null),c=W.useRef(e),d=W.useCallback(function(y){l.current=y,u(typeof y.getCapabilities=="function"?y.getCapabilities().torch!==void 0:!1)},[]),v=W.useCallback(function(){return Lx(void 0,void 0,void 0,function(){return Fx(this,function(y){switch(y.label){case 0:return!l.current||!o?[2]:[4,l.current.applyConstraints({advanced:[{torch:!0}]})];case 1:return y.sent(),i(!0),[2]}})})},[o]),g=W.useCallback(function(){return Lx(void 0,void 0,void 0,function(){return Fx(this,function(y){switch(y.label){case 0:return!l.current||!o?[2]:(l.current=null,u(null),i(!1),[4,c.current()]);case 1:return y.sent(),[2]}})})},[o]);return W.useEffect(function(){c.current=e},[e]),{init:d,isOn:n,isAvailable:o,on:v,off:g}},s7=function(r,e){return JSON.stringify(r)===JSON.stringify(e)},kx=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(d){try{c(n.next(d))}catch(v){o(v)}}function l(d){try{c(n.throw(d))}catch(v){o(v)}}function c(d){d.done?a(d.value):i(d.value).then(u,l)}c((n=n.apply(r,e||[])).next())})},Ux=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},f7=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},l7=function(r){r===void 0&&(r={});var e=r.paused,t=e===void 0?!1:e,n=r.hints,i=r.timeBetweenDecodingAttempts,a=r.onDecodeResult,o=a===void 0?function(){}:a,u=r.onDecodeError,l=u===void 0?function(){}:u,c=r.onError,d=c===void 0?function(){}:c,v="deviceId"in r?r.deviceId:void 0,g=W.useState("constraints"in r?r.constraints:void 0),y=g[0],m=g[1],A=W.useRef(o),E=W.useRef(l),w=W.useRef(d),C=W.useRef(null),I=o7({hints:n,timeBetweenDecodingAttempts:i}),b=u7({resetStream:function(){return kx(void 0,void 0,void 0,function(){return Ux(this,function(Z){switch(Z.label){case 0:return K(),[4,z()];case 1:return Z.sent(),[2]}})})}}),R=b.init,M=f7(b,["init"]),L=W.useCallback(function(Z,le){Z&&A.current(Z),le&&E.current(le)},[]),z=W.useCallback(function(){return kx(void 0,void 0,void 0,function(){var Z,le,te;return Ux(this,function(fe){switch(fe.label){case 0:if(!C.current)return[2];if(t)return[2];fe.label=1;case 1:return fe.trys.push([1,6,,7]),v?[4,I.decodeFromVideoDevice(v,C.current,L)]:[3,3];case 2:return fe.sent(),[3,5];case 3:return[4,I.decodeFromConstraints(y??i7,C.current,L)];case 4:fe.sent(),fe.label=5;case 5:return[3,7];case 6:return Z=fe.sent(),w.current(Z),[2];case 7:return C.current?(le=C.current.srcObject,te=le.getVideoTracks()[0],te&&R(te),[2]):[2]}})})},[I,v,y,t,L,R]),K=W.useCallback(function(){I.reset()},[I]);return W.useEffect(function(){A.current=o},[o]),W.useEffect(function(){E.current=l},[l]),W.useEffect(function(){w.current=d},[d]),W.useEffect(function(){var Z=s7(y,r.constraints);Z||m(r.constraints)},[y,r]),W.useEffect(function(){return z(),function(){K()}},[z,K]),{ref:C,torch:M}},c7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jr=function(r){c7(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(pm),h7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bn=function(r){h7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Jr),d7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xe=function(r){d7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Jr),v7=function(){function r(e){if(this.binarizer=e,e===null)throw new xe("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var a=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(a))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r}(),p7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cr=function(r){p7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Jr),g7=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}(),_t=function(){function r(){}return r.arraycopy=function(e,t,n,i,a){for(;a--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}(),y7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xd=function(r){y7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Jr),x7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hx=function(r){x7(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Xd),_7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qt=function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var a=t;a<n;a++)e[a]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new xe("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new Hx(t);if(n>e)throw new Hx(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var a=_7(e),o=a.next();!o.done;o=a.next()){var u=o.value;i=31*i+u}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,a=new Int32Array(i);return _t.arraycopy(e,t,a,0,i),a},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,u=n(t,e[o]);if(u>0)i=o+1;else if(u<0)a=o-1;else return o}return-i-1},r.numberComparator=function(e,t){return e-t},r}(),Re=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),dr=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);_t.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=n[i]}var u=i*32+Re.numberOfTrailingZeros(a);return u>t?t:u},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=~n[i]}var u=i*32+Re.numberOfTrailingZeros(a);return u>t?t:u},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new xe;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,o=n;o<=i;o++){var u=o>n?0:e&31,l=o<i?31:t&31,c=(2<<l)-(1<<u);a[o]|=c}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new xe;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,u=i;u<=a;u++){var l=u>i?0:e&31,c=u<a?31:t&31,d=(2<<c)-(1<<l)&4294967295;if((o[u]&d)!==(n?d:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new xe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new xe("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var a=0;a<i;a++){for(var o=0,u=0;u<8;u++)this.get(e)&&(o|=1<<7-u),e++;t[n+a]=o}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-a]=o}if(this.size!==n*32){for(var u=n*32-this.size,l=e[0]>>>u,a=1;a<n;a++){var c=e[a];l|=c<<32-u,e[a-1]=l,l=c>>>u}e[n-1]=l}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&qt.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+qt.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r}(),Vh;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Vh||(Vh={}));const It=Vh;var m7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ne=function(r){m7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Jr),A7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},at;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(at||(at={}));var $t=function(){function r(e,t,n){for(var i,a,o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=o,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,d=l.length;c!==d;c++){var v=l[c];r.VALUES_TO_ECI.set(v,this)}try{for(var g=A7(o),y=g.next();!y.done;y=g.next()){var m=y.value;r.NAME_TO_ECI.set(m,this)}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ne("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new ne("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new ne("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(at.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(at.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(at.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(at.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(at.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(at.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(at.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(at.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(at.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(at.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(at.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(at.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(at.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(at.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(at.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(at.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(at.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(at.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(at.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(at.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(at.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(at.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(at.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(at.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(at.Big5,28,"Big5"),r.GB18030=new r(at.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(at.EUC_KR,30,"EUC_KR","EUC-KR"),r}(),E7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sl=function(r){E7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Jr),In=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof $t?e:$t.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(n.equals($t.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Sl("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals($t.UTF8)||e.equals($t.ISO8859_1)||e.equals($t.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},r}(),Ue=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return In.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(It.CHARACTER_SET)!==void 0)return t.get(It.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,u=0,l=0,c=0,d=0,v=0,g=0,y=0,m=0,A=0,E=0,w=0,C=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,I=0;I<n&&(i||a||o);I++){var b=e[I]&255;o&&(u>0?(b&128)===0?o=!1:u--:(b&128)!==0&&((b&64)===0?o=!1:(u++,(b&32)===0?l++:(u++,(b&16)===0?c++:(u++,(b&8)===0?d++:o=!1))))),i&&(b>127&&b<160?i=!1:b>159&&(b<192||b===215||b===247)&&w++),a&&(v>0?b<64||b===127||b>252?a=!1:v--:b===128||b===160||b>239?a=!1:b>160&&b<224?(g++,m=0,y++,y>A&&(A=y)):b>127?(v++,y=0,m++,m>E&&(E=m)):(y=0,m=0))}return o&&u>0&&(o=!1),a&&v>0&&(a=!1),o&&(C||l+c+d>0)?r.UTF8:a&&(r.ASSUME_SHIFT_JIS||A>=3||E>=3)?r.SHIFT_JIS:i&&a?A===2&&g===2||w*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:a?r.SHIFT_JIS:o?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function a(u,l,c,d,v,g){if(u==="%%")return"%";if(t[++i]!==void 0){u=d?parseInt(d.substr(1)):void 0;var y=v?parseInt(v.substr(1)):void 0,m;switch(g){case"s":m=t[i];break;case"c":m=t[i][0];break;case"f":m=parseFloat(t[i]).toFixed(u);break;case"p":m=parseFloat(t[i]).toPrecision(u);break;case"e":m=parseFloat(t[i]).toExponential(u);break;case"x":m=parseInt(t[i]).toString(y||16);break;case"d":m=parseFloat(parseInt(t[i],y||10).toPrecision(u)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(y);for(var A=parseInt(c),E=c&&c[0]+""=="0"?"0":" ";m.length<A;)m=l!==void 0?m+E:E+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},r.getBytes=function(e,t){return In.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=$t.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=$t.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=$t.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}(),be=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ue.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r}(),ei=function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new xe("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),a=0;a<t;a++)for(var o=e[a],u=0;u<n;u++)o[u]&&i.set(u,a);return i},r.parseFromString=function(e,t,n){if(e===null)throw new xe("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,u=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(a>o){if(u===-1)u=a-o;else if(a-o!==u)throw new xe("row lengths do not match");o=a,l++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,i[a]=!0,a++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[a]=!1,a++;else throw new xe("illegal character encountered: "+e.substring(c));if(a>o){if(u===-1)u=a-o;else if(a-o!==u)throw new xe("row lengths do not match");l++}for(var d=new r(u,l),v=0;v<a;v++)i[v]&&d.set(Math.floor(v%u),Math.floor(v/u));return d},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new xe("input matrix dimensions do not match");for(var t=new dr(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var u=a*n,l=e.getRow(a,t).getBitArray(),c=0;c<n;c++)i[u+c]^=l[c]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new xe("Left and top must be nonnegative");if(i<1||n<1)throw new xe("Height and width must be at least 1");var a=e+n,o=t+i;if(o>this.height||a>this.width)throw new xe("The region must fit inside the matrix");for(var u=this.rowSize,l=this.bits,c=t;c<o;c++)for(var d=c*u,v=e;v<a;v++)l[d+Math.floor(v/32)]|=1<<(v&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new dr(this.width):t.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)t.setBulk(o*32,i[a+o]);return t},r.prototype.setRow=function(e,t){_t.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new dr(e),i=new dr(e),a=0,o=Math.floor((t+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(t-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,a=e,o=t,u=-1,l=-1,c=0;c<t;c++)for(var d=0;d<n;d++){var v=i[c*n+d];if(v!==0){if(c<o&&(o=c),c>l&&(l=c),d*32<a){for(var g=0;(v<<31-g&4294967295)===0;)g++;d*32+g<a&&(a=d*32+g)}if(d*32+31>u){for(var g=31;!(v>>>g);)g--;d*32+g>u&&(u=d*32+g)}}}return u<a||l<o?null:Int32Array.from([a,o,u-a+1,l-o+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,a=n%e*32,o=t[n],u=0;(o<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=t[n],u=31;!(o>>>u);)u--;return a+=u,Int32Array.from([a,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&qt.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+qt.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new be,a=0,o=this.height;a<o;a++){for(var u=0,l=this.width;u<l;u++)i.append(this.get(u,a)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}(),w7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$=function(r){w7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Jr),C7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),S7=function(r){C7(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new dr(a):n.clear(),this.initArrays(a);for(var o=i.getRow(t,this.luminances),u=this.buckets,l=0;l<a;l++)u[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(u);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<c&&n.set(l);else for(var d=o[0]&255,v=o[1]&255,l=1;l<a-1;l++){var g=o[l+1]&255;(v*4-d-g)/2<c&&n.set(l),d=v,v=g}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),a=new ei(n,i);this.initArrays(n);for(var o=this.buckets,u=1;u<5;u++)for(var l=Math.floor(i*u/5),c=t.getRow(l,this.luminances),d=Math.floor(n*4/5),v=Math.floor(n/5);v<d;v++){var g=c[v]&255;o[g>>e.LUMINANCE_SHIFT]++}for(var y=e.estimateBlackPoint(o),m=t.getMatrix(),u=0;u<i;u++)for(var A=u*n,v=0;v<n;v++){var g=m[A+v]&255;g<y&&a.set(v,u)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,a=0,o=0,u=0;u<n;u++)t[u]>o&&(a=u,o=t[u]),t[u]>i&&(i=t[u]);for(var l=0,c=0,u=0;u<n;u++){var d=u-a,v=t[u]*d*d;v>c&&(l=u,c=v)}if(a>l){var g=a;a=l,l=g}if(l-a<=n/16)throw new $;for(var y=l-1,m=-1,u=l-1;u>a;u--){var A=u-a,v=A*A*(l-u)*(i-t[u]);v>m&&(y=u,m=v)}return y<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(g7),I7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T7=function(r){I7(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var l=e.calculateBlackPoints(a,o,u,n,i),c=new ei(n,i);e.calculateThresholdForBlock(a,o,u,n,i,l,c),this.matrix=c}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,a,o,u,l){for(var c=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,v=0;v<i;v++){var g=v<<e.BLOCK_SIZE_POWER;g>c&&(g=c);for(var y=e.cap(v,2,i-3),m=0;m<n;m++){var A=m<<e.BLOCK_SIZE_POWER;A>d&&(A=d);for(var E=e.cap(m,2,n-3),w=0,C=-2;C<=2;C++){var I=u[y+C];w+=I[E-2]+I[E-1]+I[E]+I[E+1]+I[E+2]}var b=w/25;e.thresholdBlock(t,A,g,b,a,l)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,a,o,u){for(var l=0,c=i*o+n;l<e.BLOCK_SIZE;l++,c+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(t[c+d]&255)<=a&&u.set(n+d,i+l)},e.calculateBlackPoints=function(t,n,i,a,o){for(var u=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,c=new Array(i),d=0;d<i;d++){c[d]=new Int32Array(n);var v=d<<e.BLOCK_SIZE_POWER;v>u&&(v=u);for(var g=0;g<n;g++){var y=g<<e.BLOCK_SIZE_POWER;y>l&&(y=l);for(var m=0,A=255,E=0,w=0,C=v*a+y;w<e.BLOCK_SIZE;w++,C+=a){for(var I=0;I<e.BLOCK_SIZE;I++){var b=t[C+I]&255;m+=b,b<A&&(A=b),b>E&&(E=b)}if(E-A>e.MIN_DYNAMIC_RANGE)for(w++,C+=a;w<e.BLOCK_SIZE;w++,C+=a)for(var I=0;I<e.BLOCK_SIZE;I++)m+=t[C+I]&255}var R=m>>e.BLOCK_SIZE_POWER*2;if(E-A<=e.MIN_DYNAMIC_RANGE&&(R=A/2,d>0&&g>0)){var M=(c[d-1][g]+2*c[d][g-1]+c[d-1][g-1])/4;A<M&&(R=M)}c[d][g]=R}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(S7),ac=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new Sl("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new Sl("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new Sl("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new be,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,u=void 0;o<64?u="#":o<128?u="+":o<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()},r}(),b7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wd=function(r){b7(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,a){return new e(this.delegate.crop(t,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(ac),O7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),D7=function(r){O7(e,r);function e(t,n){n===void 0&&(n=!1);var i=r.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,n),i}return e.makeBufferFromCanvasImageData=function(t,n){n===void 0&&(n=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,n)},e.toGrayscaleBuffer=function(t,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var u=0,l=0,c=t.length;u<c;u+=4,l++){var d=void 0,v=t[u+3];if(v===0)d=255;else{var g=t[u],y=t[u+1],m=t[u+2];d=306*g+601*y+117*m+512>>10}o[l]=d}else for(var u=0,l=0,A=t.length;u<A;u+=4,l++){var d=void 0,v=t[u+3];if(v===0)d=255;else{var g=t[u],y=t[u+1],m=t[u+2];d=306*g+601*y+117*m+512>>10}o[l]=255-d}return o},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new xe("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return r.prototype.crop.call(this,t,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,u=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*u),c=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*u);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(a),i.drawImage(this.canvas,o/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Wd(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(ac),R7=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}(),Fr=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(d){try{c(n.next(d))}catch(v){o(v)}}function l(d){try{c(n.throw(d))}catch(v){o(v)}}function c(d){d.done?a(d.value):i(d.value).then(u,l)}c((n=n.apply(r,e||[])).next())})},kr=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},N7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iu=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return Fr(this,void 0,void 0,function(){var e,t,n,i,a,o,u,l,c,d,v,g;return kr(this,function(y){switch(y.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),t=[];try{for(n=N7(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(u=a.deviceId||a.id,l=a.label||"Video device "+(t.length+1),c=a.groupId,d={deviceId:u,label:l,kind:o,groupId:c},t.push(d))}catch(m){v={error:m}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(v)throw v.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return Fr(this,void 0,void 0,function(){var e;return kr(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new R7(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return Fr(this,void 0,void 0,function(){var t;return kr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return Fr(this,void 0,void 0,function(){return kr(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return Fr(this,void 0,void 0,function(){var n,i;return kr(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return Fr(this,void 0,void 0,function(){var n;return kr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return Fr(this,void 0,void 0,function(){var n,i;return kr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return Fr(this,void 0,void 0,function(){return kr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return Fr(this,void 0,void 0,function(){var i,a;return kr(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,n)];case 1:return[2,o.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return Fr(this,void 0,void 0,function(){var i;return kr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,a.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return Fr(this,void 0,void 0,function(){var i;return kr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return Fr(this,void 0,void 0,function(){var n;return kr(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return Fr(this,void 0,void 0,function(){return kr(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new Bn("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new Bn("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Bn("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Bn("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new Bn("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new Bn("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Bn("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new Bn("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Bn("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Bn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return Fr(this,void 0,void 0,function(){return kr(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return Fr(this,void 0,void 0,function(){return kr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,u){if(i._stopAsyncDecode){u(new $("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(g){var c=t&&g instanceof $,d=g instanceof cr||g instanceof ne,v=d&&n;if(c||v)return setTimeout(a,i._timeBetweenDecodingAttempts,o,u);u(g)}};return new Promise(function(o,u){return a(o,u)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);t(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){t(null,l);var o=l instanceof cr||l instanceof ne,u=l instanceof $;(o||u)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new D7(n,t),a=new T7(i);return new v7(a)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r}(),Mr=function(){function r(e,t,n,i,a,o){n===void 0&&(n=t==null?0:8*t.length),o===void 0&&(o=_t.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=_t.currentTimeMillis():this.timestamp=o}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);_t.arraycopy(t,0,n,0,t.length),_t.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}(),Gh;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Gh||(Gh={}));const de=Gh;var zh;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(zh||(zh={}));const Cr=zh;var oc=function(){function r(e,t,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}(),ms=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new xe;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}(),ua=function(){function r(e,t){if(t.length===0)throw new xe;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),_t.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,a=t.length;i!==a;i++){var o=t[i];n=ms.addOrSubtract(n,o)}return n}n=t[0];for(var u=t.length,l=this.field,i=1;i<u;i++)n=ms.addOrSubtract(l.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new xe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;_t.arraycopy(n,0,a,0,o);for(var u=o;u<n.length;u++)a[u]=ms.addOrSubtract(t[u-o],n[u]);return new r(this.field,a)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new xe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),u=this.field,l=0;l<n;l++)for(var c=t[l],d=0;d<a;d++)o[l+d]=ms.addOrSubtract(o[l+d],u.multiply(c,i[d]));return new r(u,o)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),a=this.coefficients,o=0;o<t;o++)i[o]=n.multiply(a[o],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new xe;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,u=0;u<i;u++)a[u]=o.multiply(n[u],t);return new r(o,a)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new xe("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new xe("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),l=t.multiply(i.getCoefficient(i.getDegree()),o),c=e.multiplyByMonomial(u,l),d=t.buildMonomial(u,l);n=n.addOrSubtract(d),i=i.addOrSubtract(c)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}(),M7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dm=function(r){M7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Jr),B7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zr=function(r){B7(e,r);function e(t,n,i){var a=r.call(this)||this;a.primitive=t,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),u=1,l=0;l<n;l++)o[l]=u,u*=2,u>=n&&(u^=t,u&=n-1);a.expTable=o;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[o[l]]=l;return a.logTable=c,a.zero=new ua(a,Int32Array.from([0])),a.one=new ua(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new xe;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new ua(this,i)},e.prototype.inverse=function(t){if(t===0)throw new Dm;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Re.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(ms),P7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vl=function(r){P7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Jr),L7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zs=function(r){L7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Jr),uc=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new ua(n,e),a=new Int32Array(t),o=!0,u=0;u<t;u++){var l=i.evaluateAt(n.exp(u+n.getGeneratorBase()));a[a.length-1-u]=l,l!==0&&(o=!1)}if(!o)for(var c=new ua(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),v=d[0],g=d[1],y=this.findErrorLocations(v),m=this.findErrorMagnitudes(g,y),u=0;u<y.length;u++){var A=e.length-1-n.log(y[u]);if(A<0)throw new vl("Bad error location");e[A]=Zr.addOrSubtract(e[A],m[u])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,o=e,u=t,l=a.getZero(),c=a.getOne();u.getDegree()>=(n/2|0);){var d=o,v=l;if(o=u,l=c,o.isZero())throw new vl("r_{i-1} was zero");u=d;for(var g=a.getZero(),y=o.getCoefficient(o.getDegree()),m=a.inverse(y);u.getDegree()>=o.getDegree()&&!u.isZero();){var A=u.getDegree()-o.getDegree(),E=a.multiply(u.getCoefficient(u.getDegree()),m);g=g.addOrSubtract(a.buildMonomial(A,E)),u=u.addOrSubtract(o.multiplyByMonomial(A,E))}if(c=g.multiply(l).addOrSubtract(v),u.getDegree()>=o.getDegree())throw new zs("Division algorithm failed to reduce polynomial?")}var w=c.getCoefficient(0);if(w===0)throw new vl("sigmaTilde(0) was zero");var C=a.inverse(w),I=c.multiplyScalar(C),b=u.multiplyScalar(C);return[I,b]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,a=this.field,o=1;o<a.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==t)throw new vl("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var u=a.inverse(t[o]),l=1,c=0;c<n;c++)if(o!==c){var d=a.multiply(t[c],u),v=(d&1)===0?d|1:d&-2;l=a.multiply(l,v)}i[o]=a.multiply(e.evaluateAt(u),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],u))}return i},r}(),xr;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(xr||(xr={}));var Vx=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),a=r.convertBoolArrayToByteArray(i),o=r.getEncodedData(i),u=new oc(a,o,null,null);return u.setNumBits(i.length),u},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=xr.UPPER,i=xr.UPPER,a="",o=0;o<t;)if(i===xr.BINARY){if(t-o<5)break;var u=r.readCode(e,o,5);if(o+=5,u===0){if(t-o<11)break;u=r.readCode(e,o,11)+31,o+=11}for(var l=0;l<u;l++){if(t-o<8){o=t;break}var c=r.readCode(e,o,8);a+=Ue.castAsNonUtf8Char(c),o+=8}i=n}else{var d=i===xr.DIGIT?4:5;if(t-o<d)break;var c=r.readCode(e,o,d);o+=d;var v=r.getCharacter(i,c);v.startsWith("CTRL_")?(n=i,i=r.getTable(v.charAt(5)),v.charAt(6)==="L"&&(n=i)):(a+=v,i=n)}return a},r.getTable=function(e){switch(e){case"L":return xr.LOWER;case"P":return xr.PUNCT;case"M":return xr.MIXED;case"D":return xr.DIGIT;case"B":return xr.BINARY;case"U":default:return xr.UPPER}},r.getCharacter=function(e,t){switch(e){case xr.UPPER:return r.UPPER_TABLE[t];case xr.LOWER:return r.LOWER_TABLE[t];case xr.MIXED:return r.MIXED_TABLE[t];case xr.PUNCT:return r.PUNCT_TABLE[t];case xr.DIGIT:return r.DIGIT_TABLE[t];default:throw new zs("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=Zr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Zr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Zr.AZTEC_DATA_10):(n=12,t=Zr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new ne;for(var o=e.length%n,u=new Int32Array(a),l=0;l<a;l++,o+=n)u[l]=r.readCode(e,o,n);try{var c=new uc(t);c.decode(u,a-i)}catch(E){throw new ne(E)}for(var d=(1<<n)-1,v=0,l=0;l<i;l++){var g=u[l];if(g===0||g===d)throw new ne;(g===1||g===d-1)&&v++}for(var y=new Array(i*n-v),m=0,l=0;l<i;l++){var g=u[l];if(g===1||g===d-1)y.fill(g>1,m,m+n-1),m+=n-1;else for(var A=n-1;A>=0;--A)y[m++]=(g&1<<A)!==0}return y},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,t));if(t)for(var u=0;u<a.length;u++)a[u]=u;else for(var l=i+1+2*Re.truncDivision(Re.truncDivision(i,2)-1,15),c=i/2,d=Re.truncDivision(l,2),u=0;u<c;u++){var v=u+Re.truncDivision(u,15);a[c-u-1]=d-v-1,a[c+u]=d+v+1}for(var u=0,g=0;u<n;u++){for(var y=(n-u)*4+(t?9:12),m=u*2,A=i-1-m,E=0;E<y;E++)for(var w=E*2,C=0;C<2;C++)o[g+w+C]=e.get(a[m+C],a[m+E]),o[g+2*y+w+C]=e.get(a[m+E],a[A-C]),o[g+4*y+w+C]=e.get(a[A-C],a[A-E]),o[g+6*y+w+C]=e.get(a[A-E],a[m+C]);g+=y*8}return o},r.readCode=function(e,t,n){for(var i=0,a=t;a<t+n;a++)i<<=1,e[a]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}(),je=function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var a=e-n,o=t-i;return Math.sqrt(a*a+o*o)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var a=e[n];t+=a}return t},r}(),Xh=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),he=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*Xh.floatToIntBits(this.x)+Xh.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,u;if(n>=t&&n>=i?(o=e[0],a=e[1],u=e[2]):i>=n&&i>=t?(o=e[1],a=e[0],u=e[2]):(o=e[2],a=e[0],u=e[1]),this.crossProductZ(a,o,u)<0){var l=a;a=u,u=l}e[0]=a,e[1]=o,e[2]=u},r.distance=function(e,t){return je.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,a=t.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},r}(),Yd=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),F7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k7=function(r){F7(e,r);function e(t,n,i,a,o){var u=r.call(this,t,n)||this;return u.compact=i,u.nbDatablocks=a,u.nbLayers=o,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Yd),Wh=function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,u=!1,l=!1,c=!1,d=!1,v=!1,g=this.width,y=this.height;o;){o=!1;for(var m=!0;(m||!l)&&t<g;)m=this.containsBlackPoint(n,i,t,!1),m?(t++,o=!0,l=!0):l||t++;if(t>=g){a=!0;break}for(var A=!0;(A||!c)&&i<y;)A=this.containsBlackPoint(e,t,i,!0),A?(i++,o=!0,c=!0):c||i++;if(i>=y){a=!0;break}for(var E=!0;(E||!d)&&e>=0;)E=this.containsBlackPoint(n,i,e,!1),E?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var w=!0;(w||!v)&&n>=0;)w=this.containsBlackPoint(e,t,n,!0),w?(n--,o=!0,v=!0):v||n--;if(n<0){a=!0;break}o&&(u=!0)}if(!a&&u){for(var C=t-e,I=null,b=1;I===null&&b<C;b++)I=this.getBlackPointOnSegment(e,i-b,e+b,i);if(I==null)throw new $;for(var R=null,b=1;R===null&&b<C;b++)R=this.getBlackPointOnSegment(e,n+b,e+b,n);if(R==null)throw new $;for(var M=null,b=1;M===null&&b<C;b++)M=this.getBlackPointOnSegment(t,n+b,t-b,n);if(M==null)throw new $;for(var L=null,b=1;L===null&&b<C;b++)L=this.getBlackPointOnSegment(t,i-b,t-b,i);if(L==null)throw new $;return this.centerEdges(L,I,M,R)}else throw new $},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var a=je.round(je.distance(e,t,n,i)),o=(n-e)/a,u=(i-t)/a,l=this.image,c=0;c<a;c++){var d=je.round(e+c*o),v=je.round(t+c*u);if(l.get(d,v))return new he(d,v)}return null},r.prototype.centerEdges=function(e,t,n,i){var a=e.getX(),o=e.getY(),u=t.getX(),l=t.getY(),c=n.getX(),d=n.getY(),v=i.getX(),g=i.getY(),y=r.CORR;return a<this.width/2?[new he(v-y,g+y),new he(u+y,l+y),new he(c-y,d-y),new he(a+y,o-y)]:[new he(v+y,g+y),new he(u+y,l-y),new he(c-y,d+y),new he(a-y,o-y)]},r.prototype.containsBlackPoint=function(e,t,n,i){var a=this.image;if(i){for(var o=e;o<=t;o++)if(a.get(o,n))return!0}else for(var u=e;u<=t;u++)if(a.get(n,u))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}(),Gx=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var u=Math.floor(t[o]),l=Math.floor(t[o+1]);if(u<-1||u>n||l<-1||l>i)throw new $;a=!1,u===-1?(t[o]=0,a=!0):u===n&&(t[o]=n-1,a=!0),l===-1?(t[o+1]=0,a=!0):l===i&&(t[o+1]=i-1,a=!0)}a=!0;for(var o=t.length-2;o>=0&&a;o-=2){var u=Math.floor(t[o]),l=Math.floor(t[o+1]);if(u<-1||u>n||l<-1||l>i)throw new $;a=!1,u===-1?(t[o]=0,a=!0):u===n&&(t[o]=n-1,a=!0),l===-1?(t[o+1]=0,a=!0):l===i&&(t[o+1]=i-1,a=!0)}},r}(),Rm=function(){function r(e,t,n,i,a,o,u,l,c){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=u,this.a23=l,this.a33=c}return r.quadrilateralToQuadrilateral=function(e,t,n,i,a,o,u,l,c,d,v,g,y,m,A,E){var w=r.quadrilateralToSquare(e,t,n,i,a,o,u,l),C=r.squareToQuadrilateral(c,d,v,g,y,m,A,E);return C.times(w)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,u=this.a22,l=this.a23,c=this.a31,d=this.a32,v=this.a33,g=0;g<t;g+=2){var y=e[g],m=e[g+1],A=a*y+l*m+v;e[g]=(n*y+o*m+c)/A,e[g+1]=(i*y+u*m+d)/A}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,u=this.a22,l=this.a23,c=this.a31,d=this.a32,v=this.a33,g=e.length,y=0;y<g;y++){var m=e[y],A=t[y],E=a*m+l*A+v;e[y]=(n*m+o*A+c)/E,t[y]=(i*m+u*A+d)/E}},r.squareToQuadrilateral=function(e,t,n,i,a,o,u,l){var c=e-n+a-u,d=t-i+o-l;if(c===0&&d===0)return new r(n-e,a-n,e,i-t,o-i,t,0,0,1);var v=n-a,g=u-a,y=i-o,m=l-o,A=v*m-g*y,E=(c*m-g*d)/A,w=(v*d-c*y)/A;return new r(n-e+E*n,u-e+w*u,e,i-t+E*i,l-t+w*l,t,E,w,1)},r.quadrilateralToSquare=function(e,t,n,i,a,o,u,l){return r.squareToQuadrilateral(e,t,n,i,a,o,u,l).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}(),U7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H7=function(r){U7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,a,o,u,l,c,d,v,g,y,m,A,E,w,C,I,b){var R=Rm.quadrilateralToQuadrilateral(a,o,u,l,c,d,v,g,y,m,A,E,w,C,I,b);return this.sampleGridWithTransform(t,n,i,R)},e.prototype.sampleGridWithTransform=function(t,n,i,a){if(n<=0||i<=0)throw new $;for(var o=new ei(n,i),u=new Float32Array(2*n),l=0;l<i;l++){for(var c=u.length,d=l+.5,v=0;v<c;v+=2)u[v]=v/2+.5,u[v+1]=d;a.transformPoints(u),Gx.checkAndNudgePoints(t,u);try{for(var v=0;v<c;v+=2)t.get(Math.floor(u[v]),Math.floor(u[v+1]))&&o.set(v/2,l)}catch{throw new $}}return o},e}(Gx),jd=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new H7,r}(),jr=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new he(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}(),V7=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new k7(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new $;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(a,o,u){var l=(a>>t-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Re.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new $},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),u=n-1;u>=0;--u)o[u]=e&15,e>>=4;try{var l=new uc(Zr.AZTEC_PARAM);l.decode(o,a)}catch{throw new $}for(var c=0,u=0;u<i;u++)c=(c<<4)+o[u];return c},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,o,1,-1),l=this.getFirstDifferent(n,o,1,1),c=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var v=this.distancePoint(d,u)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(v<.75||v>1.25||!this.isWhiteOrBlackRectangle(u,l,c,d))break}t=u,n=l,i=c,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;var g=new he(t.getX()+.5,t.getY()-.5),y=new he(n.getX()+.5,n.getY()+.5),m=new he(i.getX()-.5,i.getY()+.5),A=new he(a.getX()-.5,a.getY()-.5);return this.expandSquare([g,y,m,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var a=new Wh(this.image).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new jr(o+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new jr(o+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new jr(o-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new jr(o-7,u-7),!1,-1,-1).toResultPoint()}var l=je.round((e.getX()+i.getX()+t.getX()+n.getX())/4),c=je.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var a=new Wh(this.image,15,l,c).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new jr(l+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new jr(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new jr(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new jr(l-7,c-7),!1,-1,-1).toResultPoint()}return l=je.round((e.getX()+i.getX()+t.getX()+n.getX())/4),c=je.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new jr(l,c)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,a){var o=jd.getInstance(),u=this.getDimension(),l=u/2-this.nbCenterLayers,c=u/2+this.nbCenterLayers;return o.sampleGrid(e,u,u,l,l,c,l,c,c,l,c,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,a=this.distanceResultPoint(e,t),o=a/n,u=e.getX(),l=e.getY(),c=o*(t.getX()-e.getX())/a,d=o*(t.getY()-e.getY())/a,v=0;v<n;v++)this.image.get(je.round(u+v*c),je.round(l+v*d))&&(i|=1<<n-v-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var a=3;e=new jr(e.getX()-a,e.getY()+a),t=new jr(t.getX()-a,t.getY()-a),n=new jr(n.getX()+a,n.getY()-a),i=new jr(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var u=this.getColor(e,t);return u!==o||(u=this.getColor(t,n),u!==o)?!1:(u=this.getColor(n,i),u===o)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,o=0,u=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),v=0;v<d;v++)u+=i,l+=a,this.image.get(je.round(u),je.round(l))!==c&&o++;var g=o/n;return g>.1&&g<.9?0:g<=.1===c?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=i;return o-=i,new jr(a,o)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new he(u+i*a,l+i*o),d=new he(u-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var v=new he(u+i*a,l+i*o),g=new he(u-i*a,l-i*o),y=[c,v,d,g];return y},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=je.round(e.getX()),n=je.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return je.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return je.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Re.truncDivision(this.nbLayers-4,8)+1)+15},r}(),Yh=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new V7(e.getBlackMatrix()),a=null,o=null;try{var u=i.detectMirror(!1);a=u.getPoints(),this.reportFoundResultPoints(t,a),o=new Vx().decode(u)}catch(v){n=v}if(o==null)try{var u=i.detectMirror(!0);a=u.getPoints(),this.reportFoundResultPoints(t,a),o=new Vx().decode(u)}catch(v){throw n??v}var l=new Mr(o.getText(),o.getRawBytes(),o.getNumBits(),a,de.AZTEC,_t.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(Cr.BYTE_SEGMENTS,c);var d=o.getECLevel();return d!=null&&l.putMetadata(Cr.ERROR_CORRECTION_LEVEL,d),l},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(It.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r}(),G7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){G7(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Yh,t)||this}return e})(iu);var Jt=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(It.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),o=a.getResultMetadata(),u=270;o!==null&&o.get(Cr.ORIENTATION)===!0&&(u=u+o.get(Cr.ORIENTATION)%360),a.putMetadata(Cr.ORIENTATION,u);var l=a.getResultPoints();if(l!==null)for(var c=i.getHeight(),d=0;d<l.length;d++)l[d]=new he(c-l[d].getY()-1,l[d].getX());return a}else throw new $}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),a=new dr(n),o=t&&t.get(It.TRY_HARDER)===!0,u=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var c=Math.trunc(i/2),d=0;d<l;d++){var v=Math.trunc((d+1)/2),g=(d&1)===0,y=c+u*(g?v:-v);if(y<0||y>=i)break;try{a=e.getBlackRow(y,a)}catch{continue}for(var m=function(C){if(C===1&&(a.reverse(),t&&t.get(It.NEED_RESULT_POINT_CALLBACK)===!0)){var I=new Map;t.forEach(function(M,L){return I.set(L,M)}),I.delete(It.NEED_RESULT_POINT_CALLBACK),t=I}try{var b=A.decodeRow(y,a,t);if(C===1){b.putMetadata(Cr.ORIENTATION,180);var R=b.getResultPoints();R!==null&&(R[0]=new he(n-R[0].getX()-1,R[0].getY()),R[1]=new he(n-R[1].getX()-1,R[1].getY()))}return{value:b}}catch{}},A=this,E=0;E<2;E++){var w=m(E);if(typeof w=="object")return w.value}}throw new $},r.recordPattern=function(e,t,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(t>=o)throw new $;for(var u=!e.get(t),l=0,c=t;c<o;){if(e.get(c)!==u)n[l]++;else{if(++l===i)break;n[l]=1,u=!u}c++}if(!(l===i||l===i-1&&c===o))throw new $},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new $;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,u=0;u<i;u++)a+=e[u],o+=t[u];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var c=0,d=0;d<i;d++){var v=e[d],g=t[d]*l,y=v>g?v-g:g-v;if(y>n)return Number.POSITIVE_INFINITY;c+=y}return c/a},r}(),z7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zx=function(r){z7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),u=i,l=!1,c=6,d=i;d<n;d++)if(t.get(d)!==l)o[a]++;else{if(a===c-1){for(var v=e.MAX_AVG_VARIANCE,g=-1,y=e.CODE_START_A;y<=e.CODE_START_C;y++){var m=Jt.patternMatchVariance(o,e.CODE_PATTERNS[y],e.MAX_INDIVIDUAL_VARIANCE);m<v&&(v=m,g=y)}if(g>=0&&t.isRange(Math.max(0,u-(d-u)/2),u,!1))return Int32Array.from([u,d,g]);u+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new $},e.decodeCode=function(t,n,i){Jt.recordPattern(t,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,u=0;u<e.CODE_PATTERNS.length;u++){var l=e.CODE_PATTERNS[u],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<a&&(a=c,o=u)}if(o>=0)return o;throw new $},e.prototype.decodeRow=function(t,n,i){var a=i&&i.get(It.ASSUME_GS1)===!0,o=e.findStartPattern(n),u=o[2],l=0,c=new Uint8Array(20);c[l++]=u;var d;switch(u){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new ne}for(var v=!1,g=!1,y="",m=o[0],A=o[1],E=Int32Array.from([0,0,0,0,0,0]),w=0,C=0,I=u,b=0,R=!0,M=!1,L=!1;!v;){var z=g;switch(g=!1,w=C,C=e.decodeCode(n,E,A),c[l++]=C,C!==e.CODE_STOP&&(R=!0),C!==e.CODE_STOP&&(b++,I+=b*C),m=A,A+=E.reduce(function(ie,ve){return ie+ve},0),C){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ne}switch(d){case e.CODE_CODE_A:if(C<64)L===M?y+=String.fromCharCode(32+C):y+=String.fromCharCode(32+C+128),L=!1;else if(C<96)L===M?y+=String.fromCharCode(C-64):y+=String.fromCharCode(C+64),L=!1;else switch(C!==e.CODE_STOP&&(R=!1),C){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!M&&L?(M=!0,L=!1):M&&L?(M=!1,L=!1):L=!0;break;case e.CODE_SHIFT:g=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_B:if(C<96)L===M?y+=String.fromCharCode(32+C):y+=String.fromCharCode(32+C+128),L=!1;else switch(C!==e.CODE_STOP&&(R=!1),C){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!M&&L?(M=!0,L=!1):M&&L?(M=!1,L=!1):L=!0;break;case e.CODE_SHIFT:g=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_C:if(C<100)C<10&&(y+="0"),y+=C;else switch(C!==e.CODE_STOP&&(R=!1),C){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:v=!0;break}break}z&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var K=A-m;if(A=n.getNextUnset(A),!n.isRange(A,Math.min(n.getSize(),A+(A-m)/2),!1))throw new $;if(I-=b*w,I%103!==w)throw new cr;var Z=y.length;if(Z===0)throw new $;Z>0&&R&&(d===e.CODE_CODE_C?y=y.substring(0,Z-2):y=y.substring(0,Z-1));for(var le=(o[1]+o[0])/2,te=m+K/2,fe=c.length,Ve=new Uint8Array(fe),Le=0;Le<fe;Le++)Ve[Le]=c[Le];var Y=[new he(le,t),new he(te,t)];return new Mr(y,Ve,0,Y,de.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Jt),X7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),q0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xx=function(r){X7(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var a,o,u,l,c=this.counters;c.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,c),v=n.getNextSet(d[1]),g=n.getSize(),y,m;do{e.recordPattern(n,v,c);var A=e.toNarrowWidePattern(c);if(A<0)throw new $;y=e.patternToChar(A),this.decodeRowResult+=y,m=v;try{for(var E=(a=void 0,q0(c)),w=E.next();!w.done;w=E.next()){var C=w.value;v+=C}}catch(fe){a={error:fe}}finally{try{w&&!w.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}v=n.getNextSet(v)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var b=q0(c),R=b.next();!R.done;R=b.next()){var C=R.value;I+=C}}catch(fe){u={error:fe}}finally{try{R&&!R.done&&(l=b.return)&&l.call(b)}finally{if(u)throw u.error}}var M=v-m-I;if(v!==g&&M*2<I)throw new $;if(this.usingCheckDigit){for(var L=this.decodeRowResult.length-1,z=0,K=0;K<L;K++)z+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(L)!==e.ALPHABET_STRING.charAt(z%43))throw new cr;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new $;var Z;this.extendedMode?Z=e.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;var le=(d[1]+d[0])/2,te=m+I/2;return new Mr(Z,null,0,[new he(le,t),new he(te,t)],de.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),a=t.getNextSet(0),o=0,u=a,l=!1,c=n.length,d=a;d<i;d++)if(t.get(d)!==l)n[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((d-u)/2)),u,!1))return[u,d];u+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new $},e.toNarrowWidePattern=function(t){var n,i,a=t.length,o=0,u;do{var l=2147483647;try{for(var c=(n=void 0,q0(t)),d=c.next();!d.done;d=c.next()){var v=d.value;v<l&&v>o&&(l=v)}}catch(A){n={error:A}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o=l,u=0;for(var g=0,y=0,m=0;m<a;m++){var v=t[m];v>o&&(y|=1<<a-1-m,u++,g+=v)}if(u===3){for(var m=0;m<a&&u>0;m++){var v=t[m];if(v>o&&(u--,v*2>=g))return-1}return y}}while(u>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new $},e.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var u=t.charAt(a+1),l="\0";switch(o){case"+":if(u>="A"&&u<="Z")l=String.fromCharCode(u.charCodeAt(0)+32);else throw new ne;break;case"$":if(u>="A"&&u<="Z")l=String.fromCharCode(u.charCodeAt(0)-64);else throw new ne;break;case"%":if(u>="A"&&u<="E")l=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")l=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")l=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")l=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")l="\0";else if(u==="V")l="@";else if(u==="W")l="`";else if(u==="X"||u==="Y"||u==="Z")l="";else throw new ne;break;case"/":if(u>="A"&&u<="O")l=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")l=":";else throw new ne;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Jt),W7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Q0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wx=function(r){W7(e,r);function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,n,i){var a,o,u,l,c=this.findAsteriskPattern(n),d=n.getNextSet(c[1]),v=n.getSize(),g=this.counters;g.fill(0),this.decodeRowResult="";var y,m;do{e.recordPattern(n,d,g);var A=this.toPattern(g);if(A<0)throw new $;y=this.patternToChar(A),this.decodeRowResult+=y,m=d;try{for(var E=(a=void 0,Q0(g)),w=E.next();!w.done;w=E.next()){var C=w.value;d+=C}}catch(K){a={error:K}}finally{try{w&&!w.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var b=Q0(g),R=b.next();!R.done;R=b.next()){var C=R.value;I+=C}}catch(K){u={error:K}}finally{try{R&&!R.done&&(l=b.return)&&l.call(b)}finally{if(u)throw u.error}}if(d===v||!n.get(d))throw new $;if(this.decodeRowResult.length<2)throw new $;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var M=this.decodeExtended(this.decodeRowResult),L=(c[1]+c[0])/2,z=m+I/2;return new Mr(M,null,0,[new he(L,t),new he(z,t)],de.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,u=!1,l=a.length,c=0,d=i;d<n;d++)if(t.get(d)!==u)a[c]++;else{if(c===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,u=!u}throw new $},e.prototype.toPattern=function(t){var n,i,a=0;try{for(var o=Q0(t),u=o.next();!u.done;u=o.next()){var l=u.value;a+=l}}catch(m){n={error:m}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var c=0,d=t.length,v=0;v<d;v++){var g=Math.round(t[v]*9/a);if(g<1||g>4)return-1;if((v&1)===0)for(var y=0;y<g;y++)c=c<<1|1;else c<<=g}return c},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new $},e.prototype.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new ne;var u=t.charAt(a+1),l="\0";switch(o){case"d":if(u>="A"&&u<="Z")l=String.fromCharCode(u.charCodeAt(0)+32);else throw new ne;break;case"a":if(u>="A"&&u<="Z")l=String.fromCharCode(u.charCodeAt(0)-64);else throw new ne;break;case"b":if(u>="A"&&u<="E")l=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")l=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")l=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")l=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")l="\0";else if(u==="V")l="@";else if(u==="W")l="`";else if(u>="X"&&u<="Z")l="";else throw new ne;break;case"c":if(u>="A"&&u<="O")l=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")l=":";else throw new ne;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,i){for(var a=1,o=0,u=n-1;u>=0;u--)o+=a*e.ALPHABET_STRING.indexOf(t.charAt(u)),++a>i&&(a=1);if(t.charAt(n)!==e.ALPHABET_STRING[o%47])throw new cr},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Jt),Y7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yx=function(r){Y7(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var a,o,u=this.decodeStart(n),l=this.decodeEnd(n),c=new be;e.decodeMiddle(n,u[1],l[0],c);var d=c.toString(),v=null;i!=null&&(v=i.get(It.ALLOWED_LENGTHS)),v==null&&(v=e.DEFAULT_ALLOWED_LENGTHS);var g=d.length,y=!1,m=0;try{for(var A=j7(v),E=A.next();!E.done;E=A.next()){var w=E.value;if(g===w){y=!0;break}w>m&&(m=w)}}catch(b){a={error:b}}finally{try{E&&!E.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}if(!y&&g>m&&(y=!0),!y)throw new ne;var C=[new he(u[1],t),new he(l[0],t)],I=new Mr(d,null,0,C,de.ITF,new Date().getTime());return I},e.decodeMiddle=function(t,n,i,a){var o=new Int32Array(10),u=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),u.fill(0),l.fill(0);n<i;){Jt.recordPattern(t,n,o);for(var c=0;c<5;c++){var d=2*c;u[c]=o[d],l[c]=o[d+1]}var v=e.decodeDigit(u);a.append(v.toString()),v=this.decodeDigit(l),a.append(v.toString()),o.forEach(function(g){n+=g})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new $},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new $;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof $&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var a=i.length,o=new Int32Array(a),u=t.getSize(),l=!1,c=0,d=n;o.fill(0);for(var v=n;v<u;v++)if(t.get(v)!==l)o[c]++;else{if(c===a-1){if(Jt.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,v];d+=o[0]+o[1],_t.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new $},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var u=e.PATTERNS[o],l=Jt.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new $},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Jt),$7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zo=function(r){$7(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,o);var u=i[0];a=i[1];var l=u-(a-u);l>=0&&(n=t.isRange(l,u,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ne;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ne;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,a){return this.findGuardPattern(t,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,n,i,a,o){var u=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var l=0,c=n,d=a.length,v=i,g=n;g<u;g++)if(t.get(g)!==v)o[l]++;else{if(l===d-1){if(Jt.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,g]);c+=o[0]+o[1];for(var y=o.slice(2,o.length),m=0;m<l-1;m++)o[m]=y[m];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,v=!v}throw new $},e.decodeDigit=function(t,n,i,a){this.recordPattern(t,i,n);for(var o=this.MAX_AVG_VARIANCE,u=-1,l=a.length,c=0;c<l;c++){var d=a[c],v=Jt.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);v<o&&(o=v,u=c)}if(u>=0)return u;throw new $},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Jt),Z7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K7=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),u=r.parseExtensionString(o),l=[new he((n[0]+n[1])/2,e),new he(a,e)],c=new Mr(o,null,0,l,de.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&c.putAllMetadata(u),c},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var u=e.getSize(),l=t[1],c=0,d=0;d<5&&l<u;d++){var v=Zo.decodeDigit(e,o,l,Zo.L_AND_G_PATTERNS);n+=String.fromCharCode(48+v%10);try{for(var g=(i=void 0,Z7(o)),y=g.next();!y.done;y=g.next()){var m=y.value;l+=m}}catch(E){i={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}v>=10&&(c|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new $;var A=this.determineCheckDigit(c);if(r.extensionChecksum(n.toString())!==A)throw new $;return l},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new $},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[Cr.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return t+i+"."+o},r}(),q7=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q7=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),u=r.parseExtensionString(o),l=[new he((n[0]+n[1])/2,e),new he(a,e)],c=new Mr(o,null,0,l,de.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&c.putAllMetadata(u),c},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var u=e.getSize(),l=t[1],c=0,d=0;d<2&&l<u;d++){var v=Zo.decodeDigit(e,o,l,Zo.L_AND_G_PATTERNS);n+=String.fromCharCode(48+v%10);try{for(var g=(i=void 0,q7(o)),y=g.next();!y.done;y=g.next()){var m=y.value;l+=m}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}v>=10&&(c|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new $;if(parseInt(n.toString())%4!==c)throw new $;return l},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Cr.ISSUE_NUMBER,parseInt(e)]])},r}(),J7=function(){function r(){}return r.decodeRow=function(e,t,n){var i=Zo.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new K7;return a.decodeRow(e,t,i)}catch{var o=new Q7;return o.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}(),eO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yt=function(r){eO(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return t}return e.prototype.decodeRow=function(t,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(It.NEED_RESULT_POINT_CALLBACK);if(o!=null){var u=new he((a[0]+a[1])/2,t);o.foundPossibleResultPoint(u)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),c=l.rowOffset,d=l.resultString;if(o!=null){var v=new he(c,t);o.foundPossibleResultPoint(v)}var g=e.decodeEnd(n,c);if(o!=null){var y=new he((g[0]+g[1])/2,t);o.foundPossibleResultPoint(y)}var m=g[1],A=m+(m-g[0]);if(A>=n.getSize()||!n.isRange(m,A,!1))throw new $;var E=d.toString();if(E.length<8)throw new ne;if(!e.checkChecksum(E))throw new cr;var w=(a[1]+a[0])/2,C=(g[1]+g[0])/2,I=this.getBarcodeFormat(),b=[new he(w,t),new he(C,t)],R=new Mr(E,null,0,b,I,new Date().getTime()),M=0;try{var L=J7.decodeRow(t,n,g[1]);R.putMetadata(Cr.UPC_EAN_EXTENSION,L.getText()),R.putAllMetadata(L.getResultMetadata()),R.addResultPoints(L.getResultPoints()),M=L.getText().length}catch{}var z=i==null?null:i.get(It.ALLOWED_EAN_EXTENSIONS);if(z!=null){var K=!1;for(var Z in z)if(M.toString()===Z){K=!0;break}if(!K)throw new $}return I===de.EAN_13||de.UPC_A,R},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ne;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ne;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Zo),tO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jh=function(r){tO(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,u,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=t.getSize(),v=n[1],g=0,y=0;y<6&&v<d;y++){var m=Yt.decodeDigit(t,c,v,Yt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var A=(a=void 0,jx(c)),E=A.next();!E.done;E=A.next()){var w=E.value;v+=w}}catch(R){a={error:R}}finally{try{E&&!E.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}m>=10&&(g|=1<<5-y)}i=e.determineFirstDigit(i,g);var C=Yt.findGuardPattern(t,v,!0,Yt.MIDDLE_PATTERN,new Int32Array(Yt.MIDDLE_PATTERN.length).fill(0));v=C[1];for(var y=0;y<6&&v<d;y++){var m=Yt.decodeDigit(t,c,v,Yt.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var I=(u=void 0,jx(c)),b=I.next();!b.done;b=I.next()){var w=b.value;v+=w}}catch(L){u={error:L}}finally{try{b&&!b.done&&(l=I.return)&&l.call(I)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:i}},e.prototype.getBarcodeFormat=function(){return de.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new $},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Yt),rO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$x=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zx=function(r){rO(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,u,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=t.getSize(),v=n[1],g=0;g<4&&v<d;g++){var y=Yt.decodeDigit(t,c,v,Yt.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var m=(a=void 0,$x(c)),A=m.next();!A.done;A=m.next()){var E=A.value;v+=E}}catch(b){a={error:b}}finally{try{A&&!A.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}var w=Yt.findGuardPattern(t,v,!0,Yt.MIDDLE_PATTERN,new Int32Array(Yt.MIDDLE_PATTERN.length).fill(0));v=w[1];for(var g=0;g<4&&v<d;g++){var y=Yt.decodeDigit(t,c,v,Yt.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var C=(u=void 0,$x(c)),I=C.next();!I.done;I=C.next()){var E=I.value;v+=E}}catch(M){u={error:M}}finally{try{I&&!I.done&&(l=C.return)&&l.call(C)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:i}},e.prototype.getBarcodeFormat=function(){return de.EAN_8},e}(Yt),nO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kx=function(r){nO(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new jh,t}return e.prototype.getBarcodeFormat=function(){return de.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new Mr(n.substring(1),null,null,t.getResultPoints(),de.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new $},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Yt),iO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qx=function(r){iO(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,u=this.decodeMiddleCounters.map(function(E){return E});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var l=t.getSize(),c=n[1],d=0,v=0;v<6&&c<l;v++){var g=e.decodeDigit(t,u,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var y=(a=void 0,aO(u)),m=y.next();!m.done;m=y.next()){var A=m.value;c+=A}}catch(E){a={error:E}}finally{try{m&&!m.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}g>=10&&(d|=1<<5-v)}return e.determineNumSysAndCheckDigit(new be(i),d),c},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Yt.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw $.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return de.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new be;i.append(t.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Yt),oO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J0=function(r){oO(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(It.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(de.EAN_13)>-1&&a.push(new jh),i.indexOf(de.UPC_A)>-1&&a.push(new Kx),i.indexOf(de.EAN_8)>-1&&a.push(new Zx),i.indexOf(de.UPC_E)>-1&&a.push(new qx)),a.length===0&&(a.push(new jh),a.push(new Kx),a.push(new Zx),a.push(new qx)),n.readers=a,n}return e.prototype.decodeRow=function(t,n,i){var a,o;try{for(var u=Qx(this.readers),l=u.next();!l.done;l=u.next()){var c=l.value;try{var d=c.decodeRow(t,n,i),v=d.getBarcodeFormat()===de.EAN_13&&d.getText().charAt(0)==="0",g=i==null?null:i.get(It.POSSIBLE_FORMATS),y=g==null||g.includes(de.UPC_A);if(v&&y){var m=d.getRawBytes(),A=new Mr(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),de.UPC_A);return A.putAllMetadata(d.getResultMetadata()),A}return d}catch{}}}catch(E){a={error:E}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}throw new $},e.prototype.reset=function(){var t,n;try{for(var i=Qx(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}(Jt),uO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sO=function(r){uO(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,n,i){var a=this.getValidRowData(n);if(!a)throw new $;var o=this.codaBarDecodeRow(a.row);if(!o)throw new $;return new Mr(o,null,0,[new he(a.left,t),new he(a.right,t)],de.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],u=n[0],l=1,c=1;c<n.length;c++)n[c]===u?l++:(u=n[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],i=Math.ceil(t.reduce(function(l,c){return(l+c)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var u=n.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(t){var n=/^[A-D].{1,}[A-D]$/;return n.test(t)},e}(Jt),fO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},La=function(r){fO(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(Jt.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new $},e.count=function(t){return je.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]>a&&(a=n[o],i=o);t[i]++},e.decrement=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]<a&&(a=n[o],i=o);t[i]--},e.isFinderPattern=function(t){var n,i,a=t[0]+t[1],o=a+t[2]+t[3],u=a/o;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var d=lO(t),v=d.next();!v.done;v=d.next()){var g=v.value;g>c&&(c=g),g<l&&(l=g)}}catch(y){n={error:y}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Jt),Xl=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}(),Nm=function(){function r(e,t,n,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new he(n,a)),this.resultPoints.push(new he(i,a))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}(),cO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ho=function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,a,o=0;try{for(var u=cO(e),l=u.next();!l.done;l=u.next()){var c=l.value;o+=c}}catch(C){i={error:C}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}for(var d=0,v=0,g=e.length,y=0;y<g-1;y++){var m=void 0;for(m=1,v|=1<<y;m<e[y];m++,v&=~(1<<y)){var A=r.combins(o-m-1,g-y-2);if(n&&v===0&&o-m-(g-y-1)>=g-y-1&&(A-=r.combins(o-m-(g-y),g-y-2)),g-y-1>1){for(var E=0,w=o-m-(g-y-2);w>t;w--)E+=r.combins(o-m-w-1,g-y-3);A-=E*(g-1-y)}else o-m>t&&A--;d+=A}o-=m}return d},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var a=1,o=1,u=e;u>n;u--)a*=u,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},r}(),hO=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new dr(n),a=0,o=e[0],u=o.getRightChar().getValue(),l=11;l>=0;--l)(u&1<<l)!==0&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var c=e[l],d=c.getLeftChar().getValue(),v=11;v>=0;--v)(d&1<<v)!==0&&i.set(a),a++;if(c.getRightChar()!==null)for(var g=c.getRightChar().getValue(),v=11;v>=0;--v)(g&1<<v)!==0&&i.set(a),a++}return i},r}(),Ra=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}(),$d=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}(),dO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nn=function(r){dO(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}($d),vO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Na=function(r){vO(e,r);function e(t,n,i){var a=r.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}($d),pO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lo=function(r){pO(e,r);function e(t,n,i){var a=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new ne;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}($d),pl=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gO=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,a,o,u,l,c;if(!e)return null;if(e.length<2)throw new $;var d=e.substring(0,2);try{for(var v=pl(r.TWO_DIGIT_DATA_LENGTH),g=v.next();!g.done;g=v.next()){var y=g.value;if(y[0]===d)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,y[2],e):r.processFixedAI(2,y[1],e)}}catch(M){t={error:M}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}if(e.length<3)throw new $;var m=e.substring(0,3);try{for(var A=pl(r.THREE_DIGIT_DATA_LENGTH),E=A.next();!E.done;E=A.next()){var y=E.value;if(y[0]===m)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,y[2],e):r.processFixedAI(3,y[1],e)}}catch(M){i={error:M}}finally{try{E&&!E.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}try{for(var w=pl(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),C=w.next();!C.done;C=w.next()){var y=C.value;if(y[0]===m)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,y[2],e):r.processFixedAI(4,y[1],e)}}catch(M){o={error:M}}finally{try{C&&!C.done&&(u=w.return)&&u.call(w)}finally{if(o)throw o.error}}if(e.length<4)throw new $;var I=e.substring(0,4);try{for(var b=pl(r.FOUR_DIGIT_DATA_LENGTH),R=b.next();!R.done;R=b.next()){var y=R.value;if(y[0]===I)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,y[2],e):r.processFixedAI(4,y[1],e)}}catch(M){l={error:M}}finally{try{R&&!R.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}throw new $},r.processFixedAI=function(e,t,n){if(n.length<e)throw new $;var i=n.substring(0,e);if(n.length<e+t)throw new $;var a=n.substring(e,e+t),o=n.substring(e+t),u="("+i+")"+a,l=r.parseFieldsInGeneralPurpose(o);return l==null?u:u+l},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),a;n.length<e+t?a=n.length:a=e+t;var o=n.substring(e,a),u=n.substring(a),l="("+i+")"+o,c=r.parseFieldsInGeneralPurpose(u);return c==null?l:l+c},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}(),Il=function(){function r(e){this.buffer=new be,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=gO.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Lo(this.information.getSize(),Lo.FNC1,Lo.FNC1):new Lo(this.information.getSize(),t-1,Lo.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Lo(e+7,i,a)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,a=0;a<n;++a)e.get(t+a)&&(i|=1<<n-a-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Na(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Na(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new Na(this.current.getPosition(),this.buffer.toString()):t=new Na(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ra(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new Na(this.current.getPosition(),this.buffer.toString());return new Ra(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ra(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Na(this.current.getPosition(),this.buffer.toString());return new Ra(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ra(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Na(this.current.getPosition(),this.buffer.toString());return new Ra(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ra(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Nn(e+5,Nn.FNC1);if(t>=5&&t<15)return new Nn(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Nn(e+7,""+(n+1));if(n>=90&&n<116)return new Nn(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ne}return new Nn(e+8,a)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Nn(e+5,Nn.FNC1);if(t>=5&&t<15)return new Nn(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Nn(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new zs("Decoding invalid alphanumeric value: "+n)}return new Nn(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}(),Mm=function(){function r(e){this.information=e,this.generalDecoder=new Il(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}(),yO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kn=function(r){yO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,a=0;a<13;a++){var o=t.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(Mm),xO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_O=function(r){xO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new be;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(kn),mO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AO=function(r){mO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new be;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Mm),EO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tl=function(r){EO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,a);for(var o=this.checkWeight(a),u=1e5,l=0;l<5;++l)o/u===0&&t.append("0"),u/=10;t.append(o)},e}(kn),wO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bm=function(r){wO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Tl.GTIN_SIZE+e.WEIGHT_SIZE)throw new $;var t=new be;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Tl.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Tl),CO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SO=function(r){CO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(Bm),IO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TO=function(r){IO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(Bm),bO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OO=function(r){bO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+kn.GTIN_SIZE)throw new $;var t=new be;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+kn.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+kn.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(kn),DO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RO=function(r){DO(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+kn.GTIN_SIZE)throw new $;var t=new be;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+kn.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+kn.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+kn.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(kn),NO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qi=function(r){NO(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new $;var t=new be;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var u=i;u/10===0&&t.append("0"),t.append(u),o/10===0&&t.append("0"),t.append(o),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Tl);function MO(r){try{if(r.get(1))return new _O(r);if(!r.get(2))return new AO(r);var e=Il.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new SO(r);case 5:return new TO(r)}var t=Il.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new OO(r);case 13:return new RO(r)}var n=Il.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new Qi(r,"310","11");case 57:return new Qi(r,"320","11");case 58:return new Qi(r,"310","13");case 59:return new Qi(r,"320","13");case 60:return new Qi(r,"310","15");case 61:return new Qi(r,"320","15");case 62:return new Qi(r,"310","17");case 63:return new Qi(r,"320","17")}}catch(i){throw console.log(i),new zs("unknown decoder: "+r)}}var Jx=function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}(),BO=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,a){t.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},r}(),PO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ji=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LO=function(r){PO(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(u){if(u instanceof $){if(!this.pairs.length)throw new $;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new $},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,a,o=n;o<this.rows.length;o++){var u=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,Ji(t)),c=l.next();!c.done;c=l.next()){var d=c.value;this.pairs.push(d.getPairs())}}catch(g){i={error:g}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var v=new Array(t);v.push(u);try{return this.checkRows(v,o+1)}catch(g){console.log(g)}}}throw new $},e.isValidSequence=function(t){var n,i;try{for(var a=Ji(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var u=o.value;if(!(t.length>u.length)){for(var l=!0,c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!==u[c]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>t){o=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new BO(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,a,o,u,l,c;try{for(var d=Ji(n),v=d.next();!v.done;v=d.next()){var g=v.value;if(g.getPairs().length!==t.length){var y=!0;try{for(var m=(o=void 0,Ji(g.getPairs())),A=m.next();!A.done;A=m.next()){var E=A.value,w=!1;try{for(var C=(l=void 0,Ji(t)),I=C.next();!I.done;I=C.next()){var b=I.value;if(Jx.equals(E,b)){w=!0;break}}}catch(R){l={error:R}}finally{try{I&&!I.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}w||(y=!1)}}catch(R){o={error:R}}finally{try{A&&!A.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}}}}catch(R){i={error:R}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,a,o,u,l,c;try{for(var d=Ji(n),v=d.next();!v.done;v=d.next()){var g=v.value,y=!0;try{for(var m=(o=void 0,Ji(t)),A=m.next();!A.done;A=m.next()){var E=A.value,w=!1;try{for(var C=(l=void 0,Ji(g.getPairs())),I=C.next();!I.done;I=C.next()){var b=I.value;if(E.equals(b)){w=!0;break}}}catch(R){l={error:R}}finally{try{I&&!I.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}if(!w){y=!1;break}}}catch(R){o={error:R}}finally{try{A&&!A.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}if(y)return!0}}catch(R){i={error:R}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=hO.buildBitArray(t),i=MO(n),a=i.parseInformation(),o=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],u[0],u[1]];return new Mr(a,null,null,l,de.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,u=1;u<this.pairs.size();++u){var l=this.pairs.get(u);a+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(a+=c.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,u=!0,l=-1;do this.findNextPair(t,n,l),o=this.parseFoundFinderPattern(t,i,a),o===null?l=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var c=this.decodeDataCharacter(t,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new $;var d;try{d=this.decodeDataCharacter(t,o,a,!1)}catch(v){d=null,console.log(v)}return new Jx(c,d,o,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=t.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(n))u=0;else{var l=n[n.length-1];u=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var d=!1;u<o&&(d=!t.get(u),!!d);)u++;for(var v=0,g=u,y=u;y<o;y++)if(t.get(y)!==d)a[v]++;else{if(v===3){if(c&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=g,this.startEnd[1]=y;return}c&&e.reverseCounters(a),g+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,v--}else v++;a[v]=1,d=!d}throw new $},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var a=t[i];t[i]=t[n-i-1],t[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,n,i){var a,o,u;if(i){for(var l=this.startEnd[0]-1;l>=0&&!t.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,u=this.startEnd[1]}else o=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];var c=this.getDecodeFinderCounters();_t.arraycopy(c,0,c,1,c.length-1),c[0]=a;var d;try{d=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new Nm(d,[o,u],o,u,n)},e.prototype.decodeDataCharacter=function(t,n,i,a){for(var o=this.getDataCharacterCounters(),u=0;u<o.length;u++)o[u]=0;if(a)e.recordPatternInReverse(t,n.getStartEnd()[0],o);else{e.recordPattern(t,n.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var d=o[l];o[l]=o[c],o[c]=d}}var v=17,g=je.sum(new Int32Array(o))/v,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new $;for(var m=this.getOddCounts(),A=this.getEvenCounts(),E=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var C=1*o[l]/g,I=C+.5;if(I<1){if(C<.3)throw new $;I=1}else if(I>8){if(C>8.7)throw new $;I=8}var b=l/2;(l&1)===0?(m[b]=I,E[b]=C-I):(A[b]=I,w[b]=C-I)}this.adjustOddEvenCounts(v);for(var R=4*n.getValue()+(i?0:2)+(a?0:1)-1,M=0,L=0,l=m.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var z=e.WEIGHTS[R][2*l];L+=m[l]*z}M+=m[l]}for(var K=0,l=A.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var z=e.WEIGHTS[R][2*l+1];K+=A[l]*z}var Z=L+K;if((M&1)!==0||M>13||M<4)throw new $;var le=(13-M)/2,te=e.SYMBOL_WIDEST[le],fe=9-te,Ve=Ho.getRSSvalue(m,te,!0),Le=Ho.getRSSvalue(A,fe,!1),Y=e.EVEN_TOTAL_SUBSET[le],ie=e.GSUM[le],ve=Ve*Y+Le+ie;return new Xl(ve,Z)},e.isNotA1left=function(t,n,i){return!(t.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=je.sum(new Int32Array(this.getOddCounts())),i=je.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var u=!1,l=!1;i>13?l=!0:i<4&&(u=!0);var c=n+i-t,d=(n&1)===1,v=(i&1)===0;if(c===1)if(d){if(v)throw new $;o=!0}else{if(!v)throw new $;l=!0}else if(c===-1)if(d){if(v)throw new $;a=!0}else{if(!v)throw new $;u=!0}else if(c===0){if(d){if(!v)throw new $;n<i?(a=!0,l=!0):(o=!0,u=!0)}else if(v)throw new $}else throw new $;if(a){if(o)throw new $;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(l)throw new $;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(La),FO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kO=function(r){FO(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Xl),UO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eh=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e_=function(r){UO(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var a,o,u,l,c=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var d=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var v=eh(this.possibleLeftPairs),g=v.next();!g.done;g=v.next()){var y=g.value;if(y.getCount()>1)try{for(var m=(u=void 0,eh(this.possibleRightPairs)),A=m.next();!A.done;A=m.next()){var E=A.value;if(E.getCount()>1&&e.checkChecksum(y,E))return e.constructResult(y,E)}}catch(w){u={error:w}}finally{try{A&&!A.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}}}catch(w){a={error:w}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}throw new $},e.addOrTally=function(t,n){var i,a;if(n!=null){var o=!1;try{for(var u=eh(t),l=u.next();!l.done;l=u.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}o||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),a=new String(i).toString(),o=new be,u=13-a.length;u>0;u--)o.append("0");o.append(a);for(var l=0,u=0;u<13;u++){var c=o.charAt(u).charCodeAt(0)-48;l+=(u&1)===0?3*c:c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var d=t.getFinderPattern().getResultPoints(),v=n.getFinderPattern().getResultPoints();return new Mr(o.toString(),null,0,[d[0],d[1],v[0],v[1]],de.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,n,i,a){try{var o=this.findFinderPattern(t,n),u=this.parseFoundFinderPattern(t,i,n,o),l=a==null?null:a.get(It.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;n&&(c=t.getSize()-1-c),l.foundPossibleResultPoint(new he(c,i))}var d=this.decodeDataCharacter(t,u,!0),v=this.decodeDataCharacter(t,u,!1);return new kO(1597*d.getValue()+v.getValue(),d.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Jt.recordPatternInReverse(t,n.getStartEnd()[0],a);else{Jt.recordPattern(t,n.getStartEnd()[1]+1,a);for(var u=0,l=a.length-1;u<l;u++,l--){var c=a[u];a[u]=a[l],a[l]=c}}for(var d=i?16:15,v=je.sum(new Int32Array(a))/d,g=this.getOddCounts(),y=this.getEvenCounts(),m=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var E=a[u]/v,w=Math.floor(E+.5);w<1?w=1:w>8&&(w=8);var C=Math.floor(u/2);(u&1)===0?(g[C]=w,m[C]=E-w):(y[C]=w,A[C]=E-w)}this.adjustOddEvenCounts(i,d);for(var I=0,b=0,u=g.length-1;u>=0;u--)b*=9,b+=g[u],I+=g[u];for(var R=0,M=0,u=y.length-1;u>=0;u--)R*=9,R+=y[u],M+=y[u];var L=b+3*R;if(i){if((I&1)!==0||I>12||I<4)throw new $;var z=(12-I)/2,K=e.OUTSIDE_ODD_WIDEST[z],Z=9-K,le=Ho.getRSSvalue(g,K,!1),te=Ho.getRSSvalue(y,Z,!0),fe=e.OUTSIDE_EVEN_TOTAL_SUBSET[z],Ve=e.OUTSIDE_GSUM[z];return new Xl(le*fe+te+Ve,L)}else{if((M&1)!==0||M>10||M<4)throw new $;var z=(10-M)/2,K=e.INSIDE_ODD_WIDEST[z],Z=9-K,le=Ho.getRSSvalue(g,K,!0),te=Ho.getRSSvalue(y,Z,!1),Le=e.INSIDE_ODD_TOTAL_SUBSET[z],Ve=e.INSIDE_GSUM[z];return new Xl(te*Le+le+Ve,L)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),o=!1,u=0;u<a&&(o=!t.get(u),n!==o);)u++;for(var l=0,c=u,d=u;d<a;d++)if(t.get(d)!==o)i[l]++;else{if(l===3){if(La.isFinderPattern(i))return[c,d];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new $},e.prototype.parseFoundFinderPattern=function(t,n,i,a){for(var o=t.get(a[0]),u=a[0]-1;u>=0&&o!==t.get(u);)u--;u++;var l=a[0]-u,c=this.getDecodeFinderCounters(),d=new Int32Array(c.length);_t.arraycopy(c,0,d,1,c.length-1),d[0]=l;var v=this.parseFinderValue(d,e.FINDER_PATTERNS),g=u,y=a[1];return i&&(g=t.getSize()-1-g,y=t.getSize()-1-y),new Nm(v,[u,a[1]],g,y,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=je.sum(new Int32Array(this.getOddCounts())),a=je.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1,l=!1,c=!1;t?(i>12?u=!0:i<4&&(o=!0),a>12?c=!0:a<4&&(l=!0)):(i>11?u=!0:i<5&&(o=!0),a>10?c=!0:a<4&&(l=!0));var d=i+a-n,v=(i&1)===(t?1:0),g=(a&1)===1;if(d===1)if(v){if(g)throw new $;u=!0}else{if(!g)throw new $;c=!0}else if(d===-1)if(v){if(g)throw new $;o=!0}else{if(!g)throw new $;l=!0}else if(d===0){if(v){if(!g)throw new $;i<a?(o=!0,c=!0):(u=!0,l=!0)}else if(g)throw new $}else throw new $;if(o){if(u)throw new $;La.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&La.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new $;La.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&La.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(La),HO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),As=function(r){HO(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(It.POSSIBLE_FORMATS):null,a=t&&t.get(It.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=t&&t.get(It.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(de.EAN_13)||i.includes(de.UPC_A)||i.includes(de.EAN_8)||i.includes(de.UPC_E))&&n.readers.push(new J0(t)),i.includes(de.CODE_39)&&n.readers.push(new Xx(a,o)),i.includes(de.CODE_93)&&n.readers.push(new Wx),i.includes(de.CODE_128)&&n.readers.push(new zx),i.includes(de.ITF)&&n.readers.push(new Yx),i.includes(de.CODABAR)&&n.readers.push(new sO),i.includes(de.RSS_14)&&n.readers.push(new e_),i.includes(de.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new LO))),n.readers.length===0&&(n.readers.push(new J0(t)),n.readers.push(new Xx),n.readers.push(new Wx),n.readers.push(new J0(t)),n.readers.push(new zx),n.readers.push(new Yx),n.readers.push(new e_)),n}return e.prototype.decodeRow=function(t,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,n,i)}catch{}throw new $},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Jt),VO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){VO(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new As(n),t,n)||this}return e})(iu);var t_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},et=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),Ke=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),GO=function(){function r(e,t,n,i,a,o){var u,l;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var c=0,d=o.getECCodewords(),v=o.getECBlocks();try{for(var g=t_(v),y=g.next();!y.done;y=g.next()){var m=y.value;c+=m.getCount()*(m.getDataCodewords()+d)}}catch(A){u={error:A}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(u)throw u.error}}this.totalCodewords=c}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if((e&1)!==0||(t&1)!==0)throw new ne;try{for(var a=t_(r.VERSIONS),o=a.next();!o.done;o=a.next()){var u=o.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new ne},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new et(5,new Ke(1,3))),new r(2,12,12,10,10,new et(7,new Ke(1,5))),new r(3,14,14,12,12,new et(10,new Ke(1,8))),new r(4,16,16,14,14,new et(12,new Ke(1,12))),new r(5,18,18,16,16,new et(14,new Ke(1,18))),new r(6,20,20,18,18,new et(18,new Ke(1,22))),new r(7,22,22,20,20,new et(20,new Ke(1,30))),new r(8,24,24,22,22,new et(24,new Ke(1,36))),new r(9,26,26,24,24,new et(28,new Ke(1,44))),new r(10,32,32,14,14,new et(36,new Ke(1,62))),new r(11,36,36,16,16,new et(42,new Ke(1,86))),new r(12,40,40,18,18,new et(48,new Ke(1,114))),new r(13,44,44,20,20,new et(56,new Ke(1,144))),new r(14,48,48,22,22,new et(68,new Ke(1,174))),new r(15,52,52,24,24,new et(42,new Ke(2,102))),new r(16,64,64,14,14,new et(56,new Ke(2,140))),new r(17,72,72,16,16,new et(36,new Ke(4,92))),new r(18,80,80,18,18,new et(48,new Ke(4,114))),new r(19,88,88,20,20,new et(56,new Ke(4,144))),new r(20,96,96,22,22,new et(68,new Ke(4,174))),new r(21,104,104,24,24,new et(56,new Ke(6,136))),new r(22,120,120,18,18,new et(68,new Ke(6,175))),new r(23,132,132,20,20,new et(62,new Ke(8,163))),new r(24,144,144,22,22,new et(62,new Ke(8,156),new Ke(2,155))),new r(25,8,18,6,16,new et(7,new Ke(1,5))),new r(26,8,32,6,14,new et(11,new Ke(1,10))),new r(27,12,26,10,24,new et(14,new Ke(1,16))),new r(28,12,36,10,16,new et(18,new Ke(1,22))),new r(29,16,36,14,16,new et(24,new Ke(1,32))),new r(30,16,48,14,22,new et(28,new Ke(1,49)))]},r.VERSIONS=r.buildVersions(),r}(),zO=function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new ne;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ei(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return GO.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),u=!1,l=!1,c=!1,d=!1;do if(n===a&&i===0&&!u)e[t++]=this.readCorner1(a,o)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!l)e[t++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&(o&7)===0&&!c)e[t++]=this.readCorner3(a,o)&255,n-=2,i+=2,c=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[t++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(t!==this.version.getTotalCodewords())throw new ne;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var a=0;return this.readModule(e-2,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t,n,i)&&(a|=1),a<<=1,this.readModule(e,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e,t,n,i)&&(a|=1),a},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new xe("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/i|0,u=n/a|0,l=o*i,c=u*a,d=new ei(c,l),v=0;v<o;++v)for(var g=v*i,y=0;y<u;++y)for(var m=y*a,A=0;A<i;++A)for(var E=v*(i+2)+1+A,w=g+A,C=0;C<a;++C){var I=y*(a+2)+1+C;if(e.get(I,E)){var b=m+C;d.set(b,w)}}return d},r}(),r_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XO=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,a,o,u=t.getECBlocks(),l=0,c=u.getECBlocks();try{for(var d=r_(c),v=d.next();!v.done;v=d.next()){var g=v.value;l+=g.getCount()}}catch(Ve){n={error:Ve}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var y=new Array(l),m=0;try{for(var A=r_(c),E=A.next();!E.done;E=A.next())for(var g=E.value,w=0;w<g.getCount();w++){var C=g.getDataCodewords(),I=u.getECCodewords()+C;y[m++]=new r(C,new Uint8Array(I))}}catch(Ve){a={error:Ve}}finally{try{E&&!E.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}for(var b=y[0].codewords.length,R=b-u.getECCodewords(),M=R-1,L=0,w=0;w<M;w++)for(var z=0;z<m;z++)y[z].codewords[w]=e[L++];for(var K=t.getVersionNumber()===24,Z=K?8:m,z=0;z<Z;z++)y[z].codewords[R-1]=e[L++];for(var le=y[0].codewords.length,w=R;w<le;w++)for(var z=0;z<m;z++){var te=K?(z+8)%m:z,fe=K&&te>7?w-1:w;y[te].codewords[fe]=e[L++]}if(L!==e.length)throw new xe;return y},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),Pm=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new xe(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,u=e<o?e:o,l=o-u,c=255>>8-u<<l;t=(a[i]&c)>>l,e-=u,n+=u,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;t=t<<e|(a[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}(),Gt;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(Gt||(Gt={}));var WO=function(){function r(){}return r.decode=function(e){var t=new Pm(e),n=new be,i=new be,a=new Array,o=Gt.ASCII_ENCODE;do if(o===Gt.ASCII_ENCODE)o=this.decodeAsciiSegment(t,n,i);else{switch(o){case Gt.C40_ENCODE:this.decodeC40Segment(t,n);break;case Gt.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case Gt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case Gt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case Gt.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new ne}o=Gt.ASCII_ENCODE}while(o!==Gt.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new oc(e,n.toString(),a.length===0?null:a,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ne;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),Gt.ASCII_ENCODE;if(a===129)return Gt.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return Gt.C40_ENCODE;case 231:return Gt.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return Gt.ANSIX12_ENCODE;case 239:return Gt.TEXT_ENCODE;case 240:return Gt.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ne;break}}while(e.available()>0);return Gt.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var u=0;u<3;u++){var l=i[u];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else throw new ne;break;case 1:n?(t.append(String.fromCharCode(l+128)),n=!1):t.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:n=!0;break;default:throw new ne}a=0;break;case 3:n?(t.append(String.fromCharCode(l+224)),n=!1):t.append(String.fromCharCode(l+96)),a=0;break;default:throw new ne}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var u=0;u<3;u++){var l=i[u];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else throw new ne;break;case 1:n?(t.append(String.fromCharCode(l+128)),n=!1):t.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:n=!0;break;default:throw new ne}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c),a=0}else throw new ne;break;default:throw new ne}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new ne;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new ne;for(var u=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new ne;u[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(u);try{t.append(In.decode(u,Ue.ISO88591))}catch(c){throw new zs("Platform does not support required encoding: "+c.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r}(),YO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jO=function(){function r(){this.rsDecoder=new uc(Zr.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new zO(e),a=i.getVersion(),o=i.readCodewords(),u=XO.getDataBlocks(o,a),l=0;try{for(var c=YO(u),d=c.next();!d.done;d=c.next()){var v=d.value;l+=v.getNumDataCodewords()}}catch(I){t={error:I}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}for(var g=new Uint8Array(l),y=u.length,m=0;m<y;m++){var A=u[m],E=A.getCodewords(),w=A.getNumDataCodewords();this.correctErrors(E,w);for(var C=0;C<w;C++)g[C*y+m]=E[C]}return WO.decode(g)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new cr}for(var i=0;i<t;i++)e[i]=n[i]},r}(),$O=function(){function r(e){this.image=e,this.rectangleDetector=new Wh(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new $;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],a=t[2],o=t[3],u=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(u&1)===1&&(u+=1),(l&1)===1&&(l+=1),4*u<7*l&&4*l<7*u&&(u=l=Math.max(u,l));var c=r.sampleGrid(this.image,n,i,a,o,u,l);return new Yd(c,[n,i,a,o])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new he(e.getX()+i,e.getY()+a)},r.moveAway=function(e,t,n){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<n?a-=1:a+=1,new he(i,a)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(t,n),u=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),c=this.transitionsBetween(a,t),d=o,v=[a,t,n,i];return d>u&&(d=u,v[0]=t,v[1]=n,v[2]=i,v[3]=a),d>l&&(d=l,v[0]=n,v[1]=i,v[2]=a,v[3]=t),d>c&&(v[0]=i,v[1]=a,v[2]=t,v[3]=n),v},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),u=r.shiftPoint(n,i,(o+1)*4),l=r.shiftPoint(i,n,(o+1)*4),c=this.transitionsBetween(u,t),d=this.transitionsBetween(l,a);return c<d?(e[0]=t,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),u=this.transitionsBetween(n,a),l=r.shiftPoint(t,n,(u+1)*4),c=r.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),u=this.transitionsBetween(c,a);var d=new he(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),v=new he(a.getX()+(t.getX()-n.getX())/(u+1),a.getY()+(t.getY()-n.getY())/(u+1));if(!this.isValid(d))return this.isValid(v)?v:null;if(!this.isValid(v))return d;var g=this.transitionsBetween(l,d)+this.transitionsBetween(c,d),y=this.transitionsBetween(l,v)+this.transitionsBetween(c,v);return g>y?d:v},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,u=this.transitionsBetween(i,a)+1,l=r.shiftPoint(t,n,u*4),c=r.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,u=this.transitionsBetween(c,a)+1,(o&1)===1&&(o+=1),(u&1)===1&&(u+=1);var d=(t.getX()+n.getX()+i.getX()+a.getX())/4,v=(t.getY()+n.getY()+i.getY()+a.getY())/4;t=r.moveAway(t,d,v),n=r.moveAway(n,d,v),i=r.moveAway(i,d,v),a=r.moveAway(a,d,v);var g,y;return l=r.shiftPoint(t,n,u*4),l=r.shiftPoint(l,a,o*4),g=r.shiftPoint(n,t,u*4),g=r.shiftPoint(g,i,o*4),c=r.shiftPoint(i,a,u*4),c=r.shiftPoint(c,n,o*4),y=r.shiftPoint(a,i,u*4),y=r.shiftPoint(y,t,o*4),[l,g,c,y]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,a,o,u){var l=jd.getInstance();return l.sampleGrid(e,o,u,.5,.5,o-.5,.5,o-.5,u-.5,.5,u-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),u=Math.abs(o-i)>Math.abs(a-n);if(u){var l=n;n=i,i=l,l=a,a=o,o=l}for(var c=Math.abs(a-n),d=Math.abs(o-i),v=-c/2,g=i<o?1:-1,y=n<a?1:-1,m=0,A=this.image.get(u?i:n,u?n:i),E=n,w=i;E!==a;E+=y){var C=this.image.get(u?w:E,u?E:w);if(C!==A&&(m++,A=C),v+=d,v>0){if(w===o)break;w+=g,v-=c}}return m},r}(),$h=function(){function r(){this.decoder=new jO}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(It.PURE_BARCODE)){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=r.NO_POINTS}else{var o=new $O(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var u=n.getRawBytes(),l=new Mr(n.getText(),u,8*u.length,i,de.DATA_MATRIX,_t.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(Cr.BYTE_SEGMENTS,c);var d=n.getECLevel();return d!=null&&l.putMetadata(Cr.ERROR_CORRECTION_LEVEL,d),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new $;var i=this.moduleSize(t,e),a=t[1],o=n[1],u=t[0],l=n[0],c=(l-u+1)/i,d=(o-a+1)/i;if(c<=0||d<=0)throw new $;var v=i/2;a+=v,u+=v;for(var g=new ei(c,d),y=0;y<d;y++)for(var m=a+y*i,A=0;A<c;A++)e.get(u+A*i,m)&&g.set(A,y);return g},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],a=e[1];i<n&&t.get(i,a);)i++;if(i===n)throw new $;var o=i-e[0];if(o===0)throw new $;return o},r.NO_POINTS=[],r}(),ZO=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){ZO(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new $h,t)||this}return e})(iu);var Vo;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Vo||(Vo={}));var KO=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new Bn(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new xe;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Vo.L,"L",1),r.M=new r(Vo.M,"M",0),r.Q=new r(Vo.Q,"Q",3),r.H=new r(Vo.H,"H",2),r}(),qO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lm=function(){function r(e){this.errorCorrectionLevel=KO.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Re.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var u=qO(r.FORMAT_INFO_DECODE_LOOKUP),l=u.next();!l.done;l=u.next()){var c=l.value,d=c[0];if(d===e||d===t)return new r(c[1]);var v=r.numBitsDiffering(e,d);v<a&&(o=c[1],a=v),e!==t&&(v=r.numBitsDiffering(t,d),v<a&&(o=c[1],a=v))}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return a<=3?new r(o):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}(),QO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var a=QO(i),o=a.next();!o.done;o=a.next()){var u=o.value;n+=u.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),D=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),JO=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ga=function(){function r(e,t){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var u=0,l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();try{for(var d=JO(c),v=d.next();!v.done;v=d.next()){var g=v.value;u+=g.getCount()*(g.getDataCodewords()+l)}}catch(y){n={error:y}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=u}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ne;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ne}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new xe;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var a=r.VERSION_DECODE_INFO[i];if(a===e)return r.getVersionForNumber(i+7);var o=Lm.numBitsDiffering(e,a);o<t&&(n=i+7,t=o)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new ei(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new V(7,new D(1,19)),new V(10,new D(1,16)),new V(13,new D(1,13)),new V(17,new D(1,9))),new r(2,Int32Array.from([6,18]),new V(10,new D(1,34)),new V(16,new D(1,28)),new V(22,new D(1,22)),new V(28,new D(1,16))),new r(3,Int32Array.from([6,22]),new V(15,new D(1,55)),new V(26,new D(1,44)),new V(18,new D(2,17)),new V(22,new D(2,13))),new r(4,Int32Array.from([6,26]),new V(20,new D(1,80)),new V(18,new D(2,32)),new V(26,new D(2,24)),new V(16,new D(4,9))),new r(5,Int32Array.from([6,30]),new V(26,new D(1,108)),new V(24,new D(2,43)),new V(18,new D(2,15),new D(2,16)),new V(22,new D(2,11),new D(2,12))),new r(6,Int32Array.from([6,34]),new V(18,new D(2,68)),new V(16,new D(4,27)),new V(24,new D(4,19)),new V(28,new D(4,15))),new r(7,Int32Array.from([6,22,38]),new V(20,new D(2,78)),new V(18,new D(4,31)),new V(18,new D(2,14),new D(4,15)),new V(26,new D(4,13),new D(1,14))),new r(8,Int32Array.from([6,24,42]),new V(24,new D(2,97)),new V(22,new D(2,38),new D(2,39)),new V(22,new D(4,18),new D(2,19)),new V(26,new D(4,14),new D(2,15))),new r(9,Int32Array.from([6,26,46]),new V(30,new D(2,116)),new V(22,new D(3,36),new D(2,37)),new V(20,new D(4,16),new D(4,17)),new V(24,new D(4,12),new D(4,13))),new r(10,Int32Array.from([6,28,50]),new V(18,new D(2,68),new D(2,69)),new V(26,new D(4,43),new D(1,44)),new V(24,new D(6,19),new D(2,20)),new V(28,new D(6,15),new D(2,16))),new r(11,Int32Array.from([6,30,54]),new V(20,new D(4,81)),new V(30,new D(1,50),new D(4,51)),new V(28,new D(4,22),new D(4,23)),new V(24,new D(3,12),new D(8,13))),new r(12,Int32Array.from([6,32,58]),new V(24,new D(2,92),new D(2,93)),new V(22,new D(6,36),new D(2,37)),new V(26,new D(4,20),new D(6,21)),new V(28,new D(7,14),new D(4,15))),new r(13,Int32Array.from([6,34,62]),new V(26,new D(4,107)),new V(22,new D(8,37),new D(1,38)),new V(24,new D(8,20),new D(4,21)),new V(22,new D(12,11),new D(4,12))),new r(14,Int32Array.from([6,26,46,66]),new V(30,new D(3,115),new D(1,116)),new V(24,new D(4,40),new D(5,41)),new V(20,new D(11,16),new D(5,17)),new V(24,new D(11,12),new D(5,13))),new r(15,Int32Array.from([6,26,48,70]),new V(22,new D(5,87),new D(1,88)),new V(24,new D(5,41),new D(5,42)),new V(30,new D(5,24),new D(7,25)),new V(24,new D(11,12),new D(7,13))),new r(16,Int32Array.from([6,26,50,74]),new V(24,new D(5,98),new D(1,99)),new V(28,new D(7,45),new D(3,46)),new V(24,new D(15,19),new D(2,20)),new V(30,new D(3,15),new D(13,16))),new r(17,Int32Array.from([6,30,54,78]),new V(28,new D(1,107),new D(5,108)),new V(28,new D(10,46),new D(1,47)),new V(28,new D(1,22),new D(15,23)),new V(28,new D(2,14),new D(17,15))),new r(18,Int32Array.from([6,30,56,82]),new V(30,new D(5,120),new D(1,121)),new V(26,new D(9,43),new D(4,44)),new V(28,new D(17,22),new D(1,23)),new V(28,new D(2,14),new D(19,15))),new r(19,Int32Array.from([6,30,58,86]),new V(28,new D(3,113),new D(4,114)),new V(26,new D(3,44),new D(11,45)),new V(26,new D(17,21),new D(4,22)),new V(26,new D(9,13),new D(16,14))),new r(20,Int32Array.from([6,34,62,90]),new V(28,new D(3,107),new D(5,108)),new V(26,new D(3,41),new D(13,42)),new V(30,new D(15,24),new D(5,25)),new V(28,new D(15,15),new D(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new V(28,new D(4,116),new D(4,117)),new V(26,new D(17,42)),new V(28,new D(17,22),new D(6,23)),new V(30,new D(19,16),new D(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new V(28,new D(2,111),new D(7,112)),new V(28,new D(17,46)),new V(30,new D(7,24),new D(16,25)),new V(24,new D(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new V(30,new D(4,121),new D(5,122)),new V(28,new D(4,47),new D(14,48)),new V(30,new D(11,24),new D(14,25)),new V(30,new D(16,15),new D(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new V(30,new D(6,117),new D(4,118)),new V(28,new D(6,45),new D(14,46)),new V(30,new D(11,24),new D(16,25)),new V(30,new D(30,16),new D(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new V(26,new D(8,106),new D(4,107)),new V(28,new D(8,47),new D(13,48)),new V(30,new D(7,24),new D(22,25)),new V(30,new D(22,15),new D(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new V(28,new D(10,114),new D(2,115)),new V(28,new D(19,46),new D(4,47)),new V(28,new D(28,22),new D(6,23)),new V(30,new D(33,16),new D(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new V(30,new D(8,122),new D(4,123)),new V(28,new D(22,45),new D(3,46)),new V(30,new D(8,23),new D(26,24)),new V(30,new D(12,15),new D(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new D(3,117),new D(10,118)),new V(28,new D(3,45),new D(23,46)),new V(30,new D(4,24),new D(31,25)),new V(30,new D(11,15),new D(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new D(7,116),new D(7,117)),new V(28,new D(21,45),new D(7,46)),new V(30,new D(1,23),new D(37,24)),new V(30,new D(19,15),new D(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new D(5,115),new D(10,116)),new V(28,new D(19,47),new D(10,48)),new V(30,new D(15,24),new D(25,25)),new V(30,new D(23,15),new D(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new D(13,115),new D(3,116)),new V(28,new D(2,46),new D(29,47)),new V(30,new D(42,24),new D(1,25)),new V(30,new D(23,15),new D(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new D(17,115)),new V(28,new D(10,46),new D(23,47)),new V(30,new D(10,24),new D(35,25)),new V(30,new D(19,15),new D(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new D(17,115),new D(1,116)),new V(28,new D(14,46),new D(21,47)),new V(30,new D(29,24),new D(19,25)),new V(30,new D(11,15),new D(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new D(13,115),new D(6,116)),new V(28,new D(14,46),new D(23,47)),new V(30,new D(44,24),new D(7,25)),new V(30,new D(59,16),new D(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new D(12,121),new D(7,122)),new V(28,new D(12,47),new D(26,48)),new V(30,new D(39,24),new D(14,25)),new V(30,new D(22,15),new D(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new D(6,121),new D(14,122)),new V(28,new D(6,47),new D(34,48)),new V(30,new D(46,24),new D(10,25)),new V(30,new D(2,15),new D(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new D(17,122),new D(4,123)),new V(28,new D(29,46),new D(14,47)),new V(30,new D(49,24),new D(10,25)),new V(30,new D(24,15),new D(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new D(4,122),new D(18,123)),new V(28,new D(13,46),new D(32,47)),new V(30,new D(48,24),new D(14,25)),new V(30,new D(42,15),new D(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new D(20,117),new D(4,118)),new V(28,new D(40,47),new D(7,48)),new V(30,new D(43,24),new D(22,25)),new V(30,new D(10,15),new D(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new D(19,118),new D(6,119)),new V(28,new D(18,47),new D(31,48)),new V(30,new D(34,24),new D(34,25)),new V(30,new D(20,15),new D(61,16)))],r}(),ar;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(ar||(ar={}));var n_=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[ar.DATA_MASK_000,new r(ar.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[ar.DATA_MASK_001,new r(ar.DATA_MASK_001,function(e,t){return(e&1)===0})],[ar.DATA_MASK_010,new r(ar.DATA_MASK_010,function(e,t){return t%3===0})],[ar.DATA_MASK_011,new r(ar.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[ar.DATA_MASK_100,new r(ar.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[ar.DATA_MASK_101,new r(ar.DATA_MASK_101,function(e,t){return e*t%6===0})],[ar.DATA_MASK_110,new r(ar.DATA_MASK_110,function(e,t){return e*t%6<3})],[ar.DATA_MASK_111,new r(ar.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}(),e9=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new ne;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=Lm.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ne},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ga.getVersionForNumber(t);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var u=Ga.decodeVersionInformation(n);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(u=Ga.decodeVersionInformation(n),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new ne},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=n_.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),o=!0,u=new Uint8Array(t.getTotalCodewords()),l=0,c=0,d=0,v=i-1;v>0;v-=2){v===6&&v--;for(var g=0;g<i;g++)for(var y=o?i-1-g:g,m=0;m<2;m++)a.get(v-m,y)||(d++,c<<=1,this.bitMatrix.get(v-m,y)&&(c|=1),d===8&&(u[l++]=c,d=0,c=0));o=!o}if(l!==t.getTotalCodewords())throw new ne;return u},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=n_.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r}(),i_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t9=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,a,o,u;if(e.length!==t.getTotalCodewords())throw new xe;var l=t.getECBlocksForLevel(n),c=0,d=l.getECBlocks();try{for(var v=i_(d),g=v.next();!g.done;g=v.next()){var y=g.value;c+=y.getCount()}}catch(fe){i={error:fe}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}var m=new Array(c),A=0;try{for(var E=i_(d),w=E.next();!w.done;w=E.next())for(var y=w.value,C=0;C<y.getCount();C++){var I=y.getDataCodewords(),b=l.getECCodewordsPerBlock()+I;m[A++]=new r(I,new Uint8Array(b))}}catch(fe){o={error:fe}}finally{try{w&&!w.done&&(u=E.return)&&u.call(E)}finally{if(o)throw o.error}}for(var R=m[0].codewords.length,M=m.length-1;M>=0;){var L=m[M].codewords.length;if(L===R)break;M--}M++;for(var z=R-l.getECCodewordsPerBlock(),K=0,C=0;C<z;C++)for(var Z=0;Z<A;Z++)m[Z].codewords[C]=e[K++];for(var Z=M;Z<A;Z++)m[Z].codewords[z]=e[K++];for(var le=m[0].codewords.length,C=z;C<le;C++)for(var Z=0;Z<A;Z++){var te=Z<M?C:C+1;m[Z].codewords[te]=e[K++]}return m},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),An;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(An||(An={}));var wt=function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new xe;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(An.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(An.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(An.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(An.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(An.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(An.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(An.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(An.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(An.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(An.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}(),r9=function(){function r(){}return r.decode=function(e,t,n,i){var a=new Pm(e),o=new be,u=new Array,l=-1,c=-1;try{var d=null,v=!1,g=void 0;do{if(a.available()<4)g=wt.TERMINATOR;else{var y=a.readBits(4);g=wt.forBits(y)}switch(g){case wt.TERMINATOR:break;case wt.FNC1_FIRST_POSITION:case wt.FNC1_SECOND_POSITION:v=!0;break;case wt.STRUCTURED_APPEND:if(a.available()<16)throw new ne;l=a.readBits(8),c=a.readBits(8);break;case wt.ECI:var m=r.parseECIValue(a);if(d=$t.getCharacterSetECIByValue(m),d===null)throw new ne;break;case wt.HANZI:var A=a.readBits(4),E=a.readBits(g.getCharacterCountBits(t));A===r.GB2312_SUBSET&&r.decodeHanziSegment(a,o,E);break;default:var w=a.readBits(g.getCharacterCountBits(t));switch(g){case wt.NUMERIC:r.decodeNumericSegment(a,o,w);break;case wt.ALPHANUMERIC:r.decodeAlphanumericSegment(a,o,w,v);break;case wt.BYTE:r.decodeByteSegment(a,o,w,d,u,i);break;case wt.KANJI:r.decodeKanjiSegment(a,o,w);break;default:throw new ne}break}}while(g!==wt.TERMINATOR)}catch{throw new ne}return new oc(e,o.toString(),u.length===0?null:u,n===null?null:n.toString(),l,c)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new ne;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),u=o/96<<8&4294967295|o%96;u<959?u+=41377:u+=42657,i[a]=u>>8&255,i[a+1]=u&255,a+=2,n--}try{t.append(In.decode(i,Ue.GB2312))}catch(l){throw new ne(l)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new ne;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),u=o/192<<8&4294967295|o%192;u<7936?u+=33088:u+=49472,i[a]=u>>8,i[a+1]=u,a+=2,n--}try{t.append(In.decode(i,Ue.SHIFT_JIS))}catch(l){throw new ne(l)}},r.decodeByteSegment=function(e,t,n,i,a,o){if(8*n>e.available())throw new ne;for(var u=new Uint8Array(n),l=0;l<n;l++)u[l]=e.readBits(8);var c;i===null?c=Ue.guessEncoding(u,o):c=i.getName();try{t.append(In.decode(u,c))}catch(d){throw new ne(d)}a.push(u)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new ne;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var a=t.length();n>1;){if(e.available()<11)throw new ne;var o=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(o/45))),t.append(r.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new ne;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new ne;var i=e.readBits(10);if(i>=1e3)throw new ne;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new ne;var a=e.readBits(7);if(a>=100)throw new ne;t.append(r.toAlphaNumericChar(Math.floor(a/10))),t.append(r.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new ne;var o=e.readBits(4);if(o>=10)throw new ne;t.append(r.toAlphaNumericChar(o))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new ne},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}(),Fm=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}(),a_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n9=function(){function r(){this.rsDecoder=new uc(Zr.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(ei.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new e9(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,t);return a.setOther(new Fm(!0)),a}catch(o){throw i!==null?i:o}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,a,o,u=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),d=t9.getDataBlocks(c,u,l),v=0;try{for(var g=a_(d),y=g.next();!y.done;y=g.next()){var m=y.value;v+=m.getNumDataCodewords()}}catch(M){n={error:M}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var A=new Uint8Array(v),E=0;try{for(var w=a_(d),C=w.next();!C.done;C=w.next()){var m=C.value,I=m.getCodewords(),b=m.getNumDataCodewords();this.correctErrors(I,b);for(var R=0;R<b;R++)A[E++]=I[R]}}catch(M){a={error:M}}finally{try{C&&!C.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}return r9.decode(A,u,l,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new cr}for(var i=0;i<t;i++)e[i]=n[i]},r}(),i9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a9=function(r){i9(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=(this.getX()+n)/2,o=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new e(a,o,u)},e}(he),o9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u9=function(){function r(e,t,n,i,a,o,u){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,a=this.startY+t/2,o=new Int32Array(3),u=this.image,l=0;l<t;l++){var c=a+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!u.get(d,c);)d++;for(var v=0;d<i;){if(u.get(d,c))if(v===1)o[1]++;else if(v===2){if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,c,d);if(g!==null)return g}o[0]=o[2],o[1]=1,o[2]=0,v=1}else o[++v]++;else v===1&&v++,o[v]++;d++}if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,c,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var a=this.image,o=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var l=e;l>=0&&a.get(t,l)&&u[1]<=n;)u[1]++,l--;if(l<0||u[1]>n)return NaN;for(;l>=0&&!a.get(t,l)&&u[0]<=n;)u[0]++,l--;if(u[0]>n)return NaN;for(l=e+1;l<o&&a.get(t,l)&&u[1]<=n;)u[1]++,l++;if(l===o||u[1]>n)return NaN;for(;l<o&&!a.get(t,l)&&u[2]<=n;)u[2]++,l++;if(u[2]>n)return NaN;var c=u[0]+u[1]+u[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(u)?r.centerFromEnd(u,l):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,a,o=e[0]+e[1]+e[2],u=r.centerFromEnd(e,n),l=this.crossCheckVertical(t,u,2*e[1],o);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var d=o9(this.possibleCenters),v=d.next();!v.done;v=d.next()){var g=v.value;if(g.aboutEquals(c,l,u))return g.combineEstimate(l,u,c)}}catch(m){i={error:m}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var y=new a9(u,l,c);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null},r}(),s9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),f9=function(r){s9(e,r);function e(t,n,i,a){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,u=(this.count*this.getY()+t)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,u,l,a)},e}(he),l9=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}(),ds=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c9=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(It.TRY_HARDER)!==void 0,n=e!=null&&e.get(It.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),u=Math.floor(3*a/(4*r.MAX_MODULES));(u<r.MIN_SKIP||t)&&(u=r.MIN_SKIP);for(var l=!1,c=new Int32Array(5),d=u-1;d<a&&!l;d+=u){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var v=0,g=0;g<o;g++)if(i.get(g,d))(v&1)===1&&v++,c[v]++;else if((v&1)===0)if(v===4)if(r.foundPatternCross(c)){var y=this.handlePossibleCenter(c,d,g,n);if(y===!0)if(u=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>c[2]&&(d+=m-c[2]-u,g=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,v=3;continue}v=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,v=3;else c[++v]++;else c[v]++;if(r.foundPatternCross(c)){var y=this.handlePossibleCenter(c,d,o,n);y===!0&&(u=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var A=this.selectBestPatterns();return he.orderBestPatterns(A),new l9(A)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var a=this.getCrossCheckStateCount(),o=0,u=this.image;e>=o&&t>=o&&u.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!u.get(t-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||t<o||a[1]>n)return!1;for(;e>=o&&t>=o&&u.get(t-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=u.getHeight(),c=u.getWidth();for(o=1;e+o<l&&t+o<c&&u.get(t+o,e+o);)a[2]++,o++;if(e+o>=l||t+o>=c)return!1;for(;e+o<l&&t+o<c&&!u.get(t+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||t+o>=c||a[3]>=n)return!1;for(;e+o<l&&t+o<c&&u.get(t+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&r.foundPatternCross(a)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var a=this.image,o=a.getHeight(),u=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(t,l);)u[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(t,l)&&u[1]<=n;)u[1]++,l--;if(l<0||u[1]>n)return NaN;for(;l>=0&&a.get(t,l)&&u[0]<=n;)u[0]++,l--;if(u[0]>n)return NaN;for(l=e+1;l<o&&a.get(t,l);)u[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(t,l)&&u[3]<n;)u[3]++,l++;if(l===o||u[3]>=n)return NaN;for(;l<o&&a.get(t,l)&&u[4]<n;)u[4]++,l++;if(u[4]>=n)return NaN;var c=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(c-i)>=2*i?NaN:r.foundPatternCross(u)?r.centerFromEnd(u,l):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var a=this.image,o=a.getWidth(),u=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,t);)u[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,t)&&u[1]<=n;)u[1]++,l--;if(l<0||u[1]>n)return NaN;for(;l>=0&&a.get(l,t)&&u[0]<=n;)u[0]++,l--;if(u[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,t);)u[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,t)&&u[3]<n;)u[3]++,l++;if(l===o||u[3]>=n)return NaN;for(;l<o&&a.get(l,t)&&u[4]<n;)u[4]++,l++;if(u[4]>=n)return NaN;var c=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(c-i)>=i?NaN:r.foundPatternCross(u)?r.centerFromEnd(u,l):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=r.centerFromEnd(e,n),u=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(u)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(u),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(o),e[2],a)))){for(var l=a/7,c=!1,d=this.possibleCenters,v=0,g=d.length;v<g;v++){var y=d[v];if(y.aboutEquals(l,u,o)){d[v]=y.combineEstimate(u,o,l),c=!0;break}}if(!c){var m=new f9(o,u,l);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=ds(this.possibleCenters),o=a.next();!o.done;o=a.next()){var u=o.value;if(u.getCount()>=r.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,a=0,o=0,u=this.possibleCenters.length;try{for(var l=ds(this.possibleCenters),c=l.next();!c.done;c=l.next()){var d=c.value;d.getCount()>=r.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(A){e={error:A}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var v=o/u,g=0;try{for(var y=ds(this.possibleCenters),m=y.next();!m.done;m=y.next()){var d=m.value;g+=Math.abs(d.getEstimatedModuleSize()-v)}}catch(A){n={error:A}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}return g<=.05*o},r.prototype.selectBestPatterns=function(){var e,t,n,i,a=this.possibleCenters.length;if(a<3)throw new $;var o=this.possibleCenters,u;if(a>3){var l=0,c=0;try{for(var d=ds(this.possibleCenters),v=d.next();!v.done;v=d.next()){var g=v.value,y=g.getEstimatedModuleSize();l+=y,c+=y*y}}catch(R){e={error:R}}finally{try{v&&!v.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}u=l/a;var m=Math.sqrt(c/a-u*u);o.sort(function(R,M){var L=Math.abs(M.getEstimatedModuleSize()-u),z=Math.abs(R.getEstimatedModuleSize()-u);return L<z?-1:L>z?1:0});for(var A=Math.max(.2*u,m),E=0;E<o.length&&o.length>3;E++){var w=o[E];Math.abs(w.getEstimatedModuleSize()-u)>A&&(o.splice(E,1),E--)}}if(o.length>3){var l=0;try{for(var C=ds(o),I=C.next();!I.done;I=C.next()){var b=I.value;l+=b.getEstimatedModuleSize()}}catch(M){n={error:M}}finally{try{I&&!I.done&&(i=C.return)&&i.call(C)}finally{if(n)throw n.error}}u=l/o.length,o.sort(function(M,L){if(L.getCount()===M.getCount()){var z=Math.abs(L.getEstimatedModuleSize()-u),K=Math.abs(M.getEstimatedModuleSize()-u);return z<K?1:z>K?-1:0}else return L.getCount()-M.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}(),h9=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(It.NEED_RESULT_POINT_CALLBACK);var t=new c9(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,n,i);if(a<1)throw new $("No pattern found in proccess finder.");var o=r.computeDimension(t,n,i,a),u=Ga.getProvisionalVersionForDimension(o),l=u.getDimensionForVersion()-7,c=null;if(u.getAlignmentPatternCenters().length>0)for(var d=n.getX()-t.getX()+i.getX(),v=n.getY()-t.getY()+i.getY(),g=1-3/l,y=Math.floor(t.getX()+g*(d-t.getX())),m=Math.floor(t.getY()+g*(v-t.getY())),A=4;A<=16;A<<=1)try{c=this.findAlignmentInRegion(a,y,m,A);break}catch(I){if(!(I instanceof $))throw I}var E=r.createTransform(t,n,i,c,o),w=r.sampleGrid(this.image,E,o),C;return c===null?C=[i,t,n]:C=[i,t,n,c],new Yd(w,C)},r.createTransform=function(e,t,n,i,a){var o=a-3.5,u,l,c,d;return i!==null?(u=i.getX(),l=i.getY(),c=o-3,d=c):(u=t.getX()-e.getX()+n.getX(),l=t.getY()-e.getY()+n.getY(),c=o,d=o),Rm.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,d,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),u,l,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=jd.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var a=je.round(he.distance(e,t)/i),o=je.round(he.distance(e,n)/i),u=Math.floor((a+o)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new $("Dimensions could be not found.")}return u},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,n,i),o=1,u=e-(n-e);u<0?(o=e/(e-u),u=0):u>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var l=Math.floor(t-(i-t)*o);return o=1,l<0?(o=t/(t-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(l-t),l=this.image.getHeight()-1),u=Math.floor(e+(u-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,u,l),a-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var a=Math.abs(i-t)>Math.abs(n-e);if(a){var o=e;e=t,t=o,o=n,n=i,i=o}for(var u=Math.abs(n-e),l=Math.abs(i-t),c=-u/2,d=e<n?1:-1,v=t<i?1:-1,g=0,y=n+d,m=e,A=t;m!==y;m+=d){var E=a?A:m,w=a?m:A;if(g===1===this.image.get(E,w)){if(g===2)return je.distance(m,A,e,t);g++}if(c+=l,c>0){if(A===i)break;A+=v,c-=u}}return g===2?je.distance(n+d,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var a=Math.floor(i*e),o=Math.max(0,t-a),u=Math.min(this.image.getWidth()-1,t+a);if(u-o<e*3)throw new $("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),c=Math.min(this.image.getHeight()-1,n+a);if(c-l<e*3)throw new $("Alignment bottom exceeds estimated module size.");var d=new u9(this.image,o,l,u-o,c-l,e,this.resultPointCallback);return d.find()},r}(),Zh=function(){function r(){this.decoder=new n9}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(It.PURE_BARCODE)!==void 0){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,t),i=r.NO_POINTS}else{var o=new h9(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}n.getOther()instanceof Fm&&n.getOther().applyMirroredCorrection(i);var u=new Mr(n.getText(),n.getRawBytes(),void 0,i,de.QR_CODE,void 0),l=n.getByteSegments();l!==null&&u.putMetadata(Cr.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&u.putMetadata(Cr.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(u.putMetadata(Cr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),u.putMetadata(Cr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new $;var i=this.moduleSize(t,e),a=t[1],o=n[1],u=t[0],l=n[0];if(u>=l||a>=o)throw new $;if(o-a!==l-u&&(l=u+(o-a),l>=e.getWidth()))throw new $;var c=Math.round((l-u+1)/i),d=Math.round((o-a+1)/i);if(c<=0||d<=0)throw new $;if(d!==c)throw new $;var v=Math.floor(i/2);a+=v,u+=v;var g=u+Math.floor((c-1)*i)-l;if(g>0){if(g>v)throw new $;u-=g}var y=a+Math.floor((d-1)*i)-o;if(y>0){if(y>v)throw new $;a-=y}for(var m=new ei(c,d),A=0;A<d;A++)for(var E=a+Math.floor(A*i),w=0;w<c;w++)e.get(u+Math.floor(w*i),E)&&m.set(w,A);return m},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),a=e[0],o=e[1],u=!0,l=0;a<i&&o<n;){if(u!==t.get(a,o)){if(++l===5)break;u=!u}a++,o++}if(a===i||o===n)throw new $;return(a-e[0])/7},r.NO_POINTS=new Array,r}(),d9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return je.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=d9(e),u=o.next();!u.done;u=o.next()){var l=u.value;i[a++]=l}}catch(c){t={error:c}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=qt.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}(),v9=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),p9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g9=function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),a=r.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=r.detect(n,i)),new v9(i,a)},r.detect=function(e,t){for(var n,i,a=new Array,o=0,u=0,l=!1;o<t.getHeight();){var c=r.findVertices(t,o,u);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,u=0;try{for(var d=(n=void 0,p9(a)),v=d.next();!v.done;v=d.next()){var g=v.value;g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())))}}catch(y){n={error:y}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=r.ROW_STEP;continue}if(l=!0,a.push(c),!e)break;c[2]!=null?(u=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(u=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return a},r.findVertices=function(e,t,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),o},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,a,o){for(var u=new Array(4),l=!1,c=new Int32Array(o.length);i<t;i+=r.ROW_STEP){var d=r.findGuardPattern(e,a,i,n,!1,o,c);if(d!=null){for(;i>0;){var v=r.findGuardPattern(e,a,--i,n,!1,o,c);if(v!=null)d=v;else{i++;break}}u[0]=new he(d[0],i),u[1]=new he(d[1],i),l=!0;break}}var g=i+1;if(l){for(var y=0,v=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);g<t;g++){var d=r.findGuardPattern(e,v[0],g,n,!1,o,c);if(d!=null&&Math.abs(v[0]-d[0])<r.MAX_PATTERN_DRIFT&&Math.abs(v[1]-d[1])<r.MAX_PATTERN_DRIFT)v=d,y=0;else{if(y>r.SKIPPED_ROW_COUNT_MAX)break;y++}}g-=y+1,u[2]=new he(v[0],g),u[3]=new he(v[1],g)}return g-i<r.BARCODE_MIN_HEIGHT&&qt.fill(u,null),u},r.findGuardPattern=function(e,t,n,i,a,o,u){qt.fillWithin(u,0,u.length,0);for(var l=t,c=0;e.get(l,n)&&l>0&&c++<r.MAX_PIXEL_DRIFT;)l--;for(var d=l,v=0,g=o.length,y=a;d<i;d++){var m=e.get(d,n);if(m!==y)u[v]++;else{if(v===g-1){if(r.patternMatchVariance(u,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=u[0]+u[1],_t.arraycopy(u,2,u,0,v-1),u[v-1]=0,u[v]=0,v--}else v++;u[v]=1,y=!y}}return v===g-1&&r.patternMatchVariance(u,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,u=0;u<i;u++)a+=e[u],o+=t[u];if(a<o)return 1/0;var l=a/o;n*=l;for(var c=0,d=0;d<i;d++){var v=e[d],g=t[d]*l,y=v>g?v-g:g-v;if(y>n)return 1/0;c+=y}return c/a},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}(),y9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ha=function(){function r(e,t){if(t.length===0)throw new xe;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),_t.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=y9(this.coefficients),o=a.next();!o.done;o=a.next()){var u=o.value;i=this.field.add(i,u)}}catch(v){t={error:v}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,d=1;d<c;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new xe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;_t.arraycopy(n,0,a,0,o);for(var u=o;u<n.length;u++)a[u]=this.field.add(t[u-o],n[u]);return new r(this.field,a)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new xe("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new xe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),u=0;u<n;u++)for(var l=t[u],c=0;c<a;c++)o[u+c]=this.field.add(o[u+c],this.field.multiply(l,i[c]));return new r(this.field,o)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new xe;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new be,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}(),x9=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new xe;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new Dm;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}(),_9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),m9=function(r){_9(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)i.expTable[o]=a,a=a*n%t;for(var o=0;o<t-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Ha(i,new Int32Array([0])),i.one=new Ha(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new xe;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new Ha(this,i)},e.PDF417_GF=new e(ze.NUMBER_OF_CODEWORDS,3),e}(x9),A9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E9=function(){function r(){this.field=m9.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,a,o=new Ha(this.field,e),u=new Int32Array(t),l=!1,c=t;c>0;c--){var d=o.evaluateAt(this.field.exp(c));u[t-c]=d,d!==0&&(l=!0)}if(!l)return 0;var v=this.field.getOne();if(n!=null)try{for(var g=A9(n),y=g.next();!y.done;y=g.next()){var m=y.value,A=this.field.exp(e.length-1-m),E=new Ha(this.field,new Int32Array([this.field.subtract(0,A),1]));v=v.multiply(E)}}catch(z){i={error:z}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}for(var w=new Ha(this.field,u),C=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),w,t),I=C[0],b=C[1],R=this.findErrorLocations(I),M=this.findErrorMagnitudes(b,I,R),c=0;c<R.length;c++){var L=e.length-1-this.field.log(R[c]);if(L<0)throw cr.getChecksumInstance();e[L]=this.field.subtract(e[L],M[c])}return R.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,o=t,u=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var c=a,d=u;if(a=o,u=l,a.isZero())throw cr.getChecksumInstance();o=c;for(var v=this.field.getZero(),g=a.getCoefficient(a.getDegree()),y=this.field.inverse(g);o.getDegree()>=a.getDegree()&&!o.isZero();){var m=o.getDegree()-a.getDegree(),A=this.field.multiply(o.getCoefficient(o.getDegree()),y);v=v.add(this.field.buildMonomial(m,A)),o=o.subtract(a.multiplyByMonomial(m,A))}l=v.multiply(u).subtract(d).negative()}var E=l.getCoefficient(0);if(E===0)throw cr.getChecksumInstance();var w=this.field.inverse(E),C=l.multiply(w),I=o.multiply(w);return[C,I]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==t)throw cr.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,t.getCoefficient(o));for(var u=new Ha(this.field,a),l=n.length,c=new Int32Array(l),o=0;o<l;o++){var d=this.field.inverse(n[o]),v=this.field.subtract(0,e.evaluateAt(d)),g=this.field.inverse(u.evaluateAt(d));c[o]=this.field.multiply(v,g)}return c},r}(),Kh=function(){function r(e,t,n,i,a){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,a)}return r.prototype.constructor_1=function(e,t,n,i,a){var o=t==null||n==null,u=i==null||a==null;if(o&&u)throw new $;o?(t=new he(0,i.getY()),n=new he(0,a.getY())):u&&(i=new he(e.getWidth()-1,t.getY()),a=new he(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,u=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var d=new he(l.getX(),c);n?i=d:o=d}if(t>0){var v=n?this.bottomLeft:this.bottomRight,g=Math.trunc(v.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var y=new he(v.getX(),g);n?a=y:u=y}return new r(this.image,i,a,o,u)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}(),w9=function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}(),Zd=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(o,u,l,c,d,v){if(o==="%%")return"%";if(t[++n]!==void 0){o=c?parseInt(c.substr(1)):void 0;var g=d?parseInt(d.substr(1)):void 0,y;switch(v){case"s":y=t[n];break;case"c":y=t[n][0];break;case"f":y=parseFloat(t[n]).toFixed(o);break;case"p":y=parseFloat(t[n]).toPrecision(o);break;case"e":y=parseFloat(t[n]).toExponential(o);break;case"x":y=parseInt(t[n]).toString(g||16);break;case"d":y=parseFloat(parseInt(t[n],g||10).toPrecision(o)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(g);for(var m=parseInt(l),A=l&&l[0]+""=="0"?"0":" ";y.length<m;)y=u!==void 0?y+A:A+y;return y}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}(),C9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},km=function(){function r(e){this.boundingBox=new Kh(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new Zd,i=0;try{for(var a=C9(this.codewords),o=a.next();!o.done;o=a.next()){var u=o.value;if(u==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}(),S9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I9=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},Es=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,a=function(v,g){var y={getKey:function(){return v},getValue:function(){return g}};y.getValue()>n?(n=y.getValue(),i=[],i.push(y.getKey())):y.getValue()===n&&i.push(y.getKey())};try{for(var o=S9(this.values.entries()),u=o.next();!u.done;u=o.next()){var l=I9(u.value,2),c=l[0],d=l[1];a(c,d)}}catch(v){e={error:v}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return ze.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}(),T9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),th=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o_=function(r){T9(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=th(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,d=1,v=0,g=u;g<l;g++)if(n[g]!=null){var y=n[g],m=y.getRowNumber()-c;if(m===0)v++;else if(m===1)d=Math.max(d,v),v=1,c=y.getRowNumber();else if(m<0||y.getRowNumber()>=t.getRowCount()||m>g)n[g]=null;else{var A=void 0;d>2?A=(d-2)*m:A=m;for(var E=A>=g,w=1;w<=A&&!E;w++)E=n[g-w]!=null;E?n[g]=null:(c=y.getRowNumber(),v=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=th(this.getCodewords()),u=o.next();!u.done;u=o.next()){var l=u.value;if(l!=null){var c=l.getRowNumber();if(c>=a.length)continue;a[c]++}}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),c=-1,d=o;d<u;d++)if(l[d]!=null){var v=l[d];v.setRowNumberAsRowIndicatorColumn();var g=v.getRowNumber()-c;g===0||(g===1?c=v.getRowNumber():v.getRowNumber()>=t.getRowCount()?l[d]=null:c=v.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),a=new Es,o=new Es,u=new Es,l=new Es;try{for(var c=th(i),d=c.next();!d.done;d=c.next()){var v=d.value;if(v!=null){v.setRowNumberAsRowIndicatorColumn();var g=v.getValue()%30,y=v.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(g*3+1);break;case 1:l.setValue(g/3),u.setValue(g%3);break;case 2:a.setValue(g+1);break}}}}catch(A){t={error:A}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(a.getValue().length===0||o.getValue().length===0||u.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<ze.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>ze.MAX_ROWS_IN_BARCODE)return null;var m=new w9(a.getValue()[0],o.getValue()[0],u.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var o=a.getValue()%30,u=a.getRowNumber();if(u>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(km),b9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O9=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ze.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var u=this.detectionResultColumns[o].getCodewords()[n];u!=null&&(a=r.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var u=this.detectionResultColumns[o].getCodewords()[n];u!=null&&(a=r.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[t],u=this.detectionResultColumns[e-1].getCodewords(),l=u;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=u[t],c[3]=l[t],t>0&&(c[0]=n[t-1],c[4]=u[t-1],c[5]=l[t-1]),t>1&&(c[8]=n[t-2],c[10]=u[t-2],c[11]=l[t-2]),t<n.length-1&&(c[1]=n[t+1],c[6]=u[t+1],c[7]=l[t+1]),t<n.length-2&&(c[9]=n[t+2],c[12]=u[t+2],c[13]=l[t+2]);try{for(var d=b9(c),v=d.next();!v.done;v=d.next()){var g=v.value;if(r.adjustRowNumber(o,g))return}}catch(y){i={error:y}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Zd,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},r}(),D9=function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}(),R9=function(){function r(){}return r.initialize=function(){for(var e=0;e<ze.SYMBOL_TABLE.length;e++)for(var t=ze.SYMBOL_TABLE[e],n=t&1,i=0;i<ze.BARS_IN_MODULE;i++){for(var a=0;(t&1)===n;)a+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(ze.BARS_IN_MODULE)),r.RATIOS_TABLE[e][ze.BARS_IN_MODULE-i-1]=Math.fround(a/ze.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=je.sum(e),n=new Int32Array(ze.BARS_IN_MODULE),i=0,a=0,o=0;o<ze.MODULES_IN_CODEWORD;o++){var u=t/(2*ze.MODULES_IN_CODEWORD)+o*t/ze.MODULES_IN_CODEWORD;a+e[i]<=u&&(a+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return ze.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=je.sum(e),n=new Array(ze.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var a=Xh.MAX_VALUE,o=-1;this.bSymbolTableReady||r.initialize();for(var u=0;u<r.RATIOS_TABLE.length;u++){for(var l=0,c=r.RATIOS_TABLE[u],d=0;d<ze.BARS_IN_MODULE;d++){var v=Math.fround(c[d]-n[d]);if(l+=Math.fround(v*v),l>=a)break}l<a&&(a=l,o=ze.SYMBOL_TABLE[u])}return o},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(ze.SYMBOL_TABLE.length).map(function(e){return new Array(ze.BARS_IN_MODULE)}),r}(),N9=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}(),u_=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}(),M9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B9=function(r){M9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Jr),P9=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new B9;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new Xd;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r}(),L9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),F9=function(r){L9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Jr),k9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),U9=function(r){k9(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new xe("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new F9;i=Re.MAX_VALUE}this.buf=qt.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new Xd;this.ensureCapacity(this.count+i),_t.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return qt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(P9),ht;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ht||(ht={}));function Um(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var gl;function ta(r){if(typeof gl>"u"&&(gl=Um()),gl===null)throw new Error("BigInt is not supported!");return gl(r)}function H9(){var r=[];r[0]=ta(1);var e=ta(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var V9=function(){function r(){}return r.decode=function(e,t){var n=new be(""),i=$t.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],u=new N9;a<e[0];){switch(o){case r.TEXT_COMPACTION_MODE_LATCH:a=r.textCompaction(e,a,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:a=r.byteCompaction(o,e,i,a,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:a=r.numericCompaction(e,a,n);break;case r.ECI_CHARSET:$t.getCharacterSetECIByValue(e[a++]);break;case r.ECI_GENERAL_PURPOSE:a+=2;break;case r.ECI_USER_DEFINED:a++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=r.decodeMacroBlock(e,a,u);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new ne;default:a--,a=r.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw ne.getFormatInstance()}if(n.length()===0)throw ne.getFormatInstance();var l=new oc(null,n.toString(),null,t);return l.setOther(u),l},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ne.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<r.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];n.setSegmentIndex(Re.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new be;t=r.textCompaction(e,t,o),n.setFileId(o.toString());var u=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new be;t=r.textCompaction(e,t+1,l),n.setFileName(l.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new be;t=r.textCompaction(e,t+1,c),n.setSender(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new be;t=r.textCompaction(e,t+1,d),n.setAddressee(d.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var v=new be;t=r.numericCompaction(e,t+1,v),n.setSegmentCount(Re.parseInt(v.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new be;t=r.numericCompaction(e,t+1,g),n.setTimestamp(u_.parseLong(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var y=new be;t=r.numericCompaction(e,t+1,y),n.setChecksum(Re.parseInt(y.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new be;t=r.numericCompaction(e,t+1,m),n.setFileSize(u_.parseLong(m.toString()));break;default:throw ne.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw ne.getFormatInstance()}if(u!==-1){var A=t-u;n.isLastSegment()&&A--,n.setOptionalData(qt.copyOfRange(e,u,u+A))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),o=0,u=!1;t<e[0]&&!u;){var l=e[t++];if(l<r.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:i[o++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[t++],a[o]=l,o++;break}}return r.decodeTextCompaction(i,a,o,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var a=ht.ALPHA,o=ht.ALPHA,u=0;u<n;){var l=e[u],c="";switch(a){case ht.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case r.LL:a=ht.LOWER;break;case r.ML:a=ht.MIXED;break;case r.PS:o=a,a=ht.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ht.ALPHA;break}break;case ht.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case r.AS:o=a,a=ht.ALPHA_SHIFT;break;case r.ML:a=ht.MIXED;break;case r.PS:o=a,a=ht.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ht.ALPHA;break}break;case ht.MIXED:if(l<r.PL)c=r.MIXED_CHARS[l];else switch(l){case r.PL:a=ht.PUNCT;break;case 26:c=" ";break;case r.LL:a=ht.LOWER;break;case r.AL:a=ht.ALPHA;break;case r.PS:o=a,a=ht.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ht.ALPHA;break}break;case ht.PUNCT:if(l<r.PAL)c=r.PUNCT_CHARS[l];else switch(l){case r.PAL:a=ht.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ht.ALPHA;break}break;case ht.ALPHA_SHIFT:if(a=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:a=ht.ALPHA;break}break;case ht.PUNCT_SHIFT:if(a=o,l<r.PAL)c=r.PUNCT_CHARS[l];else switch(l){case r.PAL:a=ht.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ht.ALPHA;break}break}c!==""&&i.append(c),u++}},r.byteCompaction=function(e,t,n,i,a){var o=new U9,u=0,l=0,c=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),v=t[i++];i<t[0]&&!c;)switch(d[u++]=v,l=900*l+v,v=t[i++],v){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(u%5===0&&u>0){for(var g=0;g<6;++g)o.write(Number(ta(l)>>ta(8*(5-g))));l=0,u=0}break}i===t[0]&&v<r.TEXT_COMPACTION_MODE_LATCH&&(d[u++]=v);for(var y=0;y<u;y++)o.write(d[y]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!c;){var m=t[i++];if(m<r.TEXT_COMPACTION_MODE_LATCH)u++,l=900*l+m;else switch(m){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(u%5===0&&u>0){for(var g=0;g<6;++g)o.write(Number(ta(l)>>ta(8*(5-g))));l=0,u=0}}break}return a.append(In.decode(o.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,a=!1,o=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var u=e[t++];if(t===e[0]&&(a=!0),u<r.TEXT_COMPACTION_MODE_LATCH)o[i]=u,i++;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||u===r.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(r.decodeBase900toBase10(o,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=ta(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*ta(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new ne;return a.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=Um()?H9():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}(),vs=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},G9=function(){function r(){}return r.decode=function(e,t,n,i,a,o,u){for(var l=new Kh(e,t,n,i,a),c=null,d=null,v,g=!0;;g=!1){if(t!=null&&(c=r.getRowIndicatorColumn(e,l,t,!0,o,u)),i!=null&&(d=r.getRowIndicatorColumn(e,l,i,!1,o,u)),v=r.merge(c,d),v==null)throw $.getNotFoundInstance();var y=v.getBoundingBox();if(g&&y!=null&&(y.getMinY()<l.getMinY()||y.getMaxY()>l.getMaxY()))l=y;else break}v.setBoundingBox(l);var m=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,c),v.setDetectionResultColumn(m,d);for(var A=c!=null,E=1;E<=m;E++){var w=A?E:m-E;if(v.getDetectionResultColumn(w)===void 0){var C=void 0;w===0||w===m?C=new o_(l,w===0):C=new km(l),v.setDetectionResultColumn(w,C);for(var I=-1,b=I,R=l.getMinY();R<=l.getMaxY();R++){if(I=r.getStartColumn(v,w,R,A),I<0||I>l.getMaxX()){if(b===-1)continue;I=b}var M=r.detectCodeword(e,l.getMinX(),l.getMaxX(),A,I,R,o,u);M!=null&&(C.setCodeword(R,M),b=I,o=Math.min(o,M.getWidth()),u=Math.max(u,M.getWidth()))}}}return r.createDecoderResult(v)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=Kh.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new O9(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=r.getMax(i),o=0;try{for(var u=vs(i),l=u.next();!l.done;l=u.next()){var c=l.value;if(o+=a-c,c>0)break}}catch(y){t={error:y}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}for(var d=e.getCodewords(),v=0;o>0&&d[v]==null;v++)o--;for(var g=0,v=i.length-1;v>=0&&(g+=a-i[v],!(i[v]>0));v--);for(var v=d.length-1;g>0&&d[v]==null;v--)g--;return e.getBoundingBox().addMissingRows(o,g,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var a=vs(e),o=a.next();!o.done;o=a.next()){var u=o.value;i=Math.max(i,u)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,a,o){for(var u=new o_(t,i),l=0;l<2;l++)for(var c=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),v=Math.trunc(Math.trunc(n.getY()));v<=t.getMaxY()&&v>=t.getMinY();v+=c){var g=r.detectCodeword(e,0,e.getWidth(),i,d,v,a,o);g!=null&&(u.setCodeword(v,g),i?d=g.getStartX():d=g.getEndX())}return u},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ze.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=t[u][l+1].getValue(),d=u*e.getBarcodeColumnCount()+l;c.length===0?n.push(d):c.length===1?i[d]=c[0]:(o.push(d),a.push(c))}for(var v=new Array(a.length),g=0;g<v.length;g++)v[g]=a[g];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ze.toIntArray(n),ze.toIntArray(o),v)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,a){for(var o=new Int32Array(i.length),u=100;u-- >0;){for(var l=0;l<o.length;l++)t[i[l]]=a[l][o[l]];try{return r.decodeCodewords(t,e,n)}catch(d){var c=d instanceof cr;if(!c)throw d}if(o.length===0)throw cr.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw cr.getChecksumInstance()}throw cr.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<o.length;u++)for(var l=0;l<o[u].length;l++)o[u][l]=new Es;var c=0;try{for(var d=vs(e.getDetectionResultColumns()),v=d.next();!v.done;v=d.next()){var g=v.value;if(g!=null)try{for(var y=(i=void 0,vs(g.getCodewords())),m=y.next();!m.done;m=y.next()){var A=m.value;if(A!=null){var E=A.getRowNumber();if(E>=0){if(E>=o.length)continue;o[E][c].setValue(A.getValue())}}}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}c++}}catch(w){t={error:w}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return o},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var a,o,u=i?1:-1,l=null;if(r.isValidBarcodeColumn(e,t-u)&&(l=e.getDetectionResultColumn(t-u).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(r.isValidBarcodeColumn(e,t-u)&&(l=e.getDetectionResultColumn(t-u).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;r.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var d=(a=void 0,vs(e.getDetectionResultColumn(t).getCodewords())),v=d.next();!v.done;v=d.next()){var g=v.value;if(g!=null)return(i?g.getEndX():g.getStartX())+u*c*(g.getEndX()-g.getStartX())}}catch(y){a={error:y}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,a,o,u,l){a=r.adjustCodewordStartColumn(e,t,n,i,a,o);var c=r.getModuleBitCount(e,t,n,i,a,o);if(c==null)return null;var d,v=je.sum(c);if(i)d=a+v;else{for(var g=0;g<c.length/2;g++){var y=c[g];c[g]=c[c.length-1-g],c[c.length-1-g]=y}d=a,a=d-v}if(!r.checkCodewordSkew(v,u,l))return null;var m=R9.getDecodedValue(c),A=ze.getCodeword(m);return A===-1?null:new D9(a,d,r.getCodewordBucketNumber(m),A)},r.getModuleBitCount=function(e,t,n,i,a,o){for(var u=a,l=new Int32Array(8),c=0,d=i?1:-1,v=i;(i?u<n:u>=t)&&c<l.length;)e.get(u,o)===v?(l[c]++,u+=d):(c++,v=!v);return c===l.length||u===(i?n:t)&&c===l.length-1?l:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,a,o){for(var u=a,l=i?-1:1,c=0;c<2;c++){for(;(i?u>=t:u<n)&&i===e.get(u,o);){if(Math.abs(a-u)>r.CODEWORD_SKEW_SIZE)return a;u+=l}l=-l,i=!i}return u},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw ne.getFormatInstance();var i=1<<t+1,a=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var o=V9.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(n.length),o},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw cr.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw ne.getFormatInstance();var n=e[0];if(n>e.length)throw ne.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw ne.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new Zd,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new E9,r}(),z9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qh=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw $.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof ne||n instanceof cr?$.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,a,o=new Array,u=g9.detectMultiple(e,t,n);try{for(var l=z9(u.getPoints()),c=l.next();!c.done;c=l.next()){var d=c.value,v=G9.decode(u.getBits(),d[4],d[5],d[6],d[7],r.getMinCodewordWidth(d),r.getMaxCodewordWidth(d)),g=new Mr(v.getText(),v.getRawBytes(),void 0,d,de.PDF_417);g.putMetadata(Cr.ERROR_CORRECTION_LEVEL,v.getECLevel());var y=v.getOther();y!=null&&g.putMetadata(Cr.PDF417_EXTRA_METADATA,y),o.push(g)}}catch(m){i={error:m}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(m){return m})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?Re.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}(),X9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s_=function(r){X9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(Jr),f_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W9=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(It.TRY_HARDER)!==void 0,n=e==null?null:e.get(It.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===de.UPC_A||o===de.UPC_E||o===de.EAN_13||o===de.EAN_8||o===de.CODABAR||o===de.CODE_39||o===de.CODE_93||o===de.CODE_128||o===de.ITF||o===de.RSS_14||o===de.RSS_EXPANDED});a&&!t&&i.push(new As(e)),n.includes(de.QR_CODE)&&i.push(new Zh),n.includes(de.DATA_MATRIX)&&i.push(new $h),n.includes(de.AZTEC)&&i.push(new Yh),n.includes(de.PDF_417)&&i.push(new qh),a&&t&&i.push(new As(e))}i.length===0&&(t||i.push(new As(e)),i.push(new Zh),i.push(new $h),i.push(new Yh),i.push(new qh),t&&i.push(new As(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=f_(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new s_("No readers where selected, nothing can be read.");try{for(var i=f_(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(u){if(u instanceof s_)continue}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new $("No MultiFormat Readers were able to detect the code.")},r}(),Y9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){Y9(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,a=new W9;return a.setHints(t),i=r.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(iu);var j9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){j9(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new qh,t)||this}return e})(iu);var $9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){$9(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Zh,t)||this}return e})(iu);var Qh;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(Qh||(Qh={}));const yl=Qh;var Hm=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ua(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var o=n.multiply(new ua(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(o),n=o}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new xe("No error correction bytes");var n=e.length-t;if(n<=0)throw new xe("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(n);_t.arraycopy(e,0,a,0,n);var o=new ua(this.field,a);o=o.multiplyByMonomial(t,1);for(var u=o.divide(i)[1],l=u.getCoefficients(),c=t-l.length,d=0;d<c;d++)e[n+d]=0;_t.arraycopy(l,0,e,n+c,l.length)},r}(),ws=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var u=n[o],l=0;l<i-1;l++){var c=u[l];c===u[l+1]&&c===n[o+1][l]&&c===n[o+1][l+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var u=0;u<i;u++){var l=n[o];u+6<i&&l[u]===1&&l[u+1]===0&&l[u+2]===1&&l[u+3]===1&&l[u+4]===1&&l[u+5]===0&&l[u+6]===1&&(r.isWhiteHorizontal(l,u-4,u)||r.isWhiteHorizontal(l,u+7,u+11))&&t++,o+6<a&&n[o][u]===1&&n[o+1][u]===0&&n[o+2][u]===1&&n[o+3][u]===1&&n[o+4][u]===1&&n[o+5][u]===0&&n[o+6][u]===1&&(r.isWhiteVertical(n,u,o-4,o)||r.isWhiteVertical(n,u,o+7,o+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var u=n[o],l=0;l<i;l++)u[l]===1&&t++;var c=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(t*2-c)*10/c);return d*r.N4},r.getDataMaskBit=function(e,t,n){var i,a;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:a=n*t,i=(a&1)+a%3;break;case 6:a=n*t,i=(a&1)+a%3&1;break;case 7:a=n*t,i=a%3+(n+t&1)&1;break;default:throw new xe("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray(),u=0;u<i;u++){for(var l=0,c=-1,d=0;d<a;d++){var v=t?o[u][d]:o[d][u];v===c?l++:(l>=5&&(n+=r.N1+(l-5)),l=1,c=v)}l>=5&&(n+=r.N1+(l-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}(),Z9=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K9=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=Z9(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;qt.fill(o,e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=t.bytes[n],u=0,l=this.width;u<l;++u)if(a[u]!==o[u])return!1;return!0},r.prototype.toString=function(){for(var e=new be,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}(),Jh=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new be;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}(),q9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),At=function(r){q9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(Jr),l_=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,a){r.clearMatrix(a),r.embedBasicPatterns(n,a),r.embedTypeInfo(t,i,a),r.maybeEmbedVersionInfo(n,a),r.embedDataBits(e,i,a)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new dr;r.makeTypeInfoBits(e,t,i);for(var a=0,o=i.getSize();a<o;++a){var u=i.get(i.getSize()-1-a),l=r.TYPE_INFO_COORDINATES[a],c=l[0],d=l[1];if(n.setBoolean(c,d,u),a<8){var v=n.getWidth()-a-1,g=8;n.setBoolean(v,g,u)}else{var v=8,g=n.getHeight()-7+(a-8);n.setBoolean(v,g,u)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new dr;r.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var u=n.get(i);i--,t.setBoolean(a,t.getHeight()-11+o,u),t.setBoolean(t.getHeight()-11+o,a,u)}}},r.embedDataBits=function(e,t,n){for(var i=0,a=-1,o=n.getWidth()-1,u=n.getHeight()-1;o>0;){for(o===6&&(o-=1);u>=0&&u<n.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(r.isEmpty(n.get(c,u))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,t!==255&&ws.getDataMaskBit(t,c,u)&&(d=!d),n.setBoolean(c,u,d)}}u+=a}a=-a,u+=a,o-=2}if(i!==e.getSize())throw new At("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Re.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new xe("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!Jh.isValidMaskPattern(t))throw new At("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var a=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(a,10);var o=new dr;if(o.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new At("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new At("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new At;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new At;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new At;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var a=r.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var a=r.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var u=i[a];if(u>=0)for(var l=0;l!==o;l++){var c=i[l];c>=0&&r.isEmpty(t.get(c,u))&&r.embedPositionAdjustmentPattern(c-2,u-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}(),Q9=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}(),c_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return ws.applyMaskPenaltyRule1(e)+ws.applyMaskPenaltyRule2(e)+ws.applyMaskPenaltyRule3(e)+ws.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(yl.CHARACTER_SET)!==void 0;a&&(i=n.get(yl.CHARACTER_SET).toString());var o=this.chooseMode(e,i),u=new dr;if(o===wt.BYTE&&(a||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=$t.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,u)}this.appendModeInfo(o,u);var c=new dr;this.appendBytes(e,o,c,i);var d;if(n!==null&&n.get(yl.QR_VERSION)!==void 0){var v=Number.parseInt(n.get(yl.QR_VERSION).toString(),10);d=Ga.getVersionForNumber(v);var g=this.calculateBitsNeeded(o,u,c,d);if(!this.willFit(g,d,t))throw new At("Data too big for requested version")}else d=this.recommendVersion(t,o,u,c);var y=new dr;y.appendBitArray(u);var m=o===wt.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(m,d,o,y),y.appendBitArray(c);var A=d.getECBlocksForLevel(t),E=d.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(E,y);var w=this.interleaveWithECBytes(y,d.getTotalCodewords(),E,A.getNumBlocks()),C=new Jh;C.setECLevel(t),C.setMode(o),C.setVersion(d);var I=d.getDimensionForVersion(),b=new K9(I,I),R=this.chooseMaskPattern(w,t,d,b);return C.setMaskPattern(R),l_.buildMatrix(w,t,d,R,b),C.setMatrix(b),C},r.recommendVersion=function(e,t,n,i){var a=this.calculateBitsNeeded(t,n,i,Ga.getVersionForNumber(1)),o=this.chooseVersion(a,e),u=this.calculateBitsNeeded(t,n,i,o);return this.chooseVersion(u,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),$t.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return wt.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var u=e.charAt(a);if(r.isDigit(u))n=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return wt.BYTE}return i?wt.ALPHANUMERIC:n?wt.NUMERIC:wt.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=In.encode(e,$t.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,u=0;u<Jh.NUM_MASK_PATTERNS;u++){l_.buildMatrix(e,t,n,u,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=u)}return o},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=Ga.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new At("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n),o=a.getTotalECCodewords(),u=i-o,l=(e+7)/8;return u>=l},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new At("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var o=e-t.getSizeInBytes(),i=0;i<o;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==n)throw new At("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,a,o){if(i>=n)throw new At("Block ID too large");var u=e%n,l=n-u,c=Math.floor(e/n),d=c+1,v=Math.floor(t/n),g=v+1,y=c-v,m=d-g;if(y!==m)throw new At("EC bytes mismatch");if(n!==l+u)throw new At("RS blocks mismatch");if(e!==(v+y)*l+(g+m)*u)throw new At("Total bytes mismatch");i<l?(a[0]=v,o[0]=y):(a[0]=g,o[0]=m)},r.interleaveWithECBytes=function(e,t,n,i){var a,o,u,l;if(e.getSizeInBytes()!==n)throw new At("Number of bits and data bytes does not match");for(var c=0,d=0,v=0,g=new Array,y=0;y<i;++y){var m=new Int32Array(1),A=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,y,m,A);var E=m[0],w=new Uint8Array(E);e.toBytes(8*c,w,0,E);var C=r.generateECBytes(w,A[0]);g.push(new Q9(w,C)),d=Math.max(d,E),v=Math.max(v,C.length),c+=m[0]}if(n!==c)throw new At("Data bytes does not match offset");for(var I=new dr,y=0;y<d;++y)try{for(var b=(a=void 0,c_(g)),R=b.next();!R.done;R=b.next()){var M=R.value,w=M.getDataBytes();y<w.length&&I.appendBits(w[y],8)}}catch(Z){a={error:Z}}finally{try{R&&!R.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}for(var y=0;y<v;++y)try{for(var L=(u=void 0,c_(g)),z=L.next();!z.done;z=L.next()){var M=z.value,C=M.getErrorCorrectionBytes();y<C.length&&I.appendBits(C[y],8)}}catch(Z){u={error:Z}}finally{try{z&&!z.done&&(l=L.return)&&l.call(L)}finally{if(u)throw u.error}}if(t!==I.getSizeInBytes())throw new At("Interleaving error: "+t+" and "+I.getSizeInBytes()+" differ.");return I},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),a=0;a<n;a++)i[a]=e[a]&255;new Hm(Zr.QR_CODE_FIELD_256).encode(i,t);for(var o=new Uint8Array(t),a=0;a<t;a++)o[a]=i[n+a];return o},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var a=n.getCharacterCountBits(t);if(e>=1<<a)throw new At(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},r.appendBytes=function(e,t,n,i){switch(t){case wt.NUMERIC:r.appendNumericBytes(e,n);break;case wt.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case wt.BYTE:r.append8BitBytes(e,n,i);break;case wt.KANJI:r.appendKanjiBytes(e,n);break;default:throw new At("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getDigit(e.charAt(i));if(i+2<n){var o=r.getDigit(e.charAt(i+1)),u=r.getDigit(e.charAt(i+2));t.appendBits(a*100+o*10+u,10),i+=3}else if(i+1<n){var o=r.getDigit(e.charAt(i+1));t.appendBits(a*10+o,7),i+=2}else t.appendBits(a,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new At;if(i+1<n){var o=r.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new At;t.appendBits(a*45+o,11),i+=2}else t.appendBits(a,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=In.encode(e,n)}catch(l){throw new At(l)}for(var a=0,o=i.length;a!==o;a++){var u=i[a];t.appendBits(u,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=In.encode(e,$t.SJIS)}catch(v){throw new At(v)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,u=n[a+1]&255,l=o<<8&4294967295|u,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new At("Invalid byte sequence");var d=(c>>8)*192+(c&255);t.appendBits(d,13)}},r.appendECI=function(e,t){t.appendBits(wt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=$t.UTF8.getName(),r})();var J9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){J9(e,r);function e(t,n,i,a,o,u,l,c){var d=r.call(this,u,l)||this;if(d.yuvData=t,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+u>n||o+l>i)throw new xe("Crop rectangle does not fit within image data.");return c&&d.reverseHorizontal(u,l),d}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new xe("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return _t.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return _t.arraycopy(this.yuvData,o,a,0,i),a;for(var u=0;u<n;u++){var l=u*t;_t.arraycopy(this.yuvData,o,a,l,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,u=0;u<n;u++){for(var l=u*t,c=0;c<t;c++){var d=a[o+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var u=o+t/2,l=o,c=o+t-1;l<u;l++,c--){var d=i[l];i[l]=i[c],i[c]=d}},e.prototype.invert=function(){return new Wd(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(ac);var eD=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){eD(e,r);function e(t,n,i,a,o,u,l){var c=r.call(this,n,i)||this;if(c.dataWidth=a,c.dataHeight=o,c.left=u,c.top=l,t.BYTES_PER_ELEMENT===4){for(var d=n*i,v=new Uint8ClampedArray(d),g=0;g<d;g++){var y=t[g],m=y>>16&255,A=y>>7&510,E=y&255;v[g]=(m+A+E)/4&255}c.luminances=v}else c.luminances=t;if(a===void 0&&(c.dataWidth=n),o===void 0&&(c.dataHeight=i),u===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new xe("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new xe("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return _t.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return _t.arraycopy(this.luminances,o,a,0,i),a;for(var u=0;u<n;u++){var l=u*t;_t.arraycopy(this.luminances,o,a,l,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new Wd(this)},e})(ac);var tD=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rD=function(r){tD(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}($t),nD=function(){function r(){}return r.ISO_8859_1=$t.ISO8859_1,r}(),ed,iD=301,aD=function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,t*=2,t>=256&&(t^=iD);return{LOG:r,ALOG:e}};ed=aD([],[]),ed.LOG;ed.ALOG;var h_;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(h_||(h_={}));var d_=129,Vm=230,oD=231,uD=235,sD=236,fD=237,lD=238,cD=239,hD=240,rh=254,dD=254,v_="[)>05",p_="[)>06",g_="",ut=0,mr=1,Hr=2,Xt=3,ur=4,Or=5,vD=function(){function r(){}return r.prototype.getEncodingMode=function(){return ut},r.prototype.encode=function(e){var t=Un.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Un.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Or:e.writeCodeword(oD),e.signalEncoderChange(Or);return;case mr:e.writeCodeword(Vm),e.signalEncoderChange(mr);return;case Xt:e.writeCodeword(lD),e.signalEncoderChange(Xt);break;case Hr:e.writeCodeword(cD),e.signalEncoderChange(Hr);break;case ur:e.writeCodeword(hD),e.signalEncoderChange(ur);break;default:throw new Error("Illegal mode: "+i)}else Un.isExtendedASCII(n)?(e.writeCodeword(uD),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(Un.isDigit(e)&&Un.isDigit(t)){var n=(e-48)*10+(t-48);return n+130}throw new Error("not digits: "+e+t)},r}(),pD=function(){function r(){}return r.prototype.getEncodingMode=function(){return Or},r.prototype.encode=function(e){var t=new be;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();t.append(n),e.pos++;var i=Un.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ut);break}}var a=t.length()-1,o=1,u=e.getCodewordCount()+a+o;e.updateSymbolInfo(u);var l=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||l)if(a<=249)t.setCharAt(0,Ue.getCharAt(a));else if(a<=1555)t.setCharAt(0,Ue.getCharAt(Math.floor(a/250)+249)),t.insert(1,Ue.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var c=0,n=t.length();c<n;c++)e.writeCodeword(this.randomize255State(t.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=149*t%255+1,i=e+n;return i<=255?i:i-256},r}(),Kd=function(){function r(){}return r.prototype.getEncodingMode=function(){return mr},r.prototype.encodeMaximal=function(e){for(var t=new be,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var u=Math.floor(t.length()/3*2),l=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(t.length()%3);(d===2&&c!==2||d===1&&(n>3||c!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(Vm),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new be;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,t),a=Math.floor(t.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var u=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new be;for(t.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,t,l,i));t.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,t,l,i);break}var c=t.length();if(c%3===0){var d=Un.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(ut);break}}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,i){var a=t.length(),o=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(o),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,n),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(rh)}else if(o===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(rh),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(o>0||e.hasMoreCharacters())&&e.writeCodeword(rh)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ut)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t),n},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,i=t%256,a=new be;return a.append(n),a.append(i),a.toString()},r}(),gD=function(){function r(){}return r.prototype.getEncodingMode=function(){return ur},r.prototype.encode=function(e){for(var t=new be;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var o=Un.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ut);break}}}t.append(Ue.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,u=this.encodeToCodewords(t.toString()),l=!e.hasMoreCharacters(),c=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}c?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(u)}finally{e.signalEncoderChange(ut)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Ue.getCharAt(e-64)):Un.illegalCharacter(Ue.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,o=t>=4?e.charAt(3).charCodeAt(0):0,u=(n<<18)+(i<<12)+(a<<6)+o,l=u>>16&255,c=u>>8&255,d=u&255,v=new be;return v.append(l),t>=2&&v.append(c),t>=3&&v.append(d),v.toString()},r}(),yD=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xD=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe=function(){function r(e,t,n,i,a,o,u,l){u===void 0&&(u=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=u,this.rsBlockError=l}return r.lookup=function(e,t,n,i,a){var o,u;t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=xD(mD),c=l.next();!c.done;c=l.next()){var d=c.value;if(!(t===1&&d.rectangular)&&!(t===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(v){o={error:v}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r}(),_D=function(r){yD(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(Qe),mD=[new Qe(!1,3,5,8,8,1),new Qe(!1,5,7,10,10,1),new Qe(!0,5,7,16,6,1),new Qe(!1,8,10,12,12,1),new Qe(!0,10,11,14,6,2),new Qe(!1,12,12,14,14,1),new Qe(!0,16,14,24,10,1),new Qe(!1,18,14,16,16,1),new Qe(!1,22,18,18,18,1),new Qe(!0,22,18,16,10,2),new Qe(!1,30,20,20,20,1),new Qe(!0,32,24,16,14,2),new Qe(!1,36,24,22,22,1),new Qe(!1,44,28,24,24,1),new Qe(!0,49,28,22,14,2),new Qe(!1,62,36,14,14,4),new Qe(!1,86,42,16,16,4),new Qe(!1,114,48,18,18,4),new Qe(!1,144,56,20,20,4),new Qe(!1,174,68,22,22,4),new Qe(!1,204,84,24,24,4,102,42),new Qe(!1,280,112,14,14,16,140,56),new Qe(!1,368,144,16,16,16,92,36),new Qe(!1,456,192,18,18,16,114,48),new Qe(!1,576,224,20,20,16,144,56),new Qe(!1,696,272,22,22,16,174,68),new Qe(!1,816,336,24,24,16,136,56),new Qe(!1,1050,408,18,18,36,175,68),new Qe(!1,1304,496,20,20,36,163,62),new _D],AD=function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(u){return u.charCodeAt(0)}),n=new be,i=0,a=t.length;i<a;i++){var o=String.fromCharCode(t[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new be,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Qe.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r}(),ED=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wD=function(r){ED(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Xt},e.prototype.encode=function(t){for(var n=new be;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(t,n);var o=Un.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(ut);break}}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):Un.illegalCharacter(Ue.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=n.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(dD),t.getNewEncoding()<0&&t.signalEncoderChange(ut)},e}(Kd),CD=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SD=function(r){CD(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Hr},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(t-128,n),i},e}(Kd),Un=function(){function r(){}return r.randomize253State=function(e){var t=149*e%253+1,n=d_+t;return n<=254?n:n-254},r.encodeHighLevel=function(e,t,n,i,a){t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new Kd,u=[new vD,o,new SD,new wD,new gD,new pD],l=new AD(e);l.setSymbolShape(t),l.setSizeConstraints(n,i),e.startsWith(v_)&&e.endsWith(g_)?(l.writeCodeword(sD),l.setSkipAtEnd(2),l.pos+=v_.length):e.startsWith(p_)&&e.endsWith(g_)&&(l.writeCodeword(fD),l.setSkipAtEnd(2),l.pos+=p_.length);var c=ut;for(a&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)u[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var v=l.getSymbolInfo().getDataCapacity();d<v&&c!==ut&&c!==Or&&c!==ur&&l.writeCodeword("þ");var g=l.getCodewords();for(g.length()<v&&g.append(d_);g.length()<v;)g.append(this.randomize253State(g.length()+1));return l.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var i=this.lookAheadTestIntern(e,t,n);if(n===Xt&&i===Xt){for(var a=Math.min(t+3,e.length),o=t;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ut}else if(n===ur&&i===ur){for(var a=Math.min(t+4,e.length),o=t;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ut}return i},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var i;n===ut?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),u=[];;){if(t+a===e.length){qt.fill(o,0),qt.fill(u,0);var l=this.findMinimums(i,u,Re.MAX_VALUE,o),c=this.getMinimumCount(o);if(u[ut]===l)return ut;if(c===1){if(o[Or]>0)return Or;if(o[ur]>0)return ur;if(o[Hr]>0)return Hr;if(o[Xt]>0)return Xt}return mr}var d=e.charCodeAt(t+a);if(a++,this.isDigit(d)?i[ut]+=.5:this.isExtendedASCII(d)?(i[ut]=Math.ceil(i[ut]),i[ut]+=2):(i[ut]=Math.ceil(i[ut]),i[ut]++),this.isNativeC40(d)?i[mr]+=2/3:this.isExtendedASCII(d)?i[mr]+=8/3:i[mr]+=4/3,this.isNativeText(d)?i[Hr]+=2/3:this.isExtendedASCII(d)?i[Hr]+=8/3:i[Hr]+=4/3,this.isNativeX12(d)?i[Xt]+=2/3:this.isExtendedASCII(d)?i[Xt]+=13/3:i[Xt]+=10/3,this.isNativeEDIFACT(d)?i[ur]+=3/4:this.isExtendedASCII(d)?i[ur]+=17/4:i[ur]+=13/4,this.isSpecialB256(d)?i[Or]+=4:i[Or]++,a>=4){if(qt.fill(o,0),qt.fill(u,0),this.findMinimums(i,u,Re.MAX_VALUE,o),u[ut]<this.min(u[Or],u[mr],u[Hr],u[Xt],u[ur]))return ut;if(u[Or]<u[ut]||u[Or]+1<this.min(u[mr],u[Hr],u[Xt],u[ur]))return Or;if(u[ur]+1<this.min(u[Or],u[mr],u[Hr],u[Xt],u[ut]))return ur;if(u[Hr]+1<this.min(u[Or],u[mr],u[ur],u[Xt],u[ut]))return Hr;if(u[Xt]+1<this.min(u[Or],u[mr],u[ur],u[Hr],u[ut]))return Xt;if(u[mr]+1<this.min(u[ut],u[Or],u[ur],u[Hr])){if(u[mr]<u[Xt])return mr;if(u[mr]===u[Xt]){for(var v=t+a+1;v<e.length;){var g=e.charCodeAt(v);if(this.isX12TermSep(g))return Xt;if(!this.isNativeX12(g))break;v++}return mr}}}}},r.min=function(e,t,n,i,a){var o=Math.min(e,Math.min(t,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},r.findMinimums=function(e,t,n,i){for(var a=0;a<6;a++){var o=t[a]=Math.ceil(e[a]);n>o&&(n=o,qt.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,i=t;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-t},r.illegalCharacter=function(e){var t=Re.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r}(),nh=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y_=function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return In.encode(e,this.charset)!=null}catch{return!1}},r}(),ID=function(){function r(e,t,n){var i,a,o,u,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(K){return new y_(rD.forName(K))}),this.encoders=[];var d=[];d.push(new y_(nD.ISO_8859_1));for(var v=t!=null&&t.name.startsWith("UTF"),g=0;g<e.length;g++){var y=!1;try{for(var m=(i=void 0,nh(d)),A=m.next();!A.done;A=m.next()){var E=A.value,w=e.charAt(g),C=w.charCodeAt(0);if(C===n||E.canEncode(w)){y=!0;break}}}catch(K){i={error:K}}finally{try{A&&!A.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(!y)try{for(var I=(o=void 0,nh(this.ENCODERS)),b=I.next();!b.done;b=I.next()){var E=b.value;if(E.canEncode(e.charAt(g))){d.push(E),y=!0;break}}}catch(K){o={error:K}}finally{try{b&&!b.done&&(u=I.return)&&u.call(I)}finally{if(o)throw o.error}}y||(v=!0)}if(d.length===1&&!v)this.encoders=[d[0]];else{this.encoders=[];var R=0;try{for(var M=nh(d),L=M.next();!L.done;L=M.next()){var E=L.value;this.encoders[R++]=E}}catch(K){l={error:K}}finally{try{L&&!L.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}}var z=-1;if(t!=null){for(var g=0;g<this.encoders.length;g++)if(this.encoders[g]!=null&&t.name===this.encoders[g].name){z=g;break}}this.priorityEncoderIndex=z}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return In.encode(Ue.getCharAt(e),this.encoders[t].name)},r}(),TD=3,bD=function(){function r(e,t,n){this.fnc1=n;var i=new ID(e,t,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new be,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,i,a,o){var u=e.charAt(i).charCodeAt(0),l=0,c=t.length();t.getPriorityEncoderIndex()>=0&&(u===o||t.canEncode(u,t.getPriorityEncoderIndex()))&&(l=t.getPriorityEncoderIndex(),c=l+1);for(var d=l;d<c;d++)(u===o||t.canEncode(u,d))&&this.addEdge(n,i+1,new x_(u,t,d,a,o))},r.prototype.encodeMinimally=function(e,t,n){var i=e.length,a=new x_[i+1][t.length()];this.addEdges(e,t,a,0,null,n);for(var o=1;o<=i;o++){for(var u=0;u<t.length();u++)a[o][u]!=null&&o<i&&this.addEdges(e,t,a,o,a[o][u],n);for(var u=0;u<t.length();u++)a[o-1][u]=null}for(var l=-1,c=Re.MAX_VALUE,u=0;u<t.length();u++)if(a[i][u]!=null){var d=a[i][u];d.cachedTotalSize<c&&(c=d.cachedTotalSize,l=u)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var v=[],g=a[i][l];g!=null;){if(g.isFNC1())v.unshift(1e3);else for(var y=t.encode(g.c,g.encoderIndex),o=y.length-1;o>=0;o--)v.unshift(y[o]&255);var m=g.previous===null?0:g.previous.encoderIndex;m!==g.encoderIndex&&v.unshift(256+t.getECIValue(g.encoderIndex)),g=g.previous}for(var A=[],o=0;o<A.length;o++)A[o]=v[o];return A},r}(),x_=function(){function r(e,t,n,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:t.encode(e,n).length,u=i===null?0:i.encoderIndex;u!==n&&(o+=TD),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return r.prototype.isFNC1=function(){return this.c===1e3},r}(),OD=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var __;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(__||(__={}));(function(r){OD(e,r);function e(t,n,i,a,o){var u=r.call(this,t,n,i)||this;return u.shape=a,u.macroId=o,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(bD);var DD=function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r}(),m_=function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r}(),RD=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}(),ND=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qd=function(r){ND(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Re.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(RD),MD=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BD=function(r){MD(e,r);function e(t,n,i){var a=r.call(this,t,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(qd);function PD(r,e,t){return new BD(r,e,t)}function ps(r,e,t){return new qd(r,e,t)}var LD=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sa=0,Wl=1,Cn=2,Gm=3,Qn=4,FD=new qd(null,0,0),ih=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],kD=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function UD(r){var e,t;try{for(var n=kD(r),i=n.next();!i.done;i=n.next()){var a=i.value;qt.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[sa][Qn]=0,r[Wl][Qn]=0,r[Wl][sa]=28,r[Gm][Qn]=0,r[Cn][Qn]=0,r[Cn][sa]=15,r}var zm=UD(qt.createInt32Array(6,6)),HD=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VD=function(){function r(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=ih[this.mode][e];i=ps(i,a&65535,a>>16),n+=a>>16}var o=e===Cn?4:5;return i=ps(i,t,o),new r(i,e,0,n+o)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,i=this.mode===Cn?4:5;return n=ps(n,zm[this.mode][e],i),n=ps(n,t,5),new r(n,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,i=this.bitCount;if(this.mode===Qn||this.mode===Cn){var a=ih[n][sa];t=ps(t,a&65535,a>>16),i+=a>>16,n=sa}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new r(t,n,this.binaryShiftByteCount+1,i+o);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=PD(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(ih[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new dr;try{for(var u=HD(i),l=u.next();!l.done;l=u.next()){var c=l.value;c.appendTo(o,e)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o},r.prototype.toString=function(){return Ue.format("%s bits=%d bytes=%d",LD[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(FD,sa,0,0),r}();function GD(r){var e=Ue.getCharCode(" "),t=Ue.getCharCode("."),n=Ue.getCharCode(",");r[sa][e]=1;for(var i=Ue.getCharCode("Z"),a=Ue.getCharCode("A"),o=a;o<=i;o++)r[sa][o]=o-a+2;r[Wl][e]=1;for(var u=Ue.getCharCode("z"),l=Ue.getCharCode("a"),o=l;o<=u;o++)r[Wl][o]=o-l+2;r[Cn][e]=1;for(var c=Ue.getCharCode("9"),d=Ue.getCharCode("0"),o=d;o<=c;o++)r[Cn][o]=o-d+2;r[Cn][n]=12,r[Cn][t]=13;for(var v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],g=0;g<v.length;g++)r[Gm][Ue.getCharCode(v[g])]=g;for(var y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<y.length;g++)Ue.getCharCode(y[g])>0&&(r[Qn][Ue.getCharCode(y[g])]=g);return r}var ah=GD(qt.createInt32Array(5,256)),xl=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zD=function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Ue.getCharCode(" "),t=Ue.getCharCode(`
`),n=m_.singletonList(VD.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Ue.getCharCode("\r"):a=o===t?2:0;break;case Ue.getCharCode("."):a=o===e?3:0;break;case Ue.getCharCode(","):a=o===e?4:0;break;case Ue.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=r.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var u=m_.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return u.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,i,a=[];try{for(var o=xl(e),u=o.next();!u.done;u=o.next()){var l=u.value;this.updateStateForChar(l,t,a)}}catch(c){n={error:c}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r.simplifyStates(a)},r.prototype.updateStateForChar=function(e,t,n){for(var i=this.text[t]&255,a=ah[e.getMode()][i]>0,o=null,u=0;u<=Qn;u++){var l=ah[u][i];if(l>0){if(o==null&&(o=e.endBinaryShift(t)),!a||u===e.getMode()||u===Cn){var c=o.latchAndAppend(u,l);n.push(c)}if(!a&&zm[e.getMode()][u]>=0){var d=o.shiftAndAppend(u,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||ah[e.getMode()][i]===0){var v=e.addBinaryShiftChar(t);n.push(v)}},r.updateStateListForPair=function(e,t,n){var i,a,o=[];try{for(var u=xl(e),l=u.next();!l.done;l=u.next()){var c=l.value;this.updateStateForPair(c,t,n,o)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(o)},r.updateStateForPair=function(e,t,n,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Qn,n)),e.getMode()!==Qn&&i.push(a.shiftAndAppend(Qn,n)),n===3||n===4){var o=a.latchAndAppend(Cn,16-n).latchAndAppend(Cn,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(u)}},r.simplifyStates=function(e){var t,n,i,a,o=[];try{for(var u=xl(e),l=u.next();!l.done;l=u.next()){var c=l.value,d=!0,v=function(E){if(E.isBetterThanOrEqualTo(c))return d=!1,"break";c.isBetterThanOrEqualTo(E)&&(o=o.filter(function(w){return w!==E}))};try{for(var g=(i=void 0,xl(o)),y=g.next();!y.done;y=g.next()){var m=y.value,A=v(m);if(A==="break")break}}catch(E){i={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}d&&o.push(c)}}catch(E){t={error:E}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o},r}(),XD=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var i=new zD(e).encode(),a=Re.truncDivision(i.getSize()*t,100)+11,o=i.getSize()+a,u,l,c,d,v;if(n!==r.DEFAULT_AZTEC_LAYERS){if(u=n<0,l=Math.abs(n),l>(u?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new xe(Ue.format("Illegal value %s for layers",n));c=r.totalBitsInLayer(l,u),d=r.WORD_SIZE[l];var g=c-c%d;if(v=r.stuffBits(i,d),v.getSize()+a>g)throw new xe("Data to large for user specified layer");if(u&&v.getSize()>d*64)throw new xe("Data to large for user specified layer")}else{d=0,v=null;for(var y=0;;y++){if(y>r.MAX_NB_BITS)throw new xe("Data too large for an Aztec code");if(u=y<=3,l=u?y+1:y,c=r.totalBitsInLayer(l,u),!(o>c)){(v==null||d!==r.WORD_SIZE[l])&&(d=r.WORD_SIZE[l],v=r.stuffBits(i,d));var g=c-c%d;if(!(u&&v.getSize()>d*64)&&v.getSize()+a<=g)break}}}var m=r.generateCheckWords(v,c,d),A=v.getSize()/d,E=r.generateModeMessage(u,l,A),w=(u?11:14)+l*4,C=new Int32Array(w),I;if(u){I=w;for(var y=0;y<C.length;y++)C[y]=y}else{I=w+1+2*Re.truncDivision(Re.truncDivision(w,2)-1,15);for(var b=Re.truncDivision(w,2),R=Re.truncDivision(I,2),y=0;y<b;y++){var M=y+Re.truncDivision(y,15);C[b-y-1]=R-M-1,C[b+y]=R+M+1}}for(var L=new ei(I),y=0,z=0;y<l;y++){for(var K=(l-y)*4+(u?9:12),Z=0;Z<K;Z++)for(var le=Z*2,te=0;te<2;te++)m.get(z+le+te)&&L.set(C[y*2+te],C[y*2+Z]),m.get(z+K*2+le+te)&&L.set(C[y*2+Z],C[w-1-y*2-te]),m.get(z+K*4+le+te)&&L.set(C[w-1-y*2-te],C[w-1-y*2-Z]),m.get(z+K*6+le+te)&&L.set(C[w-1-y*2-Z],C[y*2+te]);z+=K*8}if(r.drawModeMessage(L,u,I,E),u)r.drawBullsEye(L,Re.truncDivision(I,2),5);else{r.drawBullsEye(L,Re.truncDivision(I,2),7);for(var y=0,Z=0;y<Re.truncDivision(w,2)-1;y+=15,Z+=16)for(var te=Re.truncDivision(I,2)&1;te<I;te+=2)L.set(Re.truncDivision(I,2)-Z,te),L.set(Re.truncDivision(I,2)+Z,te),L.set(te,Re.truncDivision(I,2)-Z),L.set(te,Re.truncDivision(I,2)+Z)}var fe=new DD;return fe.setCompact(u),fe.setSize(I),fe.setLayers(l),fe.setCodeWords(A),fe.setMatrix(L),fe},r.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var i=new dr;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,t,n,i){var a=Re.truncDivision(n,2);if(t)for(var o=0;o<7;o++){var u=a-3+o;i.get(o)&&e.set(u,a-5),i.get(o+7)&&e.set(a+5,u),i.get(20-o)&&e.set(u,a+5),i.get(27-o)&&e.set(a-5,u)}else for(var o=0;o<10;o++){var u=a-5+o+Re.truncDivision(o,5);i.get(o)&&e.set(u,a-7),i.get(o+10)&&e.set(a+7,u),i.get(29-o)&&e.set(u,a+7),i.get(39-o)&&e.set(a-7,u)}},r.generateCheckWords=function(e,t,n){var i,a,o=e.getSize()/n,u=new Hm(r.getGF(n)),l=Re.truncDivision(t,n),c=r.bitsToWords(e,n,l);u.encode(c,l-o);var d=t%n,v=new dr;v.appendBits(0,d);try{for(var g=XD(Array.from(c)),y=g.next();!y.done;y=g.next()){var m=y.value;v.appendBits(m,n)}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}return v},r.bitsToWords=function(e,t,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/t;a<o;a++){for(var u=0,l=0;l<t;l++)u|=e.get(a*t+l)?1<<t-l-1:0;i[a]=u}return i},r.getGF=function(e){switch(e){case 4:return Zr.AZTEC_PARAM;case 6:return Zr.AZTEC_DATA_6;case 8:return Zr.AZTEC_DATA_8;case 10:return Zr.AZTEC_DATA_10;case 12:return Zr.AZTEC_DATA_12;default:throw new xe("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new dr,i=e.getSize(),a=(1<<t)-2,o=0;o<i;o+=t){for(var u=0,l=0;l<t;l++)(o+l>=i||e.get(o+l))&&(u|=1<<t-1-l);(u&a)===a?(n.appendBits(u&a,t),o--):(u&a)===0?(n.appendBits(u|1,t),o--):n.appendBits(u,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();const WD=({onDetected:r,setLastScanned:e})=>{const t=new Map;t.set(It.POSSIBLE_FORMATS,[de.CODE_128,de.EAN_13,de.UPC_A,de.UPC_E,de.EAN_8]);const{ref:n}=l7({onDecodeResult(i){const a=i.getText();console.log("✅ Scanned:",a),r(a),e(a)},onError(i){console.error("❌ Scan error:",i)},hints:t});return Se.jsxs("div",{className:"relative border-4 border-blue-500 animate-pulse rounded-lg overflow-hidden shadow-md",children:[Se.jsx("video",{ref:n,className:"w-full h-full"}),Se.jsxs("div",{className:"absolute bottom-0 w-full text-center bg-black bg-opacity-80 text-white text-xs py-1",children:["Scanning",Se.jsx("span",{className:"animate-pulse",children:"..."})]})]})},YD=({onDetected:r})=>{const[e,t]=W.useState(!1),[n,i]=W.useState("");return Se.jsxs("div",{className:"p-4 rounded-lg bg-white shadow-sm h-full w-full mx-auto",children:[Se.jsx("h2",{className:"text-sm font-semibold text-center mb-3",children:"Barcode Scanner"}),Se.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[Se.jsx("button",{onClick:()=>t(!0),disabled:e,className:"px-3 py-1 rounded-md text-sm bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:"Start Scanning"}),Se.jsx("button",{onClick:()=>t(!1),disabled:!e,className:"px-3 py-1 rounded-md text-sm bg-red-500 text-white hover:bg-red-600 disabled:opacity-50",children:"Stop Scanning"})]}),e?Se.jsx("div",{className:"h-[85%] flex justify-center",children:Se.jsx(WD,{onDetected:r,setLastScanned:i})}):Se.jsx("div",{className:"flex flex-col items-center text-gray-400 italic",children:Se.jsx("p",{children:"Scanner is off"})}),n&&Se.jsxs("div",{className:"mt-3 text-center text-green-600 text-sm font-medium",children:["✅ Scanned: ",Se.jsx("span",{className:"font-bold",children:n})]})]})},jD=()=>{const r=JSON.parse(localStorage.getItem("user")),e=n=>{const i=Jy(ex,r._id);vm(i,{barcode:n})},t=()=>{const n=Jy(ex,r._id);aI(n).then(()=>{console.log("🔴 Barcode data removed."),localStorage.clear(),window.location.reload()}).catch(i=>{console.error("❌ Error removing barcode data:",i),localStorage.clear(),window.location.reload()})};return Se.jsx("div",{className:"min-h-screen bg-white p-4 md:p-6 flex flex-col items-center justify-center",children:Se.jsxs("div",{className:"w-full h-full",children:[Se.jsx("div",{className:"mb-4 text-center",children:Se.jsxs("h1",{className:"text-xl md:text-2xl font-bold",children:["Welcome, ",r==null?void 0:r.username]})}),Se.jsx("div",{className:"w-full flex justify-center",children:Se.jsx("div",{className:"w-full",children:Se.jsx("div",{className:"aspect-[9/16] md:aspect-[16/9] rounded-lg overflow-hidden",children:Se.jsx(YD,{onDetected:e})})})}),Se.jsx("div",{className:"mt-6 text-center",children:Se.jsx("button",{onClick:t,className:"bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 transition",children:"Logout"})})]})})},$D=()=>{const[r,e]=W.useState(!1);return W.useEffect(()=>{localStorage.getItem("user")&&e(!0)},[]),Se.jsx(P8,{children:Se.jsxs(c8,{children:[Se.jsx(uh,{path:"/",element:r?Se.jsx(ay,{to:"/home"}):Se.jsx(W8,{})}),Se.jsx(uh,{path:"/home",element:r?Se.jsx(jD,{}):Se.jsx(ay,{to:"/"})})]})})};Aw.createRoot(document.getElementById("root")).render(Se.jsx($D,{}));
